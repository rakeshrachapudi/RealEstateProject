(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function RE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mc={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function IE(){if(Em)return Je;Em=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function S(E,P,K){this.props=E,this.context=P,this.refs=O,this.updater=K||C}S.prototype.isReactComponent={},S.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=S.prototype;function A(E,P,K){this.props=E,this.context=P,this.refs=O,this.updater=K||C}var U=A.prototype=new I;U.constructor=A,M(U,S.prototype),U.isPureReactComponent=!0;var F=Array.isArray,Q=Object.prototype.hasOwnProperty,J={current:null},Ie={key:!0,ref:!0,__self:!0,__source:!0};function Re(E,P,K){var ue,he={},Le=null,Ee=null;if(P!=null)for(ue in P.ref!==void 0&&(Ee=P.ref),P.key!==void 0&&(Le=""+P.key),P)Q.call(P,ue)&&!Ie.hasOwnProperty(ue)&&(he[ue]=P[ue]);var Ye=arguments.length-2;if(Ye===1)he.children=K;else if(1<Ye){for(var Ue=Array(Ye),Ke=0;Ke<Ye;Ke++)Ue[Ke]=arguments[Ke+2];he.children=Ue}if(E&&E.defaultProps)for(ue in Ye=E.defaultProps,Ye)he[ue]===void 0&&(he[ue]=Ye[ue]);return{$$typeof:t,type:E,key:Le,ref:Ee,props:he,_owner:J.current}}function W(E,P){return{$$typeof:t,type:E.type,key:P,ref:E.ref,props:E.props,_owner:E._owner}}function _(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function fe(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return P[K]})}var ge=/\/+/g;function q(E,P){return typeof E=="object"&&E!==null&&E.key!=null?fe(""+E.key):P.toString(36)}function oe(E,P,K,ue,he){var Le=typeof E;(Le==="undefined"||Le==="boolean")&&(E=null);var Ee=!1;if(E===null)Ee=!0;else switch(Le){case"string":case"number":Ee=!0;break;case"object":switch(E.$$typeof){case t:case r:Ee=!0}}if(Ee)return Ee=E,he=he(Ee),E=ue===""?"."+q(Ee,0):ue,F(he)?(K="",E!=null&&(K=E.replace(ge,"$&/")+"/"),oe(he,P,K,"",function(Ke){return Ke})):he!=null&&(_(he)&&(he=W(he,K+(!he.key||Ee&&Ee.key===he.key?"":(""+he.key).replace(ge,"$&/")+"/")+E)),P.push(he)),1;if(Ee=0,ue=ue===""?".":ue+":",F(E))for(var Ye=0;Ye<E.length;Ye++){Le=E[Ye];var Ue=ue+q(Le,Ye);Ee+=oe(Le,P,K,Ue,he)}else if(Ue=v(E),typeof Ue=="function")for(E=Ue.call(E),Ye=0;!(Le=E.next()).done;)Le=Le.value,Ue=ue+q(Le,Ye++),Ee+=oe(Le,P,K,Ue,he);else if(Le==="object")throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Ee}function X(E,P,K){if(E==null)return E;var ue=[],he=0;return oe(E,ue,"","",function(Le){return P.call(K,Le,he++)}),ue}function ae(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var Z={current:null},T={transition:null},j={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:T,ReactCurrentOwner:J};return Je.Children={map:X,forEach:function(E,P,K){X(E,function(){P.apply(this,arguments)},K)},count:function(E){var P=0;return X(E,function(){P++}),P},toArray:function(E){return X(E,function(P){return P})||[]},only:function(E){if(!_(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Je.Component=S,Je.Fragment=a,Je.Profiler=c,Je.PureComponent=A,Je.StrictMode=s,Je.Suspense=g,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,Je.cloneElement=function(E,P,K){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ue=M({},E.props),he=E.key,Le=E.ref,Ee=E._owner;if(P!=null){if(P.ref!==void 0&&(Le=P.ref,Ee=J.current),P.key!==void 0&&(he=""+P.key),E.type&&E.type.defaultProps)var Ye=E.type.defaultProps;for(Ue in P)Q.call(P,Ue)&&!Ie.hasOwnProperty(Ue)&&(ue[Ue]=P[Ue]===void 0&&Ye!==void 0?Ye[Ue]:P[Ue])}var Ue=arguments.length-2;if(Ue===1)ue.children=K;else if(1<Ue){Ye=Array(Ue);for(var Ke=0;Ke<Ue;Ke++)Ye[Ke]=arguments[Ke+2];ue.children=Ye}return{$$typeof:t,type:E.type,key:he,ref:Le,props:ue,_owner:Ee}},Je.createContext=function(E){return E={$$typeof:p,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},Je.createElement=Re,Je.createFactory=function(E){var P=Re.bind(null,E);return P.type=E,P},Je.createRef=function(){return{current:null}},Je.forwardRef=function(E){return{$$typeof:m,render:E}},Je.isValidElement=_,Je.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:ae}},Je.memo=function(E,P){return{$$typeof:h,type:E,compare:P===void 0?null:P}},Je.startTransition=function(E){var P=T.transition;T.transition={};try{E()}finally{T.transition=P}},Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Je.useCallback=function(E,P){return Z.current.useCallback(E,P)},Je.useContext=function(E){return Z.current.useContext(E)},Je.useDebugValue=function(){},Je.useDeferredValue=function(E){return Z.current.useDeferredValue(E)},Je.useEffect=function(E,P){return Z.current.useEffect(E,P)},Je.useId=function(){return Z.current.useId()},Je.useImperativeHandle=function(E,P,K){return Z.current.useImperativeHandle(E,P,K)},Je.useInsertionEffect=function(E,P){return Z.current.useInsertionEffect(E,P)},Je.useLayoutEffect=function(E,P){return Z.current.useLayoutEffect(E,P)},Je.useMemo=function(E,P){return Z.current.useMemo(E,P)},Je.useReducer=function(E,P,K){return Z.current.useReducer(E,P,K)},Je.useRef=function(E){return Z.current.useRef(E)},Je.useState=function(E){return Z.current.useState(E)},Je.useSyncExternalStore=function(E,P,K){return Z.current.useSyncExternalStore(E,P,K)},Je.useTransition=function(){return Z.current.useTransition()},Je.version="18.2.0",Je}var bm;function Fh(){return bm||(bm=1,Mc.exports=IE()),Mc.exports}var w=Fh();const o=RE(w);var ys={},zc={exports:{}},wn={},Lc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function PE(){return vm||(vm=1,(function(t){function r(T,j){var E=T.length;T.push(j);e:for(;0<E;){var P=E-1>>>1,K=T[P];if(0<c(K,j))T[P]=j,T[E]=K,E=P;else break e}}function a(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var j=T[0],E=T.pop();if(E!==j){T[0]=E;e:for(var P=0,K=T.length,ue=K>>>1;P<ue;){var he=2*(P+1)-1,Le=T[he],Ee=he+1,Ye=T[Ee];if(0>c(Le,E))Ee<K&&0>c(Ye,Le)?(T[P]=Ye,T[Ee]=E,P=Ee):(T[P]=Le,T[he]=E,P=he);else if(Ee<K&&0>c(Ye,E))T[P]=Ye,T[Ee]=E,P=Ee;else break e}}return j}function c(T,j){var E=T.sortIndex-j.sortIndex;return E!==0?E:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var p=Date,m=p.now();t.unstable_now=function(){return p.now()-m}}var g=[],h=[],x=1,b=null,v=3,C=!1,M=!1,O=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(T){for(var j=a(h);j!==null;){if(j.callback===null)s(h);else if(j.startTime<=T)s(h),j.sortIndex=j.expirationTime,r(g,j);else break;j=a(h)}}function F(T){if(O=!1,U(T),!M)if(a(g)!==null)M=!0,ae(Q);else{var j=a(h);j!==null&&Z(F,j.startTime-T)}}function Q(T,j){M=!1,O&&(O=!1,I(Re),Re=-1),C=!0;var E=v;try{for(U(j),b=a(g);b!==null&&(!(b.expirationTime>j)||T&&!fe());){var P=b.callback;if(typeof P=="function"){b.callback=null,v=b.priorityLevel;var K=P(b.expirationTime<=j);j=t.unstable_now(),typeof K=="function"?b.callback=K:b===a(g)&&s(g),U(j)}else s(g);b=a(g)}if(b!==null)var ue=!0;else{var he=a(h);he!==null&&Z(F,he.startTime-j),ue=!1}return ue}finally{b=null,v=E,C=!1}}var J=!1,Ie=null,Re=-1,W=5,_=-1;function fe(){return!(t.unstable_now()-_<W)}function ge(){if(Ie!==null){var T=t.unstable_now();_=T;var j=!0;try{j=Ie(!0,T)}finally{j?q():(J=!1,Ie=null)}}else J=!1}var q;if(typeof A=="function")q=function(){A(ge)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,X=oe.port2;oe.port1.onmessage=ge,q=function(){X.postMessage(null)}}else q=function(){S(ge,0)};function ae(T){Ie=T,J||(J=!0,q())}function Z(T,j){Re=S(function(){T(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){M||C||(M=!0,ae(Q))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return a(g)},t.unstable_next=function(T){switch(v){case 1:case 2:case 3:var j=3;break;default:j=v}var E=v;v=j;try{return T()}finally{v=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var E=v;v=T;try{return j()}finally{v=E}},t.unstable_scheduleCallback=function(T,j,E){var P=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?P+E:P):E=P,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=E+K,T={id:x++,callback:j,priorityLevel:T,startTime:E,expirationTime:K,sortIndex:-1},E>P?(T.sortIndex=E,r(h,T),a(g)===null&&T===a(h)&&(O?(I(Re),Re=-1):O=!0,Z(F,E-P))):(T.sortIndex=K,r(g,T),M||C||(M=!0,ae(Q))),T},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(T){var j=v;return function(){var E=v;v=j;try{return T.apply(this,arguments)}finally{v=E}}}})(Oc)),Oc}var Sm;function NE(){return Sm||(Sm=1,Lc.exports=PE()),Lc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function DE(){if(wm)return wn;wm=1;var t=Fh(),r=NE();function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,c={};function u(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(c[e]=n,e=0;e<n.length;e++)s.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},b={};function v(e){return g.call(b,e)?!0:g.call(x,e)?!1:h.test(e)?b[e]=!0:(x[e]=!0,!1)}function C(e,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,n,i,l){if(n===null||typeof n>"u"||C(e,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,i,l,d,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];S[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(I,A);S[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(I,A);S[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(I,A);S[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,n,i,l){var d=S.hasOwnProperty(n)?S[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(M(n,i,d,l)&&(i=null),l||d===null?v(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,n,i):e.setAttribute(n,i))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),J=Symbol.for("react.portal"),Ie=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),fe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),T=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var E=Object.assign,P;function K(e){if(P===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);P=n&&n[1]||""}return`
`+P+e}var ue=!1;function he(e,n){if(!e||ue)return"";ue=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Y){var l=Y}Reflect.construct(e,[],n)}else{try{n.call()}catch(Y){l=Y}e.call(n.prototype)}else{try{throw Error()}catch(Y){l=Y}e()}}catch(Y){if(Y&&l&&typeof Y.stack=="string"){for(var d=Y.stack.split(`
`),f=l.stack.split(`
`),y=d.length-1,R=f.length-1;1<=y&&0<=R&&d[y]!==f[R];)R--;for(;1<=y&&0<=R;y--,R--)if(d[y]!==f[R]){if(y!==1||R!==1)do if(y--,R--,0>R||d[y]!==f[R]){var N=`
`+d[y].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=y&&0<=R);break}}}finally{ue=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?K(e):""}function Le(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function Ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ie:return"Fragment";case J:return"Portal";case W:return"Profiler";case Re:return"StrictMode";case q:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fe:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:Ee(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return Ee(e(n))}catch{}}return null}function Ye(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(n);case 8:return n===Re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ye(e){var n=Ke(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function je(e){e._valueTracker||(e._valueTracker=ye(e))}function Mn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=Ke(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function yn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function An(e,n){var i=n.checked;return E({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function it(e,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=Ue(n.value!=null?n.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vt(e,n){n=n.checked,n!=null&&U(e,"checked",n,!1)}function Ze(e,n){Vt(e,n);var i=Ue(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ct(e,n.type,i):n.hasOwnProperty("defaultValue")&&ct(e,n.type,Ue(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Pt(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ct(e,n,i){(n!=="number"||yn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Yt=Array.isArray;function Xt(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Ue(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Qr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return E({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ad(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(a(92));if(Yt(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Ue(i)}}function Rd(e,n){var i=Ue(n.value),l=Ue(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Id(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gs(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Pd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ci,Nd=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,i,l,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ci=ci||document.createElement("div"),ci.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ia(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D0=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(e){D0.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),sa[n]=sa[e]})});function Dd(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||sa.hasOwnProperty(e)&&sa[e]?(""+n).trim():n+"px"}function Bd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=Dd(i,n[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var B0=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vs(e,n){if(n){if(B0[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function Ys(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function Ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qs=null,Eo=null,bo=null;function Md(e){if(e=Ia(e)){if(typeof Qs!="function")throw Error(a(280));var n=e.stateNode;n&&(n=Di(n),Qs(e.stateNode,e.type,n))}}function zd(e){Eo?bo?bo.push(e):bo=[e]:Eo=e}function Ld(){if(Eo){var e=Eo,n=bo;if(bo=Eo=null,Md(e),n)for(e=0;e<n.length;e++)Md(n[e])}}function Od(e,n){return e(n)}function $d(){}var Xs=!1;function Fd(e,n,i){if(Xs)return e(n,i);Xs=!0;try{return Od(e,n,i)}finally{Xs=!1,(Eo!==null||bo!==null)&&($d(),Ld())}}function la(e,n){var i=e.stateNode;if(i===null)return null;var l=Di(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Zs=!1;if(m)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Zs=!1}function M0(e,n,i,l,d,f,y,R,N){var Y=Array.prototype.slice.call(arguments,3);try{n.apply(i,Y)}catch(ce){this.onError(ce)}}var ua=!1,ui=null,di=!1,Js=null,z0={onError:function(e){ua=!0,ui=e}};function L0(e,n,i,l,d,f,y,R,N){ua=!1,ui=null,M0.apply(z0,arguments)}function O0(e,n,i,l,d,f,y,R,N){if(L0.apply(this,arguments),ua){if(ua){var Y=ui;ua=!1,ui=null}else throw Error(a(198));di||(di=!0,Js=Y)}}function Xr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function _d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ud(e){if(Xr(e)!==e)throw Error(a(188))}function $0(e){var n=e.alternate;if(!n){if(n=Xr(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Ud(d),e;if(f===l)return Ud(d),n;f=f.sibling}throw Error(a(188))}if(i.return!==l.return)i=d,l=f;else{for(var y=!1,R=d.child;R;){if(R===i){y=!0,i=d,l=f;break}if(R===l){y=!0,l=d,i=f;break}R=R.sibling}if(!y){for(R=f.child;R;){if(R===i){y=!0,i=f,l=d;break}if(R===l){y=!0,l=f,i=d;break}R=R.sibling}if(!y)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function Wd(e){return e=$0(e),e!==null?Hd(e):null}function Hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Hd(e);if(n!==null)return n;e=e.sibling}return null}var jd=r.unstable_scheduleCallback,Gd=r.unstable_cancelCallback,F0=r.unstable_shouldYield,_0=r.unstable_requestPaint,St=r.unstable_now,U0=r.unstable_getCurrentPriorityLevel,el=r.unstable_ImmediatePriority,Vd=r.unstable_UserBlockingPriority,pi=r.unstable_NormalPriority,W0=r.unstable_LowPriority,Yd=r.unstable_IdlePriority,fi=null,Jn=null;function H0(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:V0,j0=Math.log,G0=Math.LN2;function V0(e){return e>>>=0,e===0?32:31-(j0(e)/G0|0)|0}var mi=64,gi=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,y=i&268435455;if(y!==0){var R=y&~d;R!==0?l=da(R):(f&=y,f!==0&&(l=da(f)))}else y=i&~d,y!==0?l=da(y):f!==0&&(l=da(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-jn(n),d=1<<i,l|=e[i],n&=~d;return l}function Y0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-jn(f),R=1<<y,N=d[y];N===-1?((R&i)===0||(R&l)!==0)&&(d[y]=Y0(R,n)):N<=n&&(e.expiredLanes|=R),f&=~R}}function tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qd(){var e=mi;return mi<<=1,(mi&4194240)===0&&(mi=64),e}function nl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function pa(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-jn(n),e[n]=i}function K0(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-jn(i),f=1<<d;n[d]=0,l[d]=-1,e[d]=-1,i&=~f}}function rl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-jn(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}var st=0;function Kd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Qd,ol,Xd,Zd,Jd,al=!1,yi=[],kr=null,Cr=null,Tr=null,fa=new Map,ma=new Map,Ar=[],Q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(e,n){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":fa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(n.pointerId)}}function ga(e,n,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=Ia(n),n!==null&&ol(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function X0(e,n,i,l,d){switch(n){case"focusin":return kr=ga(kr,e,n,i,l,d),!0;case"dragenter":return Cr=ga(Cr,e,n,i,l,d),!0;case"mouseover":return Tr=ga(Tr,e,n,i,l,d),!0;case"pointerover":var f=d.pointerId;return fa.set(f,ga(fa.get(f)||null,e,n,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,ma.set(f,ga(ma.get(f)||null,e,n,i,l,d)),!0}return!1}function tp(e){var n=Zr(e.target);if(n!==null){var i=Xr(n);if(i!==null){if(n=i.tag,n===13){if(n=_d(i),n!==null){e.blockedOn=n,Jd(e.priority,function(){Xd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xi(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=sl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);qs=l,i.target.dispatchEvent(l),qs=null}else return n=Ia(i),n!==null&&ol(n),e.blockedOn=i,!1;n.shift()}return!0}function np(e,n,i){xi(e)&&i.delete(n)}function Z0(){al=!1,kr!==null&&xi(kr)&&(kr=null),Cr!==null&&xi(Cr)&&(Cr=null),Tr!==null&&xi(Tr)&&(Tr=null),fa.forEach(np),ma.forEach(np)}function ha(e,n){e.blockedOn===n&&(e.blockedOn=null,al||(al=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Z0)))}function ya(e){function n(d){return ha(d,e)}if(0<yi.length){ha(yi[0],e);for(var i=1;i<yi.length;i++){var l=yi[i];l.blockedOn===e&&(l.blockedOn=null)}}for(kr!==null&&ha(kr,e),Cr!==null&&ha(Cr,e),Tr!==null&&ha(Tr,e),fa.forEach(n),ma.forEach(n),i=0;i<Ar.length;i++)l=Ar[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Ar.length&&(i=Ar[0],i.blockedOn===null);)tp(i),i.blockedOn===null&&Ar.shift()}var vo=F.ReactCurrentBatchConfig,Ei=!0;function J0(e,n,i,l){var d=st,f=vo.transition;vo.transition=null;try{st=1,il(e,n,i,l)}finally{st=d,vo.transition=f}}function ex(e,n,i,l){var d=st,f=vo.transition;vo.transition=null;try{st=4,il(e,n,i,l)}finally{st=d,vo.transition=f}}function il(e,n,i,l){if(Ei){var d=sl(e,n,i,l);if(d===null)kl(e,n,l,bi,i),ep(e,l);else if(X0(d,e,n,i,l))l.stopPropagation();else if(ep(e,l),n&4&&-1<Q0.indexOf(e)){for(;d!==null;){var f=Ia(d);if(f!==null&&Qd(f),f=sl(e,n,i,l),f===null&&kl(e,n,l,bi,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else kl(e,n,l,null,i)}}var bi=null;function sl(e,n,i,l){if(bi=null,e=Ks(l),e=Zr(e),e!==null)if(n=Xr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=_d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return bi=e,null}function rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U0()){case el:return 1;case Vd:return 4;case pi:case W0:return 16;case Yd:return 536870912;default:return 16}default:return 16}}var Rr=null,ll=null,vi=null;function op(){if(vi)return vi;var e,n=ll,i=n.length,l,d="value"in Rr?Rr.value:Rr.textContent,f=d.length;for(e=0;e<i&&n[e]===d[e];e++);var y=i-e;for(l=1;l<=y&&n[i-l]===d[f-l];l++);return vi=d.slice(e,1<l?1-l:void 0)}function Si(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function ap(){return!1}function Rn(e){function n(i,l,d,f,y){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(f):f[R]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:ap,this.isPropagationStopped=ap,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=Rn(So),xa=E({},So,{view:0,detail:0}),tx=Rn(xa),ul,dl,Ea,ki=E({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(ul=e.screenX-Ea.screenX,dl=e.screenY-Ea.screenY):dl=ul=0,Ea=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),ip=Rn(ki),nx=E({},ki,{dataTransfer:0}),rx=Rn(nx),ox=E({},xa,{relatedTarget:0}),pl=Rn(ox),ax=E({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),ix=Rn(ax),sx=E({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lx=Rn(sx),cx=E({},So,{data:0}),sp=Rn(cx),ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=px[e])?!!n[e]:!1}function fl(){return fx}var mx=E({},xa,{key:function(e){if(e.key){var n=ux[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gx=Rn(mx),hx=E({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=Rn(hx),yx=E({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),xx=Rn(yx),Ex=E({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),bx=Rn(Ex),vx=E({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sx=Rn(vx),wx=[9,13,27,32],ml=m&&"CompositionEvent"in window,ba=null;m&&"documentMode"in document&&(ba=document.documentMode);var kx=m&&"TextEvent"in window&&!ba,cp=m&&(!ml||ba&&8<ba&&11>=ba),up=" ",dp=!1;function pp(e,n){switch(e){case"keyup":return wx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wo=!1;function Cx(e,n){switch(e){case"compositionend":return fp(n);case"keypress":return n.which!==32?null:(dp=!0,up);case"textInput":return e=n.data,e===up&&dp?null:e;default:return null}}function Tx(e,n){if(wo)return e==="compositionend"||!ml&&pp(e,n)?(e=op(),vi=ll=Rr=null,wo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cp&&n.locale!=="ko"?null:n.data;default:return null}}var Ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ax[e.type]:n==="textarea"}function gp(e,n,i,l){zd(l),n=Ii(n,"onChange"),0<n.length&&(i=new cl("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var va=null,Sa=null;function Rx(e){Bp(e,0)}function Ci(e){var n=Ro(e);if(Mn(n))return e}function Ix(e,n){if(e==="change")return n}var hp=!1;if(m){var gl;if(m){var hl="oninput"in document;if(!hl){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),hl=typeof yp.oninput=="function"}gl=hl}else gl=!1;hp=gl&&(!document.documentMode||9<document.documentMode)}function xp(){va&&(va.detachEvent("onpropertychange",Ep),Sa=va=null)}function Ep(e){if(e.propertyName==="value"&&Ci(Sa)){var n=[];gp(n,Sa,e,Ks(e)),Fd(Rx,n)}}function Px(e,n,i){e==="focusin"?(xp(),va=n,Sa=i,va.attachEvent("onpropertychange",Ep)):e==="focusout"&&xp()}function Nx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ci(Sa)}function Dx(e,n){if(e==="click")return Ci(n)}function Bx(e,n){if(e==="input"||e==="change")return Ci(n)}function Mx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Gn=typeof Object.is=="function"?Object.is:Mx;function wa(e,n){if(Gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!g.call(n,d)||!Gn(e[d],n[d]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,n){var i=bp(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=bp(i)}}function Sp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(){for(var e=window,n=yn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=yn(e.document)}return n}function yl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function zx(e){var n=wp(),i=e.focusedElem,l=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Sp(i.ownerDocument.documentElement,i)){if(l!==null&&yl(i)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=vp(i,f);var y=vp(i,l);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lx=m&&"documentMode"in document&&11>=document.documentMode,ko=null,xl=null,ka=null,El=!1;function kp(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;El||ko==null||ko!==yn(l)||(l=ko,"selectionStart"in l&&yl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ka&&wa(ka,l)||(ka=l,l=Ii(xl,"onSelect"),0<l.length&&(n=new cl("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=ko)))}function Ti(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Co={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},bl={},Cp={};m&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Ai(e){if(bl[e])return bl[e];if(!Co[e])return e;var n=Co[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Cp)return bl[e]=n[i];return e}var Tp=Ai("animationend"),Ap=Ai("animationiteration"),Rp=Ai("animationstart"),Ip=Ai("transitionend"),Pp=new Map,Np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,n){Pp.set(e,n),u(n,[e])}for(var vl=0;vl<Np.length;vl++){var Sl=Np[vl],Ox=Sl.toLowerCase(),$x=Sl[0].toUpperCase()+Sl.slice(1);Ir(Ox,"on"+$x)}Ir(Tp,"onAnimationEnd"),Ir(Ap,"onAnimationIteration"),Ir(Rp,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Ip,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Dp(e,n,i){var l=e.type||"unknown-event";e.currentTarget=i,O0(l,n,void 0,e),e.currentTarget=null}function Bp(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var R=l[y],N=R.instance,Y=R.currentTarget;if(R=R.listener,N!==f&&d.isPropagationStopped())break e;Dp(d,R,Y),f=N}else for(y=0;y<l.length;y++){if(R=l[y],N=R.instance,Y=R.currentTarget,R=R.listener,N!==f&&d.isPropagationStopped())break e;Dp(d,R,Y),f=N}}}if(di)throw e=Js,di=!1,Js=null,e}function mt(e,n){var i=n[Pl];i===void 0&&(i=n[Pl]=new Set);var l=e+"__bubble";i.has(l)||(Mp(n,e,2,!1),i.add(l))}function wl(e,n,i){var l=0;n&&(l|=4),Mp(i,e,l,n)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[Ri]){e[Ri]=!0,s.forEach(function(i){i!=="selectionchange"&&(Fx.has(i)||wl(i,!1,e),wl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ri]||(n[Ri]=!0,wl("selectionchange",!1,n))}}function Mp(e,n,i,l){switch(rp(n)){case 1:var d=J0;break;case 4:d=ex;break;default:d=il}i=d.bind(null,n,i,e),d=void 0,!Zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function kl(e,n,i,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var R=l.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&(N=y.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;y=y.return}for(;R!==null;){if(y=Zr(R),y===null)return;if(N=y.tag,N===5||N===6){l=f=y;continue e}R=R.parentNode}}l=l.return}Fd(function(){var Y=f,ce=Ks(i),pe=[];e:{var se=Pp.get(e);if(se!==void 0){var Se=cl,De=e;switch(e){case"keypress":if(Si(i)===0)break e;case"keydown":case"keyup":Se=gx;break;case"focusin":De="focus",Se=pl;break;case"focusout":De="blur",Se=pl;break;case"beforeblur":case"afterblur":Se=pl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=xx;break;case Tp:case Ap:case Rp:Se=ix;break;case Ip:Se=bx;break;case"scroll":Se=tx;break;case"wheel":Se=Sx;break;case"copy":case"cut":case"paste":Se=lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=lp}var Me=(n&4)!==0,wt=!Me&&e==="scroll",$=Me?se!==null?se+"Capture":null:se;Me=[];for(var L=Y,H;L!==null;){H=L;var me=H.stateNode;if(H.tag===5&&me!==null&&(H=me,$!==null&&(me=la(L,$),me!=null&&Me.push(Aa(L,me,H)))),wt)break;L=L.return}0<Me.length&&(se=new Se(se,De,null,i,ce),pe.push({event:se,listeners:Me}))}}if((n&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",Se=e==="mouseout"||e==="pointerout",se&&i!==qs&&(De=i.relatedTarget||i.fromElement)&&(Zr(De)||De[dr]))break e;if((Se||se)&&(se=ce.window===ce?ce:(se=ce.ownerDocument)?se.defaultView||se.parentWindow:window,Se?(De=i.relatedTarget||i.toElement,Se=Y,De=De?Zr(De):null,De!==null&&(wt=Xr(De),De!==wt||De.tag!==5&&De.tag!==6)&&(De=null)):(Se=null,De=Y),Se!==De)){if(Me=ip,me="onMouseLeave",$="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Me=lp,me="onPointerLeave",$="onPointerEnter",L="pointer"),wt=Se==null?se:Ro(Se),H=De==null?se:Ro(De),se=new Me(me,L+"leave",Se,i,ce),se.target=wt,se.relatedTarget=H,me=null,Zr(ce)===Y&&(Me=new Me($,L+"enter",De,i,ce),Me.target=H,Me.relatedTarget=wt,me=Me),wt=me,Se&&De)t:{for(Me=Se,$=De,L=0,H=Me;H;H=To(H))L++;for(H=0,me=$;me;me=To(me))H++;for(;0<L-H;)Me=To(Me),L--;for(;0<H-L;)$=To($),H--;for(;L--;){if(Me===$||$!==null&&Me===$.alternate)break t;Me=To(Me),$=To($)}Me=null}else Me=null;Se!==null&&zp(pe,se,Se,Me,!1),De!==null&&wt!==null&&zp(pe,wt,De,Me,!0)}}e:{if(se=Y?Ro(Y):window,Se=se.nodeName&&se.nodeName.toLowerCase(),Se==="select"||Se==="input"&&se.type==="file")var Oe=Ix;else if(mp(se))if(hp)Oe=Bx;else{Oe=Nx;var Fe=Px}else(Se=se.nodeName)&&Se.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Oe=Dx);if(Oe&&(Oe=Oe(e,Y))){gp(pe,Oe,i,ce);break e}Fe&&Fe(e,se,Y),e==="focusout"&&(Fe=se._wrapperState)&&Fe.controlled&&se.type==="number"&&ct(se,"number",se.value)}switch(Fe=Y?Ro(Y):window,e){case"focusin":(mp(Fe)||Fe.contentEditable==="true")&&(ko=Fe,xl=Y,ka=null);break;case"focusout":ka=xl=ko=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,kp(pe,i,ce);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":kp(pe,i,ce)}var _e;if(ml)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else wo?pp(e,i)&&(We="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(We="onCompositionStart");We&&(cp&&i.locale!=="ko"&&(wo||We!=="onCompositionStart"?We==="onCompositionEnd"&&wo&&(_e=op()):(Rr=ce,ll="value"in Rr?Rr.value:Rr.textContent,wo=!0)),Fe=Ii(Y,We),0<Fe.length&&(We=new sp(We,e,null,i,ce),pe.push({event:We,listeners:Fe}),_e?We.data=_e:(_e=fp(i),_e!==null&&(We.data=_e)))),(_e=kx?Cx(e,i):Tx(e,i))&&(Y=Ii(Y,"onBeforeInput"),0<Y.length&&(ce=new sp("onBeforeInput","beforeinput",null,i,ce),pe.push({event:ce,listeners:Y}),ce.data=_e))}Bp(pe,n)})}function Aa(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ii(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=la(e,i),f!=null&&l.unshift(Aa(e,f,d)),f=la(e,n),f!=null&&l.push(Aa(e,f,d))),e=e.return}return l}function To(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zp(e,n,i,l,d){for(var f=n._reactName,y=[];i!==null&&i!==l;){var R=i,N=R.alternate,Y=R.stateNode;if(N!==null&&N===l)break;R.tag===5&&Y!==null&&(R=Y,d?(N=la(i,f),N!=null&&y.unshift(Aa(i,N,R))):d||(N=la(i,f),N!=null&&y.push(Aa(i,N,R)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var _x=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function Lp(e){return(typeof e=="string"?e:""+e).replace(_x,`
`).replace(Ux,"")}function Pi(e,n,i){if(n=Lp(n),Lp(e)!==n&&i)throw Error(a(425))}function Ni(){}var Cl=null,Tl=null;function Al(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(e){return Op.resolve(null).then(e).catch(jx)}:Rl;function jx(e){setTimeout(function(){throw e})}function Il(e,n){var i=n,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),ya(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);ya(n)}function Pr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function $p(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),er="__reactFiber$"+Ao,Ra="__reactProps$"+Ao,dr="__reactContainer$"+Ao,Pl="__reactEvents$"+Ao,Gx="__reactListeners$"+Ao,Vx="__reactHandles$"+Ao;function Zr(e){var n=e[er];if(n)return n;for(var i=e.parentNode;i;){if(n=i[dr]||i[er]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=$p(e);e!==null;){if(i=e[er])return i;e=$p(e)}return n}e=i,i=e.parentNode}return null}function Ia(e){return e=e[er]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Di(e){return e[Ra]||null}var Nl=[],Io=-1;function Nr(e){return{current:e}}function gt(e){0>Io||(e.current=Nl[Io],Nl[Io]=null,Io--)}function pt(e,n){Io++,Nl[Io]=e.current,e.current=n}var Dr={},Zt=Nr(Dr),xn=Nr(!1),Jr=Dr;function Po(e,n){var i=e.type.contextTypes;if(!i)return Dr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function En(e){return e=e.childContextTypes,e!=null}function Bi(){gt(xn),gt(Zt)}function Fp(e,n,i){if(Zt.current!==Dr)throw Error(a(168));pt(Zt,n),pt(xn,i)}function _p(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(a(108,Ye(e)||"Unknown",d));return E({},i,l)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,Jr=Zt.current,pt(Zt,e),pt(xn,xn.current),!0}function Up(e,n,i){var l=e.stateNode;if(!l)throw Error(a(169));i?(e=_p(e,n,Jr),l.__reactInternalMemoizedMergedChildContext=e,gt(xn),gt(Zt),pt(Zt,e)):gt(xn),pt(xn,i)}var pr=null,zi=!1,Dl=!1;function Wp(e){pr===null?pr=[e]:pr.push(e)}function Yx(e){zi=!0,Wp(e)}function Br(){if(!Dl&&pr!==null){Dl=!0;var e=0,n=st;try{var i=pr;for(st=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}pr=null,zi=!1}catch(d){throw pr!==null&&(pr=pr.slice(e+1)),jd(el,Br),d}finally{st=n,Dl=!1}}return null}var No=[],Do=0,Li=null,Oi=0,zn=[],Ln=0,eo=null,fr=1,mr="";function to(e,n){No[Do++]=Oi,No[Do++]=Li,Li=e,Oi=n}function Hp(e,n,i){zn[Ln++]=fr,zn[Ln++]=mr,zn[Ln++]=eo,eo=e;var l=fr;e=mr;var d=32-jn(l)-1;l&=~(1<<d),i+=1;var f=32-jn(n)+d;if(30<f){var y=d-d%5;f=(l&(1<<y)-1).toString(32),l>>=y,d-=y,fr=1<<32-jn(n)+d|i<<d|l,mr=f+e}else fr=1<<f|i<<d|l,mr=e}function Bl(e){e.return!==null&&(to(e,1),Hp(e,1,0))}function Ml(e){for(;e===Li;)Li=No[--Do],No[Do]=null,Oi=No[--Do],No[Do]=null;for(;e===eo;)eo=zn[--Ln],zn[Ln]=null,mr=zn[--Ln],zn[Ln]=null,fr=zn[--Ln],zn[Ln]=null}var In=null,Pn=null,ht=!1,Vn=null;function jp(e,n){var i=_n(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Gp(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,In=e,Pn=Pr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,In=e,Pn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=eo!==null?{id:fr,overflow:mr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=_n(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,In=e,Pn=null,!0):!1;default:return!1}}function zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(ht){var n=Pn;if(n){var i=n;if(!Gp(e,n)){if(zl(e))throw Error(a(418));n=Pr(i.nextSibling);var l=In;n&&Gp(e,n)?jp(l,i):(e.flags=e.flags&-4097|2,ht=!1,In=e)}}else{if(zl(e))throw Error(a(418));e.flags=e.flags&-4097|2,ht=!1,In=e}}}function Vp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function $i(e){if(e!==In)return!1;if(!ht)return Vp(e),ht=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Al(e.type,e.memoizedProps)),n&&(n=Pn)){if(zl(e))throw Yp(),Error(a(418));for(;n;)jp(e,n),n=Pr(n.nextSibling)}if(Vp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Pn=Pr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Pn=null}}else Pn=In?Pr(e.stateNode.nextSibling):null;return!0}function Yp(){for(var e=Pn;e;)e=Pr(e.nextSibling)}function Bo(){Pn=In=null,ht=!1}function Ol(e){Vn===null?Vn=[e]:Vn.push(e)}var qx=F.ReactCurrentBatchConfig;function Yn(e,n){if(e&&e.defaultProps){n=E({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}var Fi=Nr(null),_i=null,Mo=null,$l=null;function Fl(){$l=Mo=_i=null}function _l(e){var n=Fi.current;gt(Fi),e._currentValue=n}function Ul(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function zo(e,n){_i=e,$l=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(bn=!0),e.firstContext=null)}function On(e){var n=e._currentValue;if($l!==e)if(e={context:e,memoizedValue:n,next:null},Mo===null){if(_i===null)throw Error(a(308));Mo=e,_i.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return n}var no=null;function Wl(e){no===null?no=[e]:no.push(e)}function qp(e,n,i,l){var d=n.interleaved;return d===null?(i.next=i,Wl(n)):(i.next=d.next,d.next=i),n.interleaved=i,gr(e,l)}function gr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Mr=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function zr(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,gr(e,i)}return d=l.interleaved,d===null?(n.next=n,Wl(l)):(n.next=d.next,d.next=n),l.interleaved=n,gr(e,i)}function Ui(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,rl(e,i)}}function Qp(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?d=f=n:f=f.next=n}else d=f=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Wi(e,n,i,l){var d=e.updateQueue;Mr=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var N=R,Y=N.next;N.next=null,y===null?f=Y:y.next=Y,y=N;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==y&&(R===null?ce.firstBaseUpdate=Y:R.next=Y,ce.lastBaseUpdate=N))}if(f!==null){var pe=d.baseState;y=0,ce=Y=N=null,R=f;do{var se=R.lane,Se=R.eventTime;if((l&se)===se){ce!==null&&(ce=ce.next={eventTime:Se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var De=e,Me=R;switch(se=n,Se=i,Me.tag){case 1:if(De=Me.payload,typeof De=="function"){pe=De.call(Se,pe,se);break e}pe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Me.payload,se=typeof De=="function"?De.call(Se,pe,se):De,se==null)break e;pe=E({},pe,se);break e;case 2:Mr=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,se=d.effects,se===null?d.effects=[R]:se.push(R))}else Se={eventTime:Se,lane:se,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(Y=ce=Se,N=pe):ce=ce.next=Se,y|=se;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;se=R,R=se.next,se.next=null,d.lastBaseUpdate=se,d.shared.pending=null}}while(!0);if(ce===null&&(N=pe),d.baseState=N,d.firstBaseUpdate=Y,d.lastBaseUpdate=ce,n=d.shared.interleaved,n!==null){d=n;do y|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);ao|=y,e.lanes=y,e.memoizedState=pe}}function Xp(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(a(191,d));d.call(l)}}}var Zp=new t.Component().refs;function jl(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:E({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hi={isMounted:function(e){return(e=e._reactInternals)?Xr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=dn(),d=Fr(e),f=hr(l,d);f.payload=n,i!=null&&(f.callback=i),n=zr(e,f,d),n!==null&&(Qn(n,e,d,l),Ui(n,e,d))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=dn(),d=Fr(e),f=hr(l,d);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=zr(e,f,d),n!==null&&(Qn(n,e,d,l),Ui(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=dn(),l=Fr(e),d=hr(i,l);d.tag=2,n!=null&&(d.callback=n),n=zr(e,d,l),n!==null&&(Qn(n,e,l,i),Ui(n,e,l))}};function Jp(e,n,i,l,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!wa(i,l)||!wa(d,f):!0}function ef(e,n,i){var l=!1,d=Dr,f=n.contextType;return typeof f=="object"&&f!==null?f=On(f):(d=En(n)?Jr:Zt.current,l=n.contextTypes,f=(l=l!=null)?Po(e,d):Dr),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Hi,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function tf(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Hi.enqueueReplaceState(n,n.state,null)}function Gl(e,n,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs=Zp,Hl(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=On(f):(f=En(n)?Jr:Zt.current,d.context=Po(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(jl(e,n,f,i),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Hi.enqueueReplaceState(d,d.state,null),Wi(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Pa(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var l=i.stateNode}if(!l)throw Error(a(147,e));var d=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var R=d.refs;R===Zp&&(R=d.refs={}),y===null?delete R[f]:R[f]=y},n._stringRef=f,n)}if(typeof e!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function ji(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nf(e){var n=e._init;return n(e._payload)}function rf(e){function n($,L){if(e){var H=$.deletions;H===null?($.deletions=[L],$.flags|=16):H.push(L)}}function i($,L){if(!e)return null;for(;L!==null;)n($,L),L=L.sibling;return null}function l($,L){for($=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function d($,L){return $=Ur($,L),$.index=0,$.sibling=null,$}function f($,L,H){return $.index=H,e?(H=$.alternate,H!==null?(H=H.index,H<L?($.flags|=2,L):H):($.flags|=2,L)):($.flags|=1048576,L)}function y($){return e&&$.alternate===null&&($.flags|=2),$}function R($,L,H,me){return L===null||L.tag!==6?(L=Rc(H,$.mode,me),L.return=$,L):(L=d(L,H),L.return=$,L)}function N($,L,H,me){var Oe=H.type;return Oe===Ie?ce($,L,H.props.children,me,H.key):L!==null&&(L.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ae&&nf(Oe)===L.type)?(me=d(L,H.props),me.ref=Pa($,L,H),me.return=$,me):(me=cs(H.type,H.key,H.props,null,$.mode,me),me.ref=Pa($,L,H),me.return=$,me)}function Y($,L,H,me){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Ic(H,$.mode,me),L.return=$,L):(L=d(L,H.children||[]),L.return=$,L)}function ce($,L,H,me,Oe){return L===null||L.tag!==7?(L=co(H,$.mode,me,Oe),L.return=$,L):(L=d(L,H),L.return=$,L)}function pe($,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Rc(""+L,$.mode,H),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return H=cs(L.type,L.key,L.props,null,$.mode,H),H.ref=Pa($,null,L),H.return=$,H;case J:return L=Ic(L,$.mode,H),L.return=$,L;case ae:var me=L._init;return pe($,me(L._payload),H)}if(Yt(L)||j(L))return L=co(L,$.mode,H,null),L.return=$,L;ji($,L)}return null}function se($,L,H,me){var Oe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Oe!==null?null:R($,L,""+H,me);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:return H.key===Oe?N($,L,H,me):null;case J:return H.key===Oe?Y($,L,H,me):null;case ae:return Oe=H._init,se($,L,Oe(H._payload),me)}if(Yt(H)||j(H))return Oe!==null?null:ce($,L,H,me,null);ji($,H)}return null}function Se($,L,H,me,Oe){if(typeof me=="string"&&me!==""||typeof me=="number")return $=$.get(H)||null,R(L,$,""+me,Oe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Q:return $=$.get(me.key===null?H:me.key)||null,N(L,$,me,Oe);case J:return $=$.get(me.key===null?H:me.key)||null,Y(L,$,me,Oe);case ae:var Fe=me._init;return Se($,L,H,Fe(me._payload),Oe)}if(Yt(me)||j(me))return $=$.get(H)||null,ce(L,$,me,Oe,null);ji(L,me)}return null}function De($,L,H,me){for(var Oe=null,Fe=null,_e=L,We=L=0,Ot=null;_e!==null&&We<H.length;We++){_e.index>We?(Ot=_e,_e=null):Ot=_e.sibling;var at=se($,_e,H[We],me);if(at===null){_e===null&&(_e=Ot);break}e&&_e&&at.alternate===null&&n($,_e),L=f(at,L,We),Fe===null?Oe=at:Fe.sibling=at,Fe=at,_e=Ot}if(We===H.length)return i($,_e),ht&&to($,We),Oe;if(_e===null){for(;We<H.length;We++)_e=pe($,H[We],me),_e!==null&&(L=f(_e,L,We),Fe===null?Oe=_e:Fe.sibling=_e,Fe=_e);return ht&&to($,We),Oe}for(_e=l($,_e);We<H.length;We++)Ot=Se(_e,$,We,H[We],me),Ot!==null&&(e&&Ot.alternate!==null&&_e.delete(Ot.key===null?We:Ot.key),L=f(Ot,L,We),Fe===null?Oe=Ot:Fe.sibling=Ot,Fe=Ot);return e&&_e.forEach(function(Wr){return n($,Wr)}),ht&&to($,We),Oe}function Me($,L,H,me){var Oe=j(H);if(typeof Oe!="function")throw Error(a(150));if(H=Oe.call(H),H==null)throw Error(a(151));for(var Fe=Oe=null,_e=L,We=L=0,Ot=null,at=H.next();_e!==null&&!at.done;We++,at=H.next()){_e.index>We?(Ot=_e,_e=null):Ot=_e.sibling;var Wr=se($,_e,at.value,me);if(Wr===null){_e===null&&(_e=Ot);break}e&&_e&&Wr.alternate===null&&n($,_e),L=f(Wr,L,We),Fe===null?Oe=Wr:Fe.sibling=Wr,Fe=Wr,_e=Ot}if(at.done)return i($,_e),ht&&to($,We),Oe;if(_e===null){for(;!at.done;We++,at=H.next())at=pe($,at.value,me),at!==null&&(L=f(at,L,We),Fe===null?Oe=at:Fe.sibling=at,Fe=at);return ht&&to($,We),Oe}for(_e=l($,_e);!at.done;We++,at=H.next())at=Se(_e,$,We,at.value,me),at!==null&&(e&&at.alternate!==null&&_e.delete(at.key===null?We:at.key),L=f(at,L,We),Fe===null?Oe=at:Fe.sibling=at,Fe=at);return e&&_e.forEach(function(AE){return n($,AE)}),ht&&to($,We),Oe}function wt($,L,H,me){if(typeof H=="object"&&H!==null&&H.type===Ie&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:e:{for(var Oe=H.key,Fe=L;Fe!==null;){if(Fe.key===Oe){if(Oe=H.type,Oe===Ie){if(Fe.tag===7){i($,Fe.sibling),L=d(Fe,H.props.children),L.return=$,$=L;break e}}else if(Fe.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ae&&nf(Oe)===Fe.type){i($,Fe.sibling),L=d(Fe,H.props),L.ref=Pa($,Fe,H),L.return=$,$=L;break e}i($,Fe);break}else n($,Fe);Fe=Fe.sibling}H.type===Ie?(L=co(H.props.children,$.mode,me,H.key),L.return=$,$=L):(me=cs(H.type,H.key,H.props,null,$.mode,me),me.ref=Pa($,L,H),me.return=$,$=me)}return y($);case J:e:{for(Fe=H.key;L!==null;){if(L.key===Fe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){i($,L.sibling),L=d(L,H.children||[]),L.return=$,$=L;break e}else{i($,L);break}else n($,L);L=L.sibling}L=Ic(H,$.mode,me),L.return=$,$=L}return y($);case ae:return Fe=H._init,wt($,L,Fe(H._payload),me)}if(Yt(H))return De($,L,H,me);if(j(H))return Me($,L,H,me);ji($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(i($,L.sibling),L=d(L,H),L.return=$,$=L):(i($,L),L=Rc(H,$.mode,me),L.return=$,$=L),y($)):i($,L)}return wt}var Lo=rf(!0),of=rf(!1),Na={},tr=Nr(Na),Da=Nr(Na),Ba=Nr(Na);function ro(e){if(e===Na)throw Error(a(174));return e}function Vl(e,n){switch(pt(Ba,n),pt(Da,e),pt(tr,Na),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Gs(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Gs(n,e)}gt(tr),pt(tr,n)}function Oo(){gt(tr),gt(Da),gt(Ba)}function af(e){ro(Ba.current);var n=ro(tr.current),i=Gs(n,e.type);n!==i&&(pt(Da,e),pt(tr,i))}function Yl(e){Da.current===e&&(gt(tr),gt(Da))}var yt=Nr(0);function Gi(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ql=[];function Kl(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Vi=F.ReactCurrentDispatcher,Ql=F.ReactCurrentBatchConfig,oo=0,xt=null,Nt=null,zt=null,Yi=!1,Ma=!1,za=0,Kx=0;function Jt(){throw Error(a(321))}function Xl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Gn(e[i],n[i]))return!1;return!0}function Zl(e,n,i,l,d,f){if(oo=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Vi.current=e===null||e.memoizedState===null?Jx:eE,e=i(l,d),Ma){f=0;do{if(Ma=!1,za=0,25<=f)throw Error(a(301));f+=1,zt=Nt=null,n.updateQueue=null,Vi.current=tE,e=i(l,d)}while(Ma)}if(Vi.current=Qi,n=Nt!==null&&Nt.next!==null,oo=0,zt=Nt=xt=null,Yi=!1,n)throw Error(a(300));return e}function Jl(){var e=za!==0;return za=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?xt.memoizedState=zt=e:zt=zt.next=e,zt}function $n(){if(Nt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var n=zt===null?xt.memoizedState:zt.next;if(n!==null)zt=n,Nt=e;else{if(e===null)throw Error(a(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},zt===null?xt.memoizedState=zt=e:zt=zt.next=e}return zt}function La(e,n){return typeof n=="function"?n(e):n}function ec(e){var n=$n(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=Nt,d=l.baseQueue,f=i.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}l.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,l=l.baseState;var R=y=null,N=null,Y=f;do{var ce=Y.lane;if((oo&ce)===ce)N!==null&&(N=N.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),l=Y.hasEagerState?Y.eagerState:e(l,Y.action);else{var pe={lane:ce,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};N===null?(R=N=pe,y=l):N=N.next=pe,xt.lanes|=ce,ao|=ce}Y=Y.next}while(Y!==null&&Y!==f);N===null?y=l:N.next=R,Gn(l,n.memoizedState)||(bn=!0),n.memoizedState=l,n.baseState=y,n.baseQueue=N,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do f=d.lane,xt.lanes|=f,ao|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function tc(e){var n=$n(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=n.memoizedState;if(d!==null){i.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);Gn(f,n.memoizedState)||(bn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function sf(){}function lf(e,n){var i=xt,l=$n(),d=n(),f=!Gn(l.memoizedState,d);if(f&&(l.memoizedState=d,bn=!0),l=l.queue,nc(df.bind(null,i,l,e),[e]),l.getSnapshot!==n||f||zt!==null&&zt.memoizedState.tag&1){if(i.flags|=2048,Oa(9,uf.bind(null,i,l,d,n),void 0,null),Lt===null)throw Error(a(349));(oo&30)!==0||cf(i,n,d)}return d}function cf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=xt.updateQueue,n===null?(n={lastEffect:null,stores:null},xt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function uf(e,n,i,l){n.value=i,n.getSnapshot=l,pf(n)&&ff(e)}function df(e,n,i){return i(function(){pf(n)&&ff(e)})}function pf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Gn(e,i)}catch{return!0}}function ff(e){var n=gr(e,1);n!==null&&Qn(n,e,1,-1)}function mf(e){var n=nr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},n.queue=e,e=e.dispatch=Zx.bind(null,xt,e),[n.memoizedState,e]}function Oa(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=xt.updateQueue,n===null?(n={lastEffect:null,stores:null},xt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function gf(){return $n().memoizedState}function qi(e,n,i,l){var d=nr();xt.flags|=e,d.memoizedState=Oa(1|n,i,void 0,l===void 0?null:l)}function Ki(e,n,i,l){var d=$n();l=l===void 0?null:l;var f=void 0;if(Nt!==null){var y=Nt.memoizedState;if(f=y.destroy,l!==null&&Xl(l,y.deps)){d.memoizedState=Oa(n,i,f,l);return}}xt.flags|=e,d.memoizedState=Oa(1|n,i,f,l)}function hf(e,n){return qi(8390656,8,e,n)}function nc(e,n){return Ki(2048,8,e,n)}function yf(e,n){return Ki(4,2,e,n)}function xf(e,n){return Ki(4,4,e,n)}function Ef(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bf(e,n,i){return i=i!=null?i.concat([e]):null,Ki(4,4,Ef.bind(null,n,e),i)}function rc(){}function vf(e,n){var i=$n();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&Xl(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function Sf(e,n){var i=$n();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&Xl(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function wf(e,n,i){return(oo&21)===0?(e.baseState&&(e.baseState=!1,bn=!0),e.memoizedState=i):(Gn(i,n)||(i=qd(),xt.lanes|=i,ao|=i,e.baseState=!0),n)}function Qx(e,n){var i=st;st=i!==0&&4>i?i:4,e(!0);var l=Ql.transition;Ql.transition={};try{e(!1),n()}finally{st=i,Ql.transition=l}}function kf(){return $n().memoizedState}function Xx(e,n,i){var l=Fr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},Cf(e))Tf(n,i);else if(i=qp(e,n,i,l),i!==null){var d=dn();Qn(i,e,l,d),Af(i,n,l)}}function Zx(e,n,i){var l=Fr(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))Tf(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,R=f(y,i);if(d.hasEagerState=!0,d.eagerState=R,Gn(R,y)){var N=n.interleaved;N===null?(d.next=d,Wl(n)):(d.next=N.next,N.next=d),n.interleaved=d;return}}catch{}finally{}i=qp(e,n,d,l),i!==null&&(d=dn(),Qn(i,e,l,d),Af(i,n,l))}}function Cf(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Tf(e,n){Ma=Yi=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Af(e,n,i){if((i&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,rl(e,i)}}var Qi={readContext:On,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Jx={readContext:On,useCallback:function(e,n){return nr().memoizedState=[e,n===void 0?null:n],e},useContext:On,useEffect:hf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,qi(4194308,4,Ef.bind(null,n,e),i)},useLayoutEffect:function(e,n){return qi(4194308,4,e,n)},useInsertionEffect:function(e,n){return qi(4,2,e,n)},useMemo:function(e,n){var i=nr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=nr();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Xx.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var n=nr();return e={current:e},n.memoizedState=e},useState:mf,useDebugValue:rc,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=mf(!1),n=e[0];return e=Qx.bind(null,e[1]),nr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=xt,d=nr();if(ht){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Lt===null)throw Error(a(349));(oo&30)!==0||cf(l,n,i)}d.memoizedState=i;var f={value:i,getSnapshot:n};return d.queue=f,hf(df.bind(null,l,f,e),[e]),l.flags|=2048,Oa(9,uf.bind(null,l,f,i,n),void 0,null),i},useId:function(){var e=nr(),n=Lt.identifierPrefix;if(ht){var i=mr,l=fr;i=(l&~(1<<32-jn(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=za++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Kx++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},eE={readContext:On,useCallback:vf,useContext:On,useEffect:nc,useImperativeHandle:bf,useInsertionEffect:yf,useLayoutEffect:xf,useMemo:Sf,useReducer:ec,useRef:gf,useState:function(){return ec(La)},useDebugValue:rc,useDeferredValue:function(e){var n=$n();return wf(n,Nt.memoizedState,e)},useTransition:function(){var e=ec(La)[0],n=$n().memoizedState;return[e,n]},useMutableSource:sf,useSyncExternalStore:lf,useId:kf,unstable_isNewReconciler:!1},tE={readContext:On,useCallback:vf,useContext:On,useEffect:nc,useImperativeHandle:bf,useInsertionEffect:yf,useLayoutEffect:xf,useMemo:Sf,useReducer:tc,useRef:gf,useState:function(){return tc(La)},useDebugValue:rc,useDeferredValue:function(e){var n=$n();return Nt===null?n.memoizedState=e:wf(n,Nt.memoizedState,e)},useTransition:function(){var e=tc(La)[0],n=$n().memoizedState;return[e,n]},useMutableSource:sf,useSyncExternalStore:lf,useId:kf,unstable_isNewReconciler:!1};function $o(e,n){try{var i="",l=n;do i+=Le(l),l=l.return;while(l);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function oc(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function ac(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function Rf(e,n,i){i=hr(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){rs||(rs=!0,bc=l),ac(e,n)},i}function If(e,n,i){i=hr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;i.payload=function(){return l(d)},i.callback=function(){ac(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){ac(e,n),typeof l!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function Pf(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new nE;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(d.add(i),e=hE.bind(null,e,n,i),n.then(e,e))}function Nf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Df(e,n,i,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=hr(-1,1),n.tag=2,zr(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var rE=F.ReactCurrentOwner,bn=!1;function un(e,n,i,l){n.child=e===null?of(n,null,i,l):Lo(n,e.child,i,l)}function Bf(e,n,i,l,d){i=i.render;var f=n.ref;return zo(n,d),l=Zl(e,n,i,l,f,d),i=Jl(),e!==null&&!bn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,yr(e,n,d)):(ht&&i&&Bl(n),n.flags|=1,un(e,n,l,d),n.child)}function Mf(e,n,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!Ac(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,zf(e,n,f,l,d)):(e=cs(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:wa,i(y,l)&&e.ref===n.ref)return yr(e,n,d)}return n.flags|=1,e=Ur(f,l),e.ref=n.ref,e.return=n,n.child=e}function zf(e,n,i,l,d){if(e!==null){var f=e.memoizedProps;if(wa(f,l)&&e.ref===n.ref)if(bn=!1,n.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(bn=!0);else return n.lanes=e.lanes,yr(e,n,d)}return ic(e,n,i,l,d)}function Lf(e,n,i){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(_o,Nn),Nn|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,pt(_o,Nn),Nn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,pt(_o,Nn),Nn|=l}else f!==null?(l=f.baseLanes|i,n.memoizedState=null):l=i,pt(_o,Nn),Nn|=l;return un(e,n,d,i),n.child}function Of(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function ic(e,n,i,l,d){var f=En(i)?Jr:Zt.current;return f=Po(n,f),zo(n,d),i=Zl(e,n,i,l,f,d),l=Jl(),e!==null&&!bn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,yr(e,n,d)):(ht&&l&&Bl(n),n.flags|=1,un(e,n,i,d),n.child)}function $f(e,n,i,l,d){if(En(i)){var f=!0;Mi(n)}else f=!1;if(zo(n,d),n.stateNode===null)Zi(e,n),ef(n,i,l),Gl(n,i,l,d),l=!0;else if(e===null){var y=n.stateNode,R=n.memoizedProps;y.props=R;var N=y.context,Y=i.contextType;typeof Y=="object"&&Y!==null?Y=On(Y):(Y=En(i)?Jr:Zt.current,Y=Po(n,Y));var ce=i.getDerivedStateFromProps,pe=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function";pe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==l||N!==Y)&&tf(n,y,l,Y),Mr=!1;var se=n.memoizedState;y.state=se,Wi(n,l,y,d),N=n.memoizedState,R!==l||se!==N||xn.current||Mr?(typeof ce=="function"&&(jl(n,i,ce,l),N=n.memoizedState),(R=Mr||Jp(n,i,R,l,se,N,Y))?(pe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),y.props=l,y.state=N,y.context=Y,l=R):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Kp(e,n),R=n.memoizedProps,Y=n.type===n.elementType?R:Yn(n.type,R),y.props=Y,pe=n.pendingProps,se=y.context,N=i.contextType,typeof N=="object"&&N!==null?N=On(N):(N=En(i)?Jr:Zt.current,N=Po(n,N));var Se=i.getDerivedStateFromProps;(ce=typeof Se=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==pe||se!==N)&&tf(n,y,l,N),Mr=!1,se=n.memoizedState,y.state=se,Wi(n,l,y,d);var De=n.memoizedState;R!==pe||se!==De||xn.current||Mr?(typeof Se=="function"&&(jl(n,i,Se,l),De=n.memoizedState),(Y=Mr||Jp(n,i,Y,l,se,De,N)||!1)?(ce||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,De,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,De,N)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=De),y.props=l,y.state=De,y.context=N,l=Y):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),l=!1)}return sc(e,n,i,l,f,d)}function sc(e,n,i,l,d,f){Of(e,n);var y=(n.flags&128)!==0;if(!l&&!y)return d&&Up(n,i,!1),yr(e,n,f);l=n.stateNode,rE.current=n;var R=y&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&y?(n.child=Lo(n,e.child,null,f),n.child=Lo(n,null,R,f)):un(e,n,R,f),n.memoizedState=l.state,d&&Up(n,i,!0),n.child}function Ff(e){var n=e.stateNode;n.pendingContext?Fp(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Fp(e,n.context,!1),Vl(e,n.containerInfo)}function _f(e,n,i,l,d){return Bo(),Ol(d),n.flags|=256,un(e,n,i,l),n.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uf(e,n,i){var l=n.pendingProps,d=yt.current,f=!1,y=(n.flags&128)!==0,R;if((R=y)||(R=e!==null&&e.memoizedState===null?!1:(d&2)!==0),R?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),pt(yt,d&1),e===null)return Ll(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=l.children,e=l.fallback,f?(l=n.mode,f=n.child,y={mode:"hidden",children:y},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=us(y,l,0,null),e=co(e,l,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=cc(i),n.memoizedState=lc,e):uc(n,y));if(d=e.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return oE(e,n,y,l,R,d,i);if(f){f=l.fallback,y=n.mode,d=e.child,R=d.sibling;var N={mode:"hidden",children:l.children};return(y&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=N,n.deletions=null):(l=Ur(d,N),l.subtreeFlags=d.subtreeFlags&14680064),R!==null?f=Ur(R,f):(f=co(f,y,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,y=e.child.memoizedState,y=y===null?cc(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~i,n.memoizedState=lc,l}return f=e.child,e=f.sibling,l=Ur(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=i),l.return=n,l.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=l,n.memoizedState=null,l}function uc(e,n){return n=us({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Xi(e,n,i,l){return l!==null&&Ol(l),Lo(n,e.child,null,i),e=uc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oE(e,n,i,l,d,f,y){if(i)return n.flags&256?(n.flags&=-257,l=oc(Error(a(422))),Xi(e,n,y,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,d=n.mode,l=us({mode:"visible",children:l.children},d,0,null),f=co(f,d,y,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&Lo(n,e.child,null,y),n.child.memoizedState=cc(y),n.memoizedState=lc,f);if((n.mode&1)===0)return Xi(e,n,y,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var R=l.dgst;return l=R,f=Error(a(419)),l=oc(f,l,void 0),Xi(e,n,y,l)}if(R=(y&e.childLanes)!==0,bn||R){if(l=Lt,l!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,gr(e,d),Qn(l,e,d,-1))}return Tc(),l=oc(Error(a(421))),Xi(e,n,y,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=yE.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Pn=Pr(d.nextSibling),In=n,ht=!0,Vn=null,e!==null&&(zn[Ln++]=fr,zn[Ln++]=mr,zn[Ln++]=eo,fr=e.id,mr=e.overflow,eo=n),n=uc(n,l.children),n.flags|=4096,n)}function Wf(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ul(e.return,n,i)}function dc(e,n,i,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function Hf(e,n,i){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(un(e,n,l.children,i),l=yt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wf(e,i,n);else if(e.tag===19)Wf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(pt(yt,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Gi(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),dc(n,!1,d,i,f);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Gi(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}dc(n,!0,i,null,f);break;case"together":dc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Zi(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function yr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ao|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=Ur(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Ur(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function aE(e,n,i){switch(n.tag){case 3:Ff(n),Bo();break;case 5:af(n);break;case 1:En(n.type)&&Mi(n);break;case 4:Vl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;pt(Fi,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(pt(yt,yt.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Uf(e,n,i):(pt(yt,yt.current&1),e=yr(e,n,i),e!==null?e.sibling:null);pt(yt,yt.current&1);break;case 19:if(l=(i&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Hf(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),pt(yt,yt.current),l)break;return null;case 22:case 23:return n.lanes=0,Lf(e,n,i)}return yr(e,n,i)}var jf,pc,Gf,Vf;jf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},pc=function(){},Gf=function(e,n,i,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,ro(tr.current);var f=null;switch(i){case"input":d=An(e,d),l=An(e,l),f=[];break;case"select":d=E({},d,{value:void 0}),l=E({},l,{value:void 0}),f=[];break;case"textarea":d=Qr(e,d),l=Qr(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ni)}Vs(i,l);var y;i=null;for(Y in d)if(!l.hasOwnProperty(Y)&&d.hasOwnProperty(Y)&&d[Y]!=null)if(Y==="style"){var R=d[Y];for(y in R)R.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(c.hasOwnProperty(Y)?f||(f=[]):(f=f||[]).push(Y,null));for(Y in l){var N=l[Y];if(R=d?.[Y],l.hasOwnProperty(Y)&&N!==R&&(N!=null||R!=null))if(Y==="style")if(R){for(y in R)!R.hasOwnProperty(y)||N&&N.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in N)N.hasOwnProperty(y)&&R[y]!==N[y]&&(i||(i={}),i[y]=N[y])}else i||(f||(f=[]),f.push(Y,i)),i=N;else Y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(f=f||[]).push(Y,N)):Y==="children"?typeof N!="string"&&typeof N!="number"||(f=f||[]).push(Y,""+N):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(c.hasOwnProperty(Y)?(N!=null&&Y==="onScroll"&&mt("scroll",e),f||R===N||(f=[])):(f=f||[]).push(Y,N))}i&&(f=f||[]).push("style",i);var Y=f;(n.updateQueue=Y)&&(n.flags|=4)}},Vf=function(e,n,i,l){i!==l&&(n.flags|=4)};function $a(e,n){if(!ht)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function en(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function iE(e,n,i){var l=n.pendingProps;switch(Ml(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(n),null;case 1:return En(n.type)&&Bi(),en(n),null;case 3:return l=n.stateNode,Oo(),gt(xn),gt(Zt),Kl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&($i(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vn!==null&&(wc(Vn),Vn=null))),pc(e,n),en(n),null;case 5:Yl(n);var d=ro(Ba.current);if(i=n.type,e!==null&&n.stateNode!=null)Gf(e,n,i,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(a(166));return en(n),null}if(e=ro(tr.current),$i(n)){l=n.stateNode,i=n.type;var f=n.memoizedProps;switch(l[er]=n,l[Ra]=f,e=(n.mode&1)!==0,i){case"dialog":mt("cancel",l),mt("close",l);break;case"iframe":case"object":case"embed":mt("load",l);break;case"video":case"audio":for(d=0;d<Ca.length;d++)mt(Ca[d],l);break;case"source":mt("error",l);break;case"img":case"image":case"link":mt("error",l),mt("load",l);break;case"details":mt("toggle",l);break;case"input":it(l,f),mt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},mt("invalid",l);break;case"textarea":Ad(l,f),mt("invalid",l)}Vs(i,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var R=f[y];y==="children"?typeof R=="string"?l.textContent!==R&&(f.suppressHydrationWarning!==!0&&Pi(l.textContent,R,e),d=["children",R]):typeof R=="number"&&l.textContent!==""+R&&(f.suppressHydrationWarning!==!0&&Pi(l.textContent,R,e),d=["children",""+R]):c.hasOwnProperty(y)&&R!=null&&y==="onScroll"&&mt("scroll",l)}switch(i){case"input":je(l),Pt(l,f,!0);break;case"textarea":je(l),Id(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ni)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(i,{is:l.is}):(e=y.createElement(i),i==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,i),e[er]=n,e[Ra]=l,jf(e,n,!1,!1),n.stateNode=e;e:{switch(y=Ys(i,l),i){case"dialog":mt("cancel",e),mt("close",e),d=l;break;case"iframe":case"object":case"embed":mt("load",e),d=l;break;case"video":case"audio":for(d=0;d<Ca.length;d++)mt(Ca[d],e);d=l;break;case"source":mt("error",e),d=l;break;case"img":case"image":case"link":mt("error",e),mt("load",e),d=l;break;case"details":mt("toggle",e),d=l;break;case"input":it(e,l),d=An(e,l),mt("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=E({},l,{value:void 0}),mt("invalid",e);break;case"textarea":Ad(e,l),d=Qr(e,l),mt("invalid",e);break;default:d=l}Vs(i,d),R=d;for(f in R)if(R.hasOwnProperty(f)){var N=R[f];f==="style"?Bd(e,N):f==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Nd(e,N)):f==="children"?typeof N=="string"?(i!=="textarea"||N!=="")&&ia(e,N):typeof N=="number"&&ia(e,""+N):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(c.hasOwnProperty(f)?N!=null&&f==="onScroll"&&mt("scroll",e):N!=null&&U(e,f,N,y))}switch(i){case"input":je(e),Pt(e,l,!1);break;case"textarea":je(e),Id(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ue(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?Xt(e,!!l.multiple,f,!1):l.defaultValue!=null&&Xt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ni)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return en(n),null;case 6:if(e&&n.stateNode!=null)Vf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(i=ro(Ba.current),ro(tr.current),$i(n)){if(l=n.stateNode,i=n.memoizedProps,l[er]=n,(f=l.nodeValue!==i)&&(e=In,e!==null))switch(e.tag){case 3:Pi(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pi(l.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[er]=n,n.stateNode=l}return en(n),null;case 13:if(gt(yt),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&Pn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Yp(),Bo(),n.flags|=98560,f=!1;else if(f=$i(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[er]=n}else Bo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;en(n),f=!1}else Vn!==null&&(wc(Vn),Vn=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(yt.current&1)!==0?Dt===0&&(Dt=3):Tc())),n.updateQueue!==null&&(n.flags|=4),en(n),null);case 4:return Oo(),pc(e,n),e===null&&Ta(n.stateNode.containerInfo),en(n),null;case 10:return _l(n.type._context),en(n),null;case 17:return En(n.type)&&Bi(),en(n),null;case 19:if(gt(yt),f=n.memoizedState,f===null)return en(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)$a(f,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Gi(e),y!==null){for(n.flags|=128,$a(f,!1),l=y.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)f=i,e=l,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return pt(yt,yt.current&1|2),n.child}e=e.sibling}f.tail!==null&&St()>Uo&&(n.flags|=128,l=!0,$a(f,!1),n.lanes=4194304)}else{if(!l)if(e=Gi(y),e!==null){if(n.flags|=128,l=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),$a(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!ht)return en(n),null}else 2*St()-f.renderingStartTime>Uo&&i!==1073741824&&(n.flags|=128,l=!0,$a(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(i=f.last,i!==null?i.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=St(),n.sibling=null,i=yt.current,pt(yt,l?i&1|2:i&1),n):(en(n),null);case 22:case 23:return Cc(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Nn&1073741824)!==0&&(en(n),n.subtreeFlags&6&&(n.flags|=8192)):en(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function sE(e,n){switch(Ml(n),n.tag){case 1:return En(n.type)&&Bi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oo(),gt(xn),gt(Zt),Kl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Yl(n),null;case 13:if(gt(yt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Bo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return gt(yt),null;case 4:return Oo(),null;case 10:return _l(n.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var Ji=!1,tn=!1,lE=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Fo(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){vt(e,n,l)}else i.current=null}function fc(e,n,i){try{i()}catch(l){vt(e,n,l)}}var Yf=!1;function cE(e,n){if(Cl=Ei,e=wp(),yl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,R=-1,N=-1,Y=0,ce=0,pe=e,se=null;t:for(;;){for(var Se;pe!==i||d!==0&&pe.nodeType!==3||(R=y+d),pe!==f||l!==0&&pe.nodeType!==3||(N=y+l),pe.nodeType===3&&(y+=pe.nodeValue.length),(Se=pe.firstChild)!==null;)se=pe,pe=Se;for(;;){if(pe===e)break t;if(se===i&&++Y===d&&(R=y),se===f&&++ce===l&&(N=y),(Se=pe.nextSibling)!==null)break;pe=se,se=pe.parentNode}pe=Se}i=R===-1||N===-1?null:{start:R,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(Tl={focusedElem:e,selectionRange:i},Ei=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){n=Pe;try{var De=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Me=De.memoizedProps,wt=De.memoizedState,$=n.stateNode,L=$.getSnapshotBeforeUpdate(n.elementType===n.type?Me:Yn(n.type,Me),wt);$.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(me){vt(n,n.return,me)}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}return De=Yf,Yf=!1,De}function Fa(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&fc(n,i,f)}d=d.next}while(d!==l)}}function es(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function mc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function qf(e){var n=e.alternate;n!==null&&(e.alternate=null,qf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[er],delete n[Ra],delete n[Pl],delete n[Gx],delete n[Vx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kf(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ni));else if(l!==4&&(e=e.child,e!==null))for(gc(e,n,i),e=e.sibling;e!==null;)gc(e,n,i),e=e.sibling}function hc(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(hc(e,n,i),e=e.sibling;e!==null;)hc(e,n,i),e=e.sibling}var qt=null,qn=!1;function Lr(e,n,i){for(i=i.child;i!==null;)Xf(e,n,i),i=i.sibling}function Xf(e,n,i){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(fi,i)}catch{}switch(i.tag){case 5:tn||Fo(i,n);case 6:var l=qt,d=qn;qt=null,Lr(e,n,i),qt=l,qn=d,qt!==null&&(qn?(e=qt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):qt.removeChild(i.stateNode));break;case 18:qt!==null&&(qn?(e=qt,i=i.stateNode,e.nodeType===8?Il(e.parentNode,i):e.nodeType===1&&Il(e,i),ya(e)):Il(qt,i.stateNode));break;case 4:l=qt,d=qn,qt=i.stateNode.containerInfo,qn=!0,Lr(e,n,i),qt=l,qn=d;break;case 0:case 11:case 14:case 15:if(!tn&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&fc(i,n,y),d=d.next}while(d!==l)}Lr(e,n,i);break;case 1:if(!tn&&(Fo(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(R){vt(i,n,R)}Lr(e,n,i);break;case 21:Lr(e,n,i);break;case 22:i.mode&1?(tn=(l=tn)||i.memoizedState!==null,Lr(e,n,i),tn=l):Lr(e,n,i);break;default:Lr(e,n,i)}}function Zf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new lE),n.forEach(function(l){var d=xE.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function Kn(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var f=e,y=n,R=y;e:for(;R!==null;){switch(R.tag){case 5:qt=R.stateNode,qn=!1;break e;case 3:qt=R.stateNode.containerInfo,qn=!0;break e;case 4:qt=R.stateNode.containerInfo,qn=!0;break e}R=R.return}if(qt===null)throw Error(a(160));Xf(f,y,d),qt=null,qn=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(Y){vt(d,n,Y)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Jf(n,e),n=n.sibling}function Jf(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kn(n,e),rr(e),l&4){try{Fa(3,e,e.return),es(3,e)}catch(Me){vt(e,e.return,Me)}try{Fa(5,e,e.return)}catch(Me){vt(e,e.return,Me)}}break;case 1:Kn(n,e),rr(e),l&512&&i!==null&&Fo(i,i.return);break;case 5:if(Kn(n,e),rr(e),l&512&&i!==null&&Fo(i,i.return),e.flags&32){var d=e.stateNode;try{ia(d,"")}catch(Me){vt(e,e.return,Me)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=i!==null?i.memoizedProps:f,R=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{R==="input"&&f.type==="radio"&&f.name!=null&&Vt(d,f),Ys(R,y);var Y=Ys(R,f);for(y=0;y<N.length;y+=2){var ce=N[y],pe=N[y+1];ce==="style"?Bd(d,pe):ce==="dangerouslySetInnerHTML"?Nd(d,pe):ce==="children"?ia(d,pe):U(d,ce,pe,Y)}switch(R){case"input":Ze(d,f);break;case"textarea":Rd(d,f);break;case"select":var se=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Se=f.value;Se!=null?Xt(d,!!f.multiple,Se,!1):se!==!!f.multiple&&(f.defaultValue!=null?Xt(d,!!f.multiple,f.defaultValue,!0):Xt(d,!!f.multiple,f.multiple?[]:"",!1))}d[Ra]=f}catch(Me){vt(e,e.return,Me)}}break;case 6:if(Kn(n,e),rr(e),l&4){if(e.stateNode===null)throw Error(a(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Me){vt(e,e.return,Me)}}break;case 3:if(Kn(n,e),rr(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ya(n.containerInfo)}catch(Me){vt(e,e.return,Me)}break;case 4:Kn(n,e),rr(e);break;case 13:Kn(n,e),rr(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Ec=St())),l&4&&Zf(e);break;case 22:if(ce=i!==null&&i.memoizedState!==null,e.mode&1?(tn=(Y=tn)||ce,Kn(n,e),tn=Y):Kn(n,e),rr(e),l&8192){if(Y=e.memoizedState!==null,(e.stateNode.isHidden=Y)&&!ce&&(e.mode&1)!==0)for(Pe=e,ce=e.child;ce!==null;){for(pe=Pe=ce;Pe!==null;){switch(se=Pe,Se=se.child,se.tag){case 0:case 11:case 14:case 15:Fa(4,se,se.return);break;case 1:Fo(se,se.return);var De=se.stateNode;if(typeof De.componentWillUnmount=="function"){l=se,i=se.return;try{n=l,De.props=n.memoizedProps,De.state=n.memoizedState,De.componentWillUnmount()}catch(Me){vt(l,i,Me)}}break;case 5:Fo(se,se.return);break;case 22:if(se.memoizedState!==null){nm(pe);continue}}Se!==null?(Se.return=se,Pe=Se):nm(pe)}ce=ce.sibling}e:for(ce=null,pe=e;;){if(pe.tag===5){if(ce===null){ce=pe;try{d=pe.stateNode,Y?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(R=pe.stateNode,N=pe.memoizedProps.style,y=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=Dd("display",y))}catch(Me){vt(e,e.return,Me)}}}else if(pe.tag===6){if(ce===null)try{pe.stateNode.nodeValue=Y?"":pe.memoizedProps}catch(Me){vt(e,e.return,Me)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===e)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===e)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===e)break e;ce===pe&&(ce=null),pe=pe.return}ce===pe&&(ce=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Kn(n,e),rr(e),l&4&&Zf(e);break;case 21:break;default:Kn(n,e),rr(e)}}function rr(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Kf(i)){var l=i;break e}i=i.return}throw Error(a(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(ia(d,""),l.flags&=-33);var f=Qf(e);hc(e,f,d);break;case 3:case 4:var y=l.stateNode.containerInfo,R=Qf(e);gc(e,R,y);break;default:throw Error(a(161))}}catch(N){vt(e,e.return,N)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uE(e,n,i){Pe=e,em(e)}function em(e,n,i){for(var l=(e.mode&1)!==0;Pe!==null;){var d=Pe,f=d.child;if(d.tag===22&&l){var y=d.memoizedState!==null||Ji;if(!y){var R=d.alternate,N=R!==null&&R.memoizedState!==null||tn;R=Ji;var Y=tn;if(Ji=y,(tn=N)&&!Y)for(Pe=d;Pe!==null;)y=Pe,N=y.child,y.tag===22&&y.memoizedState!==null?rm(d):N!==null?(N.return=y,Pe=N):rm(d);for(;f!==null;)Pe=f,em(f),f=f.sibling;Pe=d,Ji=R,tn=Y}tm(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Pe=f):tm(e)}}function tm(e){for(;Pe!==null;){var n=Pe;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:tn||es(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!tn)if(i===null)l.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Yn(n.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Xp(n,f,l);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Xp(n,y,i)}break;case 5:var R=n.stateNode;if(i===null&&n.flags&4){i=R;var N=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&i.focus();break;case"img":N.src&&(i.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Y=n.alternate;if(Y!==null){var ce=Y.memoizedState;if(ce!==null){var pe=ce.dehydrated;pe!==null&&ya(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}tn||n.flags&512&&mc(n)}catch(se){vt(n,n.return,se)}}if(n===e){Pe=null;break}if(i=n.sibling,i!==null){i.return=n.return,Pe=i;break}Pe=n.return}}function nm(e){for(;Pe!==null;){var n=Pe;if(n===e){Pe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Pe=i;break}Pe=n.return}}function rm(e){for(;Pe!==null;){var n=Pe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{es(4,n)}catch(N){vt(n,i,N)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(N){vt(n,d,N)}}var f=n.return;try{mc(n)}catch(N){vt(n,f,N)}break;case 5:var y=n.return;try{mc(n)}catch(N){vt(n,y,N)}}}catch(N){vt(n,n.return,N)}if(n===e){Pe=null;break}var R=n.sibling;if(R!==null){R.return=n.return,Pe=R;break}Pe=n.return}}var dE=Math.ceil,ts=F.ReactCurrentDispatcher,yc=F.ReactCurrentOwner,Fn=F.ReactCurrentBatchConfig,ot=0,Lt=null,At=null,Kt=0,Nn=0,_o=Nr(0),Dt=0,_a=null,ao=0,ns=0,xc=0,Ua=null,vn=null,Ec=0,Uo=1/0,xr=null,rs=!1,bc=null,Or=null,os=!1,$r=null,as=0,Wa=0,vc=null,is=-1,ss=0;function dn(){return(ot&6)!==0?St():is!==-1?is:is=St()}function Fr(e){return(e.mode&1)===0?1:(ot&2)!==0&&Kt!==0?Kt&-Kt:qx.transition!==null?(ss===0&&(ss=qd()),ss):(e=st,e!==0||(e=window.event,e=e===void 0?16:rp(e.type)),e)}function Qn(e,n,i,l){if(50<Wa)throw Wa=0,vc=null,Error(a(185));pa(e,i,l),((ot&2)===0||e!==Lt)&&(e===Lt&&((ot&2)===0&&(ns|=i),Dt===4&&_r(e,Kt)),Sn(e,l),i===1&&ot===0&&(n.mode&1)===0&&(Uo=St()+500,zi&&Br()))}function Sn(e,n){var i=e.callbackNode;q0(e,n);var l=hi(e,e===Lt?Kt:0);if(l===0)i!==null&&Gd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&Gd(i),n===1)e.tag===0?Yx(am.bind(null,e)):Wp(am.bind(null,e)),Hx(function(){(ot&6)===0&&Br()}),i=null;else{switch(Kd(l)){case 1:i=el;break;case 4:i=Vd;break;case 16:i=pi;break;case 536870912:i=Yd;break;default:i=pi}i=fm(i,om.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function om(e,n){if(is=-1,ss=0,(ot&6)!==0)throw Error(a(327));var i=e.callbackNode;if(Wo()&&e.callbackNode!==i)return null;var l=hi(e,e===Lt?Kt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=ls(e,l);else{n=l;var d=ot;ot|=2;var f=sm();(Lt!==e||Kt!==n)&&(xr=null,Uo=St()+500,so(e,n));do try{mE();break}catch(R){im(e,R)}while(!0);Fl(),ts.current=f,ot=d,At!==null?n=0:(Lt=null,Kt=0,n=Dt)}if(n!==0){if(n===2&&(d=tl(e),d!==0&&(l=d,n=Sc(e,d))),n===1)throw i=_a,so(e,0),_r(e,l),Sn(e,St()),i;if(n===6)_r(e,l);else{if(d=e.current.alternate,(l&30)===0&&!pE(d)&&(n=ls(e,l),n===2&&(f=tl(e),f!==0&&(l=f,n=Sc(e,f))),n===1))throw i=_a,so(e,0),_r(e,l),Sn(e,St()),i;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(a(345));case 2:lo(e,vn,xr);break;case 3:if(_r(e,l),(l&130023424)===l&&(n=Ec+500-St(),10<n)){if(hi(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){dn(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Rl(lo.bind(null,e,vn,xr),n);break}lo(e,vn,xr);break;case 4:if(_r(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var y=31-jn(l);f=1<<y,y=n[y],y>d&&(d=y),l&=~f}if(l=d,l=St()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*dE(l/1960))-l,10<l){e.timeoutHandle=Rl(lo.bind(null,e,vn,xr),l);break}lo(e,vn,xr);break;case 5:lo(e,vn,xr);break;default:throw Error(a(329))}}}return Sn(e,St()),e.callbackNode===i?om.bind(null,e):null}function Sc(e,n){var i=Ua;return e.current.memoizedState.isDehydrated&&(so(e,n).flags|=256),e=ls(e,n),e!==2&&(n=vn,vn=i,n!==null&&wc(n)),e}function wc(e){vn===null?vn=e:vn.push.apply(vn,e)}function pE(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!Gn(f(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _r(e,n){for(n&=~xc,n&=~ns,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-jn(n),l=1<<i;e[i]=-1,n&=~l}}function am(e){if((ot&6)!==0)throw Error(a(327));Wo();var n=hi(e,0);if((n&1)===0)return Sn(e,St()),null;var i=ls(e,n);if(e.tag!==0&&i===2){var l=tl(e);l!==0&&(n=l,i=Sc(e,l))}if(i===1)throw i=_a,so(e,0),_r(e,n),Sn(e,St()),i;if(i===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,lo(e,vn,xr),Sn(e,St()),null}function kc(e,n){var i=ot;ot|=1;try{return e(n)}finally{ot=i,ot===0&&(Uo=St()+500,zi&&Br())}}function io(e){$r!==null&&$r.tag===0&&(ot&6)===0&&Wo();var n=ot;ot|=1;var i=Fn.transition,l=st;try{if(Fn.transition=null,st=1,e)return e()}finally{st=l,Fn.transition=i,ot=n,(ot&6)===0&&Br()}}function Cc(){Nn=_o.current,gt(_o)}function so(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Wx(i)),At!==null)for(i=At.return;i!==null;){var l=i;switch(Ml(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Bi();break;case 3:Oo(),gt(xn),gt(Zt),Kl();break;case 5:Yl(l);break;case 4:Oo();break;case 13:gt(yt);break;case 19:gt(yt);break;case 10:_l(l.type._context);break;case 22:case 23:Cc()}i=i.return}if(Lt=e,At=e=Ur(e.current,null),Kt=Nn=n,Dt=0,_a=null,xc=ns=ao=0,vn=Ua=null,no!==null){for(n=0;n<no.length;n++)if(i=no[n],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,f=i.pending;if(f!==null){var y=f.next;f.next=d,l.next=y}i.pending=l}no=null}return e}function im(e,n){do{var i=At;try{if(Fl(),Vi.current=Qi,Yi){for(var l=xt.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Yi=!1}if(oo=0,zt=Nt=xt=null,Ma=!1,za=0,yc.current=null,i===null||i.return===null){Dt=1,_a=n,At=null;break}e:{var f=e,y=i.return,R=i,N=n;if(n=Kt,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=N,ce=R,pe=ce.tag;if((ce.mode&1)===0&&(pe===0||pe===11||pe===15)){var se=ce.alternate;se?(ce.updateQueue=se.updateQueue,ce.memoizedState=se.memoizedState,ce.lanes=se.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Se=Nf(y);if(Se!==null){Se.flags&=-257,Df(Se,y,R,f,n),Se.mode&1&&Pf(f,Y,n),n=Se,N=Y;var De=n.updateQueue;if(De===null){var Me=new Set;Me.add(N),n.updateQueue=Me}else De.add(N);break e}else{if((n&1)===0){Pf(f,Y,n),Tc();break e}N=Error(a(426))}}else if(ht&&R.mode&1){var wt=Nf(y);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Df(wt,y,R,f,n),Ol($o(N,R));break e}}f=N=$o(N,R),Dt!==4&&(Dt=2),Ua===null?Ua=[f]:Ua.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var $=Rf(f,N,n);Qp(f,$);break e;case 1:R=N;var L=f.type,H=f.stateNode;if((f.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Or===null||!Or.has(H)))){f.flags|=65536,n&=-n,f.lanes|=n;var me=If(f,R,n);Qp(f,me);break e}}f=f.return}while(f!==null)}cm(i)}catch(Oe){n=Oe,At===i&&i!==null&&(At=i=i.return);continue}break}while(!0)}function sm(){var e=ts.current;return ts.current=Qi,e===null?Qi:e}function Tc(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Lt===null||(ao&268435455)===0&&(ns&268435455)===0||_r(Lt,Kt)}function ls(e,n){var i=ot;ot|=2;var l=sm();(Lt!==e||Kt!==n)&&(xr=null,so(e,n));do try{fE();break}catch(d){im(e,d)}while(!0);if(Fl(),ot=i,ts.current=l,At!==null)throw Error(a(261));return Lt=null,Kt=0,Dt}function fE(){for(;At!==null;)lm(At)}function mE(){for(;At!==null&&!F0();)lm(At)}function lm(e){var n=pm(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,n===null?cm(e):At=n,yc.current=null}function cm(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=iE(i,n,Nn),i!==null){At=i;return}}else{if(i=sE(i,n),i!==null){i.flags&=32767,At=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,At=null;return}}if(n=n.sibling,n!==null){At=n;return}At=n=e}while(n!==null);Dt===0&&(Dt=5)}function lo(e,n,i){var l=st,d=Fn.transition;try{Fn.transition=null,st=1,gE(e,n,i,l)}finally{Fn.transition=d,st=l}return null}function gE(e,n,i,l){do Wo();while($r!==null);if((ot&6)!==0)throw Error(a(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(K0(e,f),e===Lt&&(At=Lt=null,Kt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||os||(os=!0,fm(pi,function(){return Wo(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Fn.transition,Fn.transition=null;var y=st;st=1;var R=ot;ot|=4,yc.current=null,cE(e,i),Jf(i,e),zx(Tl),Ei=!!Cl,Tl=Cl=null,e.current=i,uE(i),_0(),ot=R,st=y,Fn.transition=f}else e.current=i;if(os&&(os=!1,$r=e,as=d),f=e.pendingLanes,f===0&&(Or=null),H0(i.stateNode),Sn(e,St()),n!==null)for(l=e.onRecoverableError,i=0;i<n.length;i++)d=n[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(rs)throw rs=!1,e=bc,bc=null,e;return(as&1)!==0&&e.tag!==0&&Wo(),f=e.pendingLanes,(f&1)!==0?e===vc?Wa++:(Wa=0,vc=e):Wa=0,Br(),null}function Wo(){if($r!==null){var e=Kd(as),n=Fn.transition,i=st;try{if(Fn.transition=null,st=16>e?16:e,$r===null)var l=!1;else{if(e=$r,$r=null,as=0,(ot&6)!==0)throw Error(a(331));var d=ot;for(ot|=4,Pe=e.current;Pe!==null;){var f=Pe,y=f.child;if((Pe.flags&16)!==0){var R=f.deletions;if(R!==null){for(var N=0;N<R.length;N++){var Y=R[N];for(Pe=Y;Pe!==null;){var ce=Pe;switch(ce.tag){case 0:case 11:case 15:Fa(8,ce,f)}var pe=ce.child;if(pe!==null)pe.return=ce,Pe=pe;else for(;Pe!==null;){ce=Pe;var se=ce.sibling,Se=ce.return;if(qf(ce),ce===Y){Pe=null;break}if(se!==null){se.return=Se,Pe=se;break}Pe=Se}}}var De=f.alternate;if(De!==null){var Me=De.child;if(Me!==null){De.child=null;do{var wt=Me.sibling;Me.sibling=null,Me=wt}while(Me!==null)}}Pe=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,Pe=y;else e:for(;Pe!==null;){if(f=Pe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Fa(9,f,f.return)}var $=f.sibling;if($!==null){$.return=f.return,Pe=$;break e}Pe=f.return}}var L=e.current;for(Pe=L;Pe!==null;){y=Pe;var H=y.child;if((y.subtreeFlags&2064)!==0&&H!==null)H.return=y,Pe=H;else e:for(y=L;Pe!==null;){if(R=Pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:es(9,R)}}catch(Oe){vt(R,R.return,Oe)}if(R===y){Pe=null;break e}var me=R.sibling;if(me!==null){me.return=R.return,Pe=me;break e}Pe=R.return}}if(ot=d,Br(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(fi,e)}catch{}l=!0}return l}finally{st=i,Fn.transition=n}}return!1}function um(e,n,i){n=$o(i,n),n=Rf(e,n,1),e=zr(e,n,1),n=dn(),e!==null&&(pa(e,1,n),Sn(e,n))}function vt(e,n,i){if(e.tag===3)um(e,e,i);else for(;n!==null;){if(n.tag===3){um(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=$o(i,e),e=If(n,e,1),n=zr(n,e,1),e=dn(),n!==null&&(pa(n,1,e),Sn(n,e));break}}n=n.return}}function hE(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=dn(),e.pingedLanes|=e.suspendedLanes&i,Lt===e&&(Kt&i)===i&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>St()-Ec?so(e,0):xc|=i),Sn(e,n)}function dm(e,n){n===0&&((e.mode&1)===0?n=1:(n=gi,gi<<=1,(gi&130023424)===0&&(gi=4194304)));var i=dn();e=gr(e,n),e!==null&&(pa(e,n,i),Sn(e,i))}function yE(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),dm(e,i)}function xE(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(a(314))}l!==null&&l.delete(n),dm(e,i)}var pm;pm=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||xn.current)bn=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return bn=!1,aE(e,n,i);bn=(e.flags&131072)!==0}else bn=!1,ht&&(n.flags&1048576)!==0&&Hp(n,Oi,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Zi(e,n),e=n.pendingProps;var d=Po(n,Zt.current);zo(n,i),d=Zl(null,n,l,e,d,i);var f=Jl();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,En(l)?(f=!0,Mi(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Hl(n),d.updater=Hi,n.stateNode=d,d._reactInternals=n,Gl(n,l,e,i),n=sc(null,n,l,!0,f,i)):(n.tag=0,ht&&f&&Bl(n),un(null,n,d,i),n=n.child),n;case 16:l=n.elementType;e:{switch(Zi(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=bE(l),e=Yn(l,e),d){case 0:n=ic(null,n,l,e,i);break e;case 1:n=$f(null,n,l,e,i);break e;case 11:n=Bf(null,n,l,e,i);break e;case 14:n=Mf(null,n,l,Yn(l.type,e),i);break e}throw Error(a(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Yn(l,d),ic(e,n,l,d,i);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Yn(l,d),$f(e,n,l,d,i);case 3:e:{if(Ff(n),e===null)throw Error(a(387));l=n.pendingProps,f=n.memoizedState,d=f.element,Kp(e,n),Wi(n,l,null,i);var y=n.memoizedState;if(l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=$o(Error(a(423)),n),n=_f(e,n,l,i,d);break e}else if(l!==d){d=$o(Error(a(424)),n),n=_f(e,n,l,i,d);break e}else for(Pn=Pr(n.stateNode.containerInfo.firstChild),In=n,ht=!0,Vn=null,i=of(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Bo(),l===d){n=yr(e,n,i);break e}un(e,n,l,i)}n=n.child}return n;case 5:return af(n),e===null&&Ll(n),l=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,Al(l,d)?y=null:f!==null&&Al(l,f)&&(n.flags|=32),Of(e,n),un(e,n,y,i),n.child;case 6:return e===null&&Ll(n),null;case 13:return Uf(e,n,i);case 4:return Vl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Lo(n,null,l,i):un(e,n,l,i),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Yn(l,d),Bf(e,n,l,d,i);case 7:return un(e,n,n.pendingProps,i),n.child;case 8:return un(e,n,n.pendingProps.children,i),n.child;case 12:return un(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,f=n.memoizedProps,y=d.value,pt(Fi,l._currentValue),l._currentValue=y,f!==null)if(Gn(f.value,y)){if(f.children===d.children&&!xn.current){n=yr(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var R=f.dependencies;if(R!==null){y=f.child;for(var N=R.firstContext;N!==null;){if(N.context===l){if(f.tag===1){N=hr(-1,i&-i),N.tag=2;var Y=f.updateQueue;if(Y!==null){Y=Y.shared;var ce=Y.pending;ce===null?N.next=N:(N.next=ce.next,ce.next=N),Y.pending=N}}f.lanes|=i,N=f.alternate,N!==null&&(N.lanes|=i),Ul(f.return,i,n),R.lanes|=i;break}N=N.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(a(341));y.lanes|=i,R=y.alternate,R!==null&&(R.lanes|=i),Ul(y,i,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}un(e,n,d.children,i),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,zo(n,i),d=On(d),l=l(d),n.flags|=1,un(e,n,l,i),n.child;case 14:return l=n.type,d=Yn(l,n.pendingProps),d=Yn(l.type,d),Mf(e,n,l,d,i);case 15:return zf(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Yn(l,d),Zi(e,n),n.tag=1,En(l)?(e=!0,Mi(n)):e=!1,zo(n,i),ef(n,l,d),Gl(n,l,d,i),sc(null,n,l,!0,e,i);case 19:return Hf(e,n,i);case 22:return Lf(e,n,i)}throw Error(a(156,n.tag))};function fm(e,n){return jd(e,n)}function EE(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,i,l){return new EE(e,n,i,l)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bE(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ge)return 11;if(e===X)return 14}return 2}function Ur(e,n){var i=e.alternate;return i===null?(i=_n(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function cs(e,n,i,l,d,f){var y=2;if(l=e,typeof e=="function")Ac(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Ie:return co(i.children,d,f,n);case Re:y=8,d|=8;break;case W:return e=_n(12,i,n,d|2),e.elementType=W,e.lanes=f,e;case q:return e=_n(13,i,n,d),e.elementType=q,e.lanes=f,e;case oe:return e=_n(19,i,n,d),e.elementType=oe,e.lanes=f,e;case Z:return us(i,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:y=10;break e;case fe:y=9;break e;case ge:y=11;break e;case X:y=14;break e;case ae:y=16,l=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return n=_n(y,i,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function co(e,n,i,l){return e=_n(7,e,l,n),e.lanes=i,e}function us(e,n,i,l){return e=_n(22,e,l,n),e.elementType=Z,e.lanes=i,e.stateNode={isHidden:!1},e}function Rc(e,n,i){return e=_n(6,e,null,n),e.lanes=i,e}function Ic(e,n,i){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function vE(e,n,i,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Pc(e,n,i,l,d,f,y,R,N){return e=new vE(e,n,i,R,N),n===1?(n=1,f===!0&&(n|=8)):n=0,f=_n(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(f),e}function SE(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}}function mm(e){if(!e)return Dr;e=e._reactInternals;e:{if(Xr(e)!==e||e.tag!==1)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(En(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(e.tag===1){var i=e.type;if(En(i))return _p(e,i,n)}return n}function gm(e,n,i,l,d,f,y,R,N){return e=Pc(i,l,!0,e,d,f,y,R,N),e.context=mm(null),i=e.current,l=dn(),d=Fr(i),f=hr(l,d),f.callback=n??null,zr(i,f,d),e.current.lanes=d,pa(e,d,l),Sn(e,l),e}function ds(e,n,i,l){var d=n.current,f=dn(),y=Fr(d);return i=mm(i),n.context===null?n.context=i:n.pendingContext=i,n=hr(f,y),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=zr(d,n,y),e!==null&&(Qn(e,d,y,f),Ui(e,d,y)),y}function ps(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Nc(e,n){hm(e,n),(e=e.alternate)&&hm(e,n)}function wE(){return null}var ym=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dc(e){this._internalRoot=e}fs.prototype.render=Dc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));ds(e,n,null,null)},fs.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;io(function(){ds(null,e,null,null)}),n[dr]=null}};function fs(e){this._internalRoot=e}fs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ar.length&&n!==0&&n<Ar[i].priority;i++);Ar.splice(i,0,e),i===0&&tp(e)}};function Bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xm(){}function kE(e,n,i,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var Y=ps(y);f.call(Y)}}var y=gm(n,l,e,0,null,!1,!1,"",xm);return e._reactRootContainer=y,e[dr]=y.current,Ta(e.nodeType===8?e.parentNode:e),io(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var R=l;l=function(){var Y=ps(N);R.call(Y)}}var N=Pc(e,0,!1,null,null,!1,!1,"",xm);return e._reactRootContainer=N,e[dr]=N.current,Ta(e.nodeType===8?e.parentNode:e),io(function(){ds(n,N,i,l)}),N}function gs(e,n,i,l,d){var f=i._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var R=d;d=function(){var N=ps(y);R.call(N)}}ds(n,y,e,d)}else y=kE(i,n,e,d,l);return ps(y)}Qd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=da(n.pendingLanes);i!==0&&(rl(n,i|1),Sn(n,St()),(ot&6)===0&&(Uo=St()+500,Br()))}break;case 13:io(function(){var l=gr(e,1);if(l!==null){var d=dn();Qn(l,e,1,d)}}),Nc(e,1)}},ol=function(e){if(e.tag===13){var n=gr(e,134217728);if(n!==null){var i=dn();Qn(n,e,134217728,i)}Nc(e,134217728)}},Xd=function(e){if(e.tag===13){var n=Fr(e),i=gr(e,n);if(i!==null){var l=dn();Qn(i,e,n,l)}Nc(e,n)}},Zd=function(){return st},Jd=function(e,n){var i=st;try{return st=e,n()}finally{st=i}},Qs=function(e,n,i){switch(n){case"input":if(Ze(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=Di(l);if(!d)throw Error(a(90));Mn(l),Ze(l,d)}}}break;case"textarea":Rd(e,i);break;case"select":n=i.value,n!=null&&Xt(e,!!i.multiple,n,!1)}},Od=kc,$d=io;var CE={usingClientEntryPoint:!1,Events:[Ia,Ro,Di,zd,Ld,kc]},Ha={findFiberByHostInstance:Zr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TE={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||wE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{fi=hs.inject(TE),Jn=hs}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CE,wn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(n))throw Error(a(200));return SE(e,n,null,i)},wn.createRoot=function(e,n){if(!Bc(e))throw Error(a(299));var i=!1,l="",d=ym;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Pc(e,1,!1,null,null,i,!1,l,d),e[dr]=n.current,Ta(e.nodeType===8?e.parentNode:e),new Dc(n)},wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Wd(n),e=e===null?null:e.stateNode,e},wn.flushSync=function(e){return io(e)},wn.hydrate=function(e,n,i){if(!ms(n))throw Error(a(200));return gs(null,e,n,!0,i)},wn.hydrateRoot=function(e,n,i){if(!Bc(e))throw Error(a(405));var l=i!=null&&i.hydratedSources||null,d=!1,f="",y=ym;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=gm(n,null,e,1,i??null,d,!1,f,y),e[dr]=n.current,Ta(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new fs(n)},wn.render=function(e,n,i){if(!ms(n))throw Error(a(200));return gs(null,e,n,!1,i)},wn.unmountComponentAtNode=function(e){if(!ms(e))throw Error(a(40));return e._reactRootContainer?(io(function(){gs(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1},wn.unstable_batchedUpdates=kc,wn.unstable_renderSubtreeIntoContainer=function(e,n,i,l){if(!ms(i))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return gs(e,n,i,!1,l)},wn.version="18.2.0-next-9e3b772b8-20220608",wn}var km;function BE(){if(km)return zc.exports;km=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),zc.exports=DE(),zc.exports}var Cm;function ME(){if(Cm)return ys;Cm=1;var t=BE();return ys.createRoot=t.createRoot,ys.hydrateRoot=t.hydrateRoot,ys}var zE=ME();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tm="popstate";function LE(t={}){function r(s,c){let{pathname:u,search:p,hash:m}=s.location;return Ru("",{pathname:u,search:p,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(s,c){return typeof c=="string"?c:ti(c)}return $E(r,a,null,t)}function bt(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function lr(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function OE(){return Math.random().toString(36).substring(2,10)}function Am(t,r){return{usr:t.state,key:t.key,idx:r}}function Ru(t,r,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?na(r):r,state:a,key:r&&r.key||s||OE()}}function ti({pathname:t="/",search:r="",hash:a=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function na(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function $E(t,r,a,s={}){let{window:c=document.defaultView,v5Compat:u=!1}=s,p=c.history,m="POP",g=null,h=x();h==null&&(h=0,p.replaceState({...p.state,idx:h},""));function x(){return(p.state||{idx:null}).idx}function b(){m="POP";let S=x(),I=S==null?null:S-h;h=S,g&&g({action:m,location:O.location,delta:I})}function v(S,I){m="PUSH";let A=Ru(O.location,S,I);h=x()+1;let U=Am(A,h),F=O.createHref(A);try{p.pushState(U,"",F)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;c.location.assign(F)}u&&g&&g({action:m,location:O.location,delta:1})}function C(S,I){m="REPLACE";let A=Ru(O.location,S,I);h=x();let U=Am(A,h),F=O.createHref(A);p.replaceState(U,"",F),u&&g&&g({action:m,location:O.location,delta:0})}function M(S){return FE(S)}let O={get action(){return m},get location(){return t(c,p)},listen(S){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Tm,b),g=S,()=>{c.removeEventListener(Tm,b),g=null}},createHref(S){return r(c,S)},createURL:M,encodeLocation(S){let I=M(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:C,go(S){return p.go(S)}};return O}function FE(t,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),bt(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ti(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function _h(t,r,a="/"){return _E(t,r,a,!1)}function _E(t,r,a,s){let c=typeof r=="string"?na(r):r,u=wr(c.pathname||"/",a);if(u==null)return null;let p=Uh(t);UE(p);let m=null;for(let g=0;m==null&&g<p.length;++g){let h=ZE(u);m=QE(p[g],h,s)}return m}function Uh(t,r=[],a=[],s="",c=!1){let u=(p,m,g=c,h)=>{let x={relativePath:h===void 0?p.path||"":h,caseSensitive:p.caseSensitive===!0,childrenIndex:m,route:p};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;bt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let b=Sr([s,x.relativePath]),v=a.concat(x);p.children&&p.children.length>0&&(bt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Uh(p.children,r,v,b,g)),!(p.path==null&&!p.index)&&r.push({path:b,score:qE(b,p.index),routesMeta:v})};return t.forEach((p,m)=>{if(p.path===""||!p.path?.includes("?"))u(p,m);else for(let g of Wh(p.path))u(p,m,!0,g)}),r}function Wh(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,c=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return c?[u,""]:[u];let p=Wh(s.join("/")),m=[];return m.push(...p.map(g=>g===""?u:[u,g].join("/"))),c&&m.push(...p),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function UE(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:KE(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var WE=/^:[\w-]+$/,HE=3,jE=2,GE=1,VE=10,YE=-2,Rm=t=>t==="*";function qE(t,r){let a=t.split("/"),s=a.length;return a.some(Rm)&&(s+=YE),r&&(s+=jE),a.filter(c=>!Rm(c)).reduce((c,u)=>c+(WE.test(u)?HE:u===""?GE:VE),s)}function KE(t,r){return t.length===r.length&&t.slice(0,-1).every((s,c)=>s===r[c])?t[t.length-1]-r[r.length-1]:0}function QE(t,r,a=!1){let{routesMeta:s}=t,c={},u="/",p=[];for(let m=0;m<s.length;++m){let g=s[m],h=m===s.length-1,x=u==="/"?r:r.slice(u.length)||"/",b=Is({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},x),v=g.route;if(!b&&h&&a&&!s[s.length-1].route.index&&(b=Is({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!b)return null;Object.assign(c,b.params),p.push({params:c,pathname:Sr([u,b.pathname]),pathnameBase:nb(Sr([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=Sr([u,b.pathnameBase]))}return p}function Is(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=XE(t.path,t.caseSensitive,t.end),c=r.match(a);if(!c)return null;let u=c[0],p=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((h,{paramName:x,isOptional:b},v)=>{if(x==="*"){let M=m[v]||"";p=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const C=m[v];return b&&!C?h[x]=void 0:h[x]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:p,pattern:t}}function XE(t,r=!1,a=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),s]}function ZE(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function wr(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function JE(t,r="/"){let{pathname:a,search:s="",hash:c=""}=typeof t=="string"?na(t):t;return{pathname:a?a.startsWith("/")?a:eb(a,r):r,search:rb(s),hash:ob(c)}}function eb(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function $c(t,r,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tb(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function Hh(t){let r=tb(t);return r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase)}function jh(t,r,a,s=!1){let c;typeof t=="string"?c=na(t):(c={...t},bt(!c.pathname||!c.pathname.includes("?"),$c("?","pathname","search",c)),bt(!c.pathname||!c.pathname.includes("#"),$c("#","pathname","hash",c)),bt(!c.search||!c.search.includes("#"),$c("#","search","hash",c)));let u=t===""||c.pathname==="",p=u?"/":c.pathname,m;if(p==null)m=a;else{let b=r.length-1;if(!s&&p.startsWith("..")){let v=p.split("/");for(;v[0]==="..";)v.shift(),b-=1;c.pathname=v.join("/")}m=b>=0?r[b]:"/"}let g=JE(c,m),h=p&&p!=="/"&&p.endsWith("/"),x=(u||p===".")&&a.endsWith("/");return!g.pathname.endsWith("/")&&(h||x)&&(g.pathname+="/"),g}var Sr=t=>t.join("/").replace(/\/\/+/g,"/"),nb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ob=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ab(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gh=["POST","PUT","PATCH","DELETE"];new Set(Gh);var ib=["GET",...Gh];new Set(ib);var ra=w.createContext(null);ra.displayName="DataRouter";var Fs=w.createContext(null);Fs.displayName="DataRouterState";w.createContext(!1);var Vh=w.createContext({isTransitioning:!1});Vh.displayName="ViewTransition";var sb=w.createContext(new Map);sb.displayName="Fetchers";var lb=w.createContext(null);lb.displayName="Await";var cr=w.createContext(null);cr.displayName="Navigation";var ii=w.createContext(null);ii.displayName="Location";var ur=w.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var ju=w.createContext(null);ju.displayName="RouteError";function cb(t,{relative:r}={}){bt(si(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=w.useContext(cr),{hash:c,pathname:u,search:p}=li(t,{relative:r}),m=u;return a!=="/"&&(m=u==="/"?a:Sr([a,u])),s.createHref({pathname:m,search:p,hash:c})}function si(){return w.useContext(ii)!=null}function Kr(){return bt(si(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ii).location}var Yh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qh(t){w.useContext(cr).static||w.useLayoutEffect(t)}function Tn(){let{isDataRoute:t}=w.useContext(ur);return t?Sb():ub()}function ub(){bt(si(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ra),{basename:r,navigator:a}=w.useContext(cr),{matches:s}=w.useContext(ur),{pathname:c}=Kr(),u=JSON.stringify(Hh(s)),p=w.useRef(!1);return qh(()=>{p.current=!0}),w.useCallback((g,h={})=>{if(lr(p.current,Yh),!p.current)return;if(typeof g=="number"){a.go(g);return}let x=jh(g,JSON.parse(u),c,h.relative==="path");t==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Sr([r,x.pathname])),(h.replace?a.replace:a.push)(x,h.state,h)},[r,a,u,c,t])}w.createContext(null);function Kh(){let{matches:t}=w.useContext(ur),r=t[t.length-1];return r?r.params:{}}function li(t,{relative:r}={}){let{matches:a}=w.useContext(ur),{pathname:s}=Kr(),c=JSON.stringify(Hh(a));return w.useMemo(()=>jh(t,JSON.parse(c),s,r==="path"),[t,c,s,r])}function db(t,r){return Qh(t,r)}function Qh(t,r,a,s,c){bt(si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(cr),{matches:p}=w.useContext(ur),m=p[p.length-1],g=m?m.params:{},h=m?m.pathname:"/",x=m?m.pathnameBase:"/",b=m&&m.route;{let A=b&&b.path||"";Xh(h,!b||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Kr(),C;if(r){let A=typeof r=="string"?na(r):r;bt(x==="/"||A.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${A.pathname}" was given in the \`location\` prop.`),C=A}else C=v;let M=C.pathname||"/",O=M;if(x!=="/"){let A=x.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=_h(t,{pathname:O});lr(b||S!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),lr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=hb(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},g,A.params),pathname:Sr([x,u.encodeLocation?u.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:Sr([x,u.encodeLocation?u.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),p,a,s,c);return r&&I?w.createElement(ii.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},I):I}function pb(){let t=vb(),r=ab(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),a?w.createElement("pre",{style:c},a):null,p)}var fb=w.createElement(pb,null),mb=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(ur.Provider,{value:this.props.routeContext},w.createElement(ju.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gb({routeContext:t,match:r,children:a}){let s=w.useContext(ra);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(ur.Provider,{value:t},a)}function hb(t,r=[],a=null,s=null,c=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let u=t,p=a?.errors;if(p!=null){let h=u.findIndex(x=>x.route.id&&p?.[x.route.id]!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),u=u.slice(0,Math.min(u.length,h+1))}let m=!1,g=-1;if(a)for(let h=0;h<u.length;h++){let x=u[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=h),x.route.id){let{loaderData:b,errors:v}=a,C=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||C){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((h,x,b)=>{let v,C=!1,M=null,O=null;a&&(v=p&&x.route.id?p[x.route.id]:void 0,M=x.route.errorElement||fb,m&&(g<0&&b===0?(Xh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):g===b&&(C=!0,O=x.route.hydrateFallbackElement||null)));let S=r.concat(u.slice(0,b+1)),I=()=>{let A;return v?A=M:C?A=O:x.route.Component?A=w.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=h,w.createElement(gb,{match:x,routeContext:{outlet:h,matches:S,isDataRoute:a!=null},children:A})};return a&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?w.createElement(mb,{location:a.location,revalidation:a.revalidation,component:M,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:s}):I()},null)}function Gu(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(t){let r=w.useContext(ra);return bt(r,Gu(t)),r}function xb(t){let r=w.useContext(Fs);return bt(r,Gu(t)),r}function Eb(t){let r=w.useContext(ur);return bt(r,Gu(t)),r}function Vu(t){let r=Eb(t),a=r.matches[r.matches.length-1];return bt(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function bb(){return Vu("useRouteId")}function vb(){let t=w.useContext(ju),r=xb("useRouteError"),a=Vu("useRouteError");return t!==void 0?t:r.errors?.[a]}function Sb(){let{router:t}=yb("useNavigate"),r=Vu("useNavigate"),a=w.useRef(!1);return qh(()=>{a.current=!0}),w.useCallback(async(c,u={})=>{lr(a.current,Yh),a.current&&(typeof c=="number"?t.navigate(c):await t.navigate(c,{fromRouteId:r,...u}))},[t,r])}var Im={};function Xh(t,r,a){!r&&!Im[t]&&(Im[t]=!0,lr(!1,a))}w.memo(wb);function wb({routes:t,future:r,state:a,unstable_onError:s}){return Qh(t,void 0,a,s,r)}function Bt(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kb({basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:c,static:u=!1}){bt(!si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:p,navigator:c,static:u,future:{}}),[p,c,u]);typeof a=="string"&&(a=na(a));let{pathname:g="/",search:h="",hash:x="",state:b=null,key:v="default"}=a,C=w.useMemo(()=>{let M=wr(g,p);return M==null?null:{location:{pathname:M,search:h,hash:x,state:b,key:v},navigationType:s}},[p,g,h,x,b,v,s]);return lr(C!=null,`<Router basename="${p}"> is not able to match the URL "${g}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(cr.Provider,{value:m},w.createElement(ii.Provider,{children:r,value:C}))}function Cb({children:t,location:r}){return db(Iu(t),r)}function Iu(t,r=[]){let a=[];return w.Children.forEach(t,(s,c)=>{if(!w.isValidElement(s))return;let u=[...r,c];if(s.type===w.Fragment){a.push.apply(a,Iu(s.props.children,u));return}bt(s.type===Bt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let p={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=Iu(s.props.children,u)),a.push(p)}),a}var Cs="get",Ts="application/x-www-form-urlencoded";function _s(t){return t!=null&&typeof t.tagName=="string"}function Tb(t){return _s(t)&&t.tagName.toLowerCase()==="button"}function Ab(t){return _s(t)&&t.tagName.toLowerCase()==="form"}function Rb(t){return _s(t)&&t.tagName.toLowerCase()==="input"}function Ib(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pb(t,r){return t.button===0&&(!r||r==="_self")&&!Ib(t)}var xs=null;function Nb(){if(xs===null)try{new FormData(document.createElement("form"),0),xs=!1}catch{xs=!0}return xs}var Db=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fc(t){return t!=null&&!Db.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ts}"`),null):t}function Bb(t,r){let a,s,c,u,p;if(Ab(t)){let m=t.getAttribute("action");s=m?wr(m,r):null,a=t.getAttribute("method")||Cs,c=Fc(t.getAttribute("enctype"))||Ts,u=new FormData(t)}else if(Tb(t)||Rb(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(s=g?wr(g,r):null,a=t.getAttribute("formmethod")||m.getAttribute("method")||Cs,c=Fc(t.getAttribute("formenctype"))||Fc(m.getAttribute("enctype"))||Ts,u=new FormData(m,t),!Nb()){let{name:h,type:x,value:b}=t;if(x==="image"){let v=h?`${h}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else h&&u.append(h,b)}}else{if(_s(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Cs,s=null,c=Ts,p=t}return u&&c==="text/plain"&&(p=u,u=void 0),{action:s,method:a.toLowerCase(),encType:c,formData:u,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yu(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Mb(t,r,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${a}`:r&&wr(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function zb(t,r){if(t.id in r)return r[t.id];try{let a=await import(t.module);return r[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ob(t,r,a){let s=await Promise.all(t.map(async c=>{let u=r.routes[c.route.id];if(u){let p=await zb(u,a);return p.links?p.links():[]}return[]}));return Ub(s.flat(1).filter(Lb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Pm(t,r,a,s,c,u){let p=(g,h)=>a[h]?g.route.id!==a[h].route.id:!0,m=(g,h)=>a[h].pathname!==g.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==g.params["*"];return u==="assets"?r.filter((g,h)=>p(g,h)||m(g,h)):u==="data"?r.filter((g,h)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(p(g,h)||m(g,h))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $b(t,r,{includeHydrateFallback:a}={}){return Fb(t.map(s=>{let c=r.routes[s.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),a&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Fb(t){return[...new Set(t)]}function _b(t){let r={},a=Object.keys(t).sort();for(let s of a)r[s]=t[s];return r}function Ub(t,r){let a=new Set;return new Set(r),t.reduce((s,c)=>{let u=JSON.stringify(_b(c));return a.has(u)||(a.add(u),s.push({key:u,link:c})),s},[])}function Zh(){let t=w.useContext(ra);return Yu(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Wb(){let t=w.useContext(Fs);return Yu(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qu=w.createContext(void 0);qu.displayName="FrameworkContext";function Jh(){let t=w.useContext(qu);return Yu(t,"You must render this element inside a <HydratedRouter> element"),t}function Hb(t,r){let a=w.useContext(qu),[s,c]=w.useState(!1),[u,p]=w.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:h,onMouseLeave:x,onTouchStart:b}=r,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let O=I=>{I.forEach(A=>{p(A.isIntersecting)})},S=new IntersectionObserver(O,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),w.useEffect(()=>{if(s){let O=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(O)}}},[s]);let C=()=>{c(!0)},M=()=>{c(!1),p(!1)};return a?t!=="intent"?[u,v,{}]:[u,v,{onFocus:ja(m,C),onBlur:ja(g,M),onMouseEnter:ja(h,C),onMouseLeave:ja(x,M),onTouchStart:ja(b,C)}]:[!1,v,{}]}function ja(t,r){return a=>{t&&t(a),a.defaultPrevented||r(a)}}function jb({page:t,...r}){let{router:a}=Zh(),s=w.useMemo(()=>_h(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?w.createElement(Vb,{page:t,matches:s,...r}):null}function Gb(t){let{manifest:r,routeModules:a}=Jh(),[s,c]=w.useState([]);return w.useEffect(()=>{let u=!1;return Ob(t,r,a).then(p=>{u||c(p)}),()=>{u=!0}},[t,r,a]),s}function Vb({page:t,matches:r,...a}){let s=Kr(),{manifest:c,routeModules:u}=Jh(),{basename:p}=Zh(),{loaderData:m,matches:g}=Wb(),h=w.useMemo(()=>Pm(t,r,g,c,s,"data"),[t,r,g,c,s]),x=w.useMemo(()=>Pm(t,r,g,c,s,"assets"),[t,r,g,c,s]),b=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,O=!1;if(r.forEach(I=>{let A=c.routes[I.route.id];!A||!A.hasLoader||(!h.some(U=>U.route.id===I.route.id)&&I.route.id in m&&u[I.route.id]?.shouldRevalidate||A.hasClientLoader?O=!0:M.add(I.route.id))}),M.size===0)return[];let S=Mb(t,p,"data");return O&&M.size>0&&S.searchParams.set("_routes",r.filter(I=>M.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[p,m,s,c,h,r,t,u]),v=w.useMemo(()=>$b(x,c),[x,c]),C=Gb(x);return w.createElement(w.Fragment,null,b.map(M=>w.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...a})),v.map(M=>w.createElement("link",{key:M,rel:"modulepreload",href:M,...a})),C.map(({key:M,link:O})=>w.createElement("link",{key:M,nonce:a.nonce,...O})))}function Yb(...t){return r=>{t.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ey&&(window.__reactRouterVersion="7.9.4")}catch{}function qb({basename:t,children:r,window:a}){let s=w.useRef();s.current==null&&(s.current=LE({window:a,v5Compat:!0}));let c=s.current,[u,p]=w.useState({action:c.action,location:c.location}),m=w.useCallback(g=>{w.startTransition(()=>p(g))},[p]);return w.useLayoutEffect(()=>c.listen(m),[c,m]),w.createElement(kb,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c})}var ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ny=w.forwardRef(function({onClick:r,discover:a="render",prefetch:s="none",relative:c,reloadDocument:u,replace:p,state:m,target:g,to:h,preventScrollReset:x,viewTransition:b,...v},C){let{basename:M}=w.useContext(cr),O=typeof h=="string"&&ty.test(h),S,I=!1;if(typeof h=="string"&&O&&(S=h,ey))try{let W=new URL(window.location.href),_=h.startsWith("//")?new URL(W.protocol+h):new URL(h),fe=wr(_.pathname,M);_.origin===W.origin&&fe!=null?h=fe+_.search+_.hash:I=!0}catch{lr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=cb(h,{relative:c}),[U,F,Q]=Hb(s,v),J=Zb(h,{replace:p,state:m,target:g,preventScrollReset:x,relative:c,viewTransition:b});function Ie(W){r&&r(W),W.defaultPrevented||J(W)}let Re=w.createElement("a",{...v,...Q,href:S||A,onClick:I||u?r:Ie,ref:Yb(C,F),target:g,"data-discover":!O&&a==="render"?"true":void 0});return U&&!O?w.createElement(w.Fragment,null,Re,w.createElement(jb,{page:A})):Re});ny.displayName="Link";var Kb=w.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:s="",end:c=!1,style:u,to:p,viewTransition:m,children:g,...h},x){let b=li(p,{relative:h.relative}),v=Kr(),C=w.useContext(Fs),{navigator:M,basename:O}=w.useContext(cr),S=C!=null&&r1(b)&&m===!0,I=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,A=v.pathname,U=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;a||(A=A.toLowerCase(),U=U?U.toLowerCase():null,I=I.toLowerCase()),U&&O&&(U=wr(U,O)||U);const F=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let Q=A===I||!c&&A.startsWith(I)&&A.charAt(F)==="/",J=U!=null&&(U===I||!c&&U.startsWith(I)&&U.charAt(I.length)==="/"),Ie={isActive:Q,isPending:J,isTransitioning:S},Re=Q?r:void 0,W;typeof s=="function"?W=s(Ie):W=[s,Q?"active":null,J?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let _=typeof u=="function"?u(Ie):u;return w.createElement(ny,{...h,"aria-current":Re,className:W,ref:x,style:_,to:p,viewTransition:m},typeof g=="function"?g(Ie):g)});Kb.displayName="NavLink";var Qb=w.forwardRef(({discover:t="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:c,state:u,method:p=Cs,action:m,onSubmit:g,relative:h,preventScrollReset:x,viewTransition:b,...v},C)=>{let M=t1(),O=n1(m,{relative:h}),S=p.toLowerCase()==="get"?"get":"post",I=typeof m=="string"&&ty.test(m),A=U=>{if(g&&g(U),U.defaultPrevented)return;U.preventDefault();let F=U.nativeEvent.submitter,Q=F?.getAttribute("formmethod")||p;M(F||U.currentTarget,{fetcherKey:r,method:Q,navigate:a,replace:c,state:u,relative:h,preventScrollReset:x,viewTransition:b})};return w.createElement("form",{ref:C,method:S,action:O,onSubmit:s?g:A,...v,"data-discover":!I&&t==="render"?"true":void 0})});Qb.displayName="Form";function Xb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ry(t){let r=w.useContext(ra);return bt(r,Xb(t)),r}function Zb(t,{target:r,replace:a,state:s,preventScrollReset:c,relative:u,viewTransition:p}={}){let m=Tn(),g=Kr(),h=li(t,{relative:u});return w.useCallback(x=>{if(Pb(x,r)){x.preventDefault();let b=a!==void 0?a:ti(g)===ti(h);m(t,{replace:b,state:s,preventScrollReset:c,relative:u,viewTransition:p})}},[g,m,h,a,s,r,t,c,u,p])}var Jb=0,e1=()=>`__${String(++Jb)}__`;function t1(){let{router:t}=ry("useSubmit"),{basename:r}=w.useContext(cr),a=bb();return w.useCallback(async(s,c={})=>{let{action:u,method:p,encType:m,formData:g,body:h}=Bb(s,r);if(c.navigate===!1){let x=c.fetcherKey||e1();await t.fetch(x,a,c.action||u,{preventScrollReset:c.preventScrollReset,formData:g,body:h,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await t.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:g,body:h,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[t,r,a])}function n1(t,{relative:r}={}){let{basename:a}=w.useContext(cr),s=w.useContext(ur);bt(s,"useFormAction must be used inside a RouteContext");let[c]=s.matches.slice(-1),u={...li(t||".",{relative:r})},p=Kr();if(t==null){u.search=p.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Sr([a,u.pathname])),ti(u)}function r1(t,{relative:r}={}){let a=w.useContext(Vh);bt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ry("useViewTransitionState"),c=li(t,{relative:r});if(!a.isTransitioning)return!1;let u=wr(a.currentLocation.pathname,s)||a.currentLocation.pathname,p=wr(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Is(c.pathname,p)!=null||Is(c.pathname,u)!=null}const oy=w.createContext(null),ay=({children:t})=>{const[r,a]=w.useState(null),[s,c]=w.useState(!1),[u,p]=w.useState(!0);w.useEffect(()=>{const h=localStorage.getItem("authToken"),x=localStorage.getItem("user");if(h&&x)try{a(JSON.parse(x)),c(!0)}catch(b){console.error("Error parsing stored user:",b),localStorage.removeItem("authToken"),localStorage.removeItem("user")}p(!1)},[]);const m=(h,x)=>{localStorage.setItem("authToken",x),localStorage.setItem("user",JSON.stringify(h)),a(h),c(!0)},g=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),a(null),c(!1)};return o.createElement(oy.Provider,{value:{isAuthenticated:s,user:r,login:m,logout:g,loading:u}},t)},Gt=()=>w.useContext(oy),B={pageSubtitle:{fontSize:"clamp(14px, 2.5vw, 18px)",color:"#64748b",fontWeight:500,lineHeight:1.6},profileDropdown:{position:"absolute",top:"calc(100% + 8px)",right:0,background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",zIndex:1010,width:"max(200px, 15vw)",minWidth:"180px",maxWidth:"250px",overflow:"hidden",paddingTop:"10px",animation:"slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transformOrigin:"top right"},profileDropdownItem:{padding:"12px 16px",cursor:"pointer",fontSize:"clamp(13px, 1.5vw, 14px)",color:"#475569",fontWeight:500,transition:"all 0.2s ease",position:"relative",overflow:"hidden"},noPropertiesContainer:{textAlign:"center",padding:"clamp(40px, 6vw, 60px) clamp(16px, 3vw, 20px)",backgroundColor:"#f8f9fa",borderRadius:"16px",border:"2px dashed #e2e8f0",margin:"0 auto",maxWidth:"600px",animation:"fadeInScale 0.5s ease-out"},noPropertiesText:{fontSize:"clamp(16px, 2.5vw, 18px)",color:"#64748b",marginBottom:"clamp(16px, 3vw, 24px)",lineHeight:1.6},app:{fontFamily:"'Inter', 'Segoe UI', system-ui, sans-serif",minHeight:"100vh",backgroundColor:"#f8fafc",overflow:"hidden",position:"relative"},header:{position:"fixed",top:0,left:0,right:0,width:"100%",zIndex:1e3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 20px rgba(0,0,0,1)"},headerContent:{maxWidth:"1400px",margin:"0 auto",padding:"clamp(12px, 2vw, 16px) clamp(16px, 3vw, 32px)",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},logo:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",fontSize:"clamp(20px, 3vw, 28px)",color:"white",fontWeight:800,cursor:"pointer",transition:"transform 0.3s ease",animation:"logoFloat 3s ease-in-out infinite"},logoIcon:{fontSize:"clamp(24px, 4vw, 32px)"},nav:{display:"flex",gap:"clamp(16px, 2.5vw, 28px)",alignItems:"center",flexWrap:"wrap"},navItem:{position:"relative",cursor:"pointer",padding:"12px 0",transition:"transform 0.2s ease"},navText:{fontSize:"clamp(14px, 1.8vw, 16px)",fontWeight:600,color:"white",transition:"all 0.3s ease",position:"relative"},dropdowns:{display:"flex",gap:"clamp(16px, 2vw, 32px)"},dropdown:{position:"absolute",top:"calc(100% + 8px)",left:"50%",transform:"translateX(-50%)",backgroundColor:"white",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",borderRadius:"16px",padding:"clamp(16px, 2vw, 24px)",marginTop:"2px",minWidth:"min(650px, 90vw)",display:"flex",gap:"clamp(16px, 2vw, 32px)",zIndex:1e3,animation:"dropdownSlide 0.3s cubic-bezier(0.4, 0, 0.2, 1)",flexWrap:"wrap"},dropdownSection:{flex:"1 1 200px",minWidth:"150px"},dropdownTitle:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:700,color:"#4f46e5",marginBottom:"clamp(12px, 2vw, 16px)",textTransform:"uppercase",letterSpacing:"0.5px"},dropdownItem:{padding:"10px 16px",cursor:"pointer",borderRadius:"8px",fontSize:"clamp(13px, 1.6vw, 14px)",color:"#475569",fontWeight:500,marginBottom:"4px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},authSection:{display:"flex",flexDirection:"column",alignItems:"end",gap:"clamp(8px, 1.5vw, 16px)",flexWrap:"wrap"},loginSignup:{display:"flex",alignItems:"right",gap:"10px"},userSection:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.1)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",borderRadius:"12px",backdropFilter:"blur(10px)",transition:"all 0.3s ease",animation:"slideInRight 0.5s ease-out"},userIcon:{fontSize:"clamp(16px, 2vw, 18px)",animation:"bounce 2s ease-in-out infinite"},userName:{fontWeight:600,fontSize:"clamp(12px, 1.6vw, 14px)",color:"white"},authButtons:{display:"flex",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},btnIcon:{marginRight:"8px",fontSize:"clamp(14px, 1.8vw, 16px)"},postBtn:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 2.5vw, 24px)",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"clamp(14px, 1.8vw, 16px)",display:"flex",alignItems:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",whiteSpace:"nowrap"},loginBtn:{backgroundColor:"transparent",color:"white",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 2vw, 20px)",borderRadius:"12px",border:"2px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,fontSize:"clamp(12px, 1.6vw, 14px)",display:"flex",alignItems:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backdropFilter:"blur(10px)",whiteSpace:"nowrap"},signupBtn:{background:"white",color:"#667eea",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 2vw, 20px)",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"clamp(12px, 1.6vw, 14px)",display:"flex",alignItems:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(255,255,255,0.2)",whiteSpace:"nowrap"},container:{maxWidth:"1400px",margin:"0 auto",padding:"clamp(16px, 3vw, 24px) clamp(16px, 3vw, 32px)",minHeight:"80vh",animation:"fadeIn 0.6s ease-out",marginTop:"140px"},heroSection:{backgroundColor:"#e0f2fe",padding:"clamp(30px, 5vw, 60px) clamp(20px, 4vw, 40px)",borderRadius:"clamp(16px, 2vw, 24px)",marginBottom:"clamp(24px, 4vw, 40px)",display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",position:"relative",flexWrap:"wrap",gap:"24px",animation:"slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1)",background:"linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)"},heroContent:{flex:"1 1 400px",maxWidth:"100%",zIndex:2,animation:"slideInLeft 0.8s ease-out"},mainTitle:{fontSize:"clamp(28px, 5vw, 48px)",fontWeight:800,color:"#1e293b",marginBottom:"16px",lineHeight:1.2,animation:"titleReveal 1s ease-out"},titleGradient:{background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",animation:"gradientShift 3s ease-in-out infinite"},heroSubtitle:{fontSize:"clamp(16px, 2.5vw, 20px)",color:"#475569",lineHeight:1.6,animation:"fadeInUp 0.8s ease-out 0.2s both"},heroGraphics:{position:"relative",flex:"1 1 300px",minHeight:"200px",display:"flex",justifyContent:"center",alignItems:"center"},floatingElement1:{position:"absolute",fontSize:"clamp(30px, 5vw, 50px)",top:"10%",left:"10%",animation:"float 6s ease-in-out infinite"},floatingElement2:{position:"absolute",fontSize:"clamp(50px, 8vw, 80px)",top:"40%",right:"10%",animation:"float 7s ease-in-out infinite 1s"},floatingElement3:{position:"absolute",fontSize:"clamp(25px, 4vw, 40px)",bottom:"15%",left:"30%",animation:"float 5s ease-in-out infinite 2s"},searchSection:{marginTop:"clamp(-50px, -8vw, -100px)",marginBottom:"clamp(30px, 5vw, 60px)",zIndex:10,position:"relative",padding:"0 clamp(8px, 2vw, 16px)",animation:"searchSlideUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.3s both"},section:{marginBottom:"clamp(30px, 5vw, 60px)",animation:"fadeIn 0.8s ease-out"},sectionTitle:{fontSize:"clamp(20px, 3.5vw, 28px)",fontWeight:700,color:"#1e293b",marginBottom:"clamp(16px, 3vw, 24px)",display:"flex",alignItems:"center",flexWrap:"wrap",animation:"slideInLeft 0.6s ease-out"},sectionIcon:{marginRight:"clamp(8px, 1.5vw, 12px)",fontSize:"clamp(20px, 3.5vw, 28px)",animation:"iconBounce 1s ease-out"},areasGrid:{display:"flex",flexWrap:"wrap",gap:"clamp(12px, 2vw, 16px)",animation:"gridFadeIn 0.8s ease-out"},areaButton:{backgroundColor:"white",color:"#334155",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 2.5vw, 24px)",borderRadius:"12px",border:"2px solid #e2e8f0",cursor:"pointer",fontWeight:600,fontSize:"clamp(14px, 1.8vw, 16px)",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",animation:"buttonFadeIn 0.6s ease-out",flex:"0 1 auto"},areaEmoji:{fontSize:"clamp(16px, 2vw, 18px)",transition:"transform 0.3s ease"},propertiesSection:{marginBottom:"clamp(30px, 5vw, 60px)",paddingTop:"clamp(16px, 2vw, 20px)",animation:"sectionReveal 0.8s ease-out"},tabContainer:{display:"flex",marginBottom:"clamp(16px, 2vw, 20px)",borderBottom:"2px solid #e2e8f0",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"},gap:"clamp(8px, 1vw, 12px)",paddingBottom:"2px"},tab:{padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 2vw, 24px)",fontSize:"clamp(14px, 1.8vw, 16px)",fontWeight:600,cursor:"pointer",border:"none",backgroundColor:"transparent",color:"#64748b",borderBottom:"3px solid transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",whiteSpace:"nowrap",flex:"0 0 auto",position:"relative"},activeTab:{color:"#667eea",borderBottom:"3px solid #667eea",animation:"tabActivate 0.4s ease-out"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"clamp(16px, 3vw, 24px)",flexWrap:"wrap",gap:"16px"},clearSearchBtn:{backgroundColor:"#f1f5f9",color:"#475569",padding:"clamp(8px, 1vw, 10px) clamp(12px, 2vw, 16px)",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"clamp(12px, 1.6vw, 14px)",transition:"all 0.3s ease",whiteSpace:"nowrap"},emptyState:{textAlign:"center",padding:"clamp(40px, 6vw, 60px) clamp(16px, 3vw, 20px)",backgroundColor:"#ffffff",borderRadius:"16px",border:"2px dashed #cbd5e1",marginTop:"clamp(20px, 3vw, 32px)",animation:"emptyStateReveal 0.5s ease-out",maxWidth:"600px",margin:"32px auto"},emptyIcon:{fontSize:"clamp(36px, 6vw, 48px)",marginBottom:"16px",animation:"iconFloat 2s ease-in-out infinite"},emptyTitle:{fontSize:"clamp(18px, 3vw, 24px)",fontWeight:700,color:"#1e293b",marginBottom:"8px"},emptyText:{fontSize:"clamp(14px, 2vw, 16px)",color:"#64748b",marginBottom:"clamp(16px, 3vw, 24px)",lineHeight:1.6},statsSection:{padding:"clamp(24px, 4vw, 40px) 0",backgroundColor:"#f1f5f9",borderRadius:"clamp(16px, 2vw, 24px)",marginBottom:"clamp(24px, 4vw, 40px)",position:"relative",overflow:"hidden",animation:"statsReveal 0.8s ease-out"},statsGrid:{maxWidth:"1200px",margin:"0 auto",padding:"0 clamp(16px, 3vw, 24px)",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(200px, 100%), 1fr))",gap:"clamp(16px, 3vw, 32px)"},statCard:{textAlign:"center",padding:"clamp(16px, 2.5vw, 20px)",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 8px 20px rgba(0,0,0,0.05)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",animation:"statCardReveal 0.6s ease-out",animationFillMode:"both",position:"relative",overflow:"hidden"},statIcon:{fontSize:"clamp(28px, 4vw, 36px)",marginBottom:"12px",animation:"statIconPop 0.8s ease-out"},statNumber:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:800,color:"#667eea",marginBottom:"4px",animation:"numberCount 1.5s ease-out"},statLabel:{fontSize:"clamp(14px, 2vw, 16px)",color:"#64748b"},backButton:{backgroundColor:"transparent",border:"none",color:"#4f46e5",cursor:"pointer",fontSize:"clamp(14px, 2vw, 16px)",fontWeight:600,marginBottom:"clamp(16px, 2vw, 20px)",display:"flex",alignItems:"center",transition:"all 0.3s ease",padding:"8px 4px"},backIcon:{marginRight:"8px",transition:"transform 0.3s ease"},pageHeader:{marginBottom:"clamp(20px, 4vw, 32px)",borderBottom:"2px solid #e2e8f0",paddingBottom:"clamp(12px, 2vw, 16px)",animation:"headerSlide 0.5s ease-out"},pageTitle:{fontSize:"clamp(24px, 4.5vw, 36px)",fontWeight:800,color:"#1e293b",marginBottom:"8px",lineHeight:1.2,animation:"titleFade 0.6s ease-out"},loadingContainer:{textAlign:"center",padding:"clamp(60px, 8vw, 80px) clamp(16px, 3vw, 20px)",backgroundColor:"#f8f9fa",borderRadius:"16px",marginTop:"clamp(20px, 3vw, 32px)",animation:"pulse 1.5s ease-in-out infinite"},spinner:{fontSize:"clamp(36px, 6vw, 48px)",marginBottom:"16px",animation:"spin 1s linear infinite",display:"inline-block"},errorContainer:{textAlign:"center",padding:"clamp(40px, 6vw, 60px) clamp(16px, 3vw, 20px)",backgroundColor:"#fee2e2",borderRadius:"16px",border:"2px solid #f87171",color:"#dc2626",marginTop:"clamp(20px, 3vw, 32px)",animation:"shakeError 0.5s ease-out",maxWidth:"600px",margin:"32px auto"},retryBtn:{marginTop:"clamp(16px, 2vw, 20px)",backgroundColor:"#dc2626",color:"white",padding:"clamp(8px, 1.5vw, 10px) clamp(16px, 2.5vw, 20px)",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"clamp(14px, 2vw, 16px)"},statsBar:{display:"flex",gap:"clamp(16px, 3vw, 24px)",marginBottom:"clamp(20px, 4vw, 32px)",padding:"clamp(16px, 3vw, 24px)",backgroundColor:"#f8fafc",borderRadius:"16px",border:"2px solid #e2e8f0",flexWrap:"wrap",animation:"slideDown 0.5s ease-out"},statItem:{display:"flex",flexDirection:"column",gap:"4px",flex:"1 1 150px",minWidth:"120px"},statValue:{fontSize:"clamp(18px, 3vw, 24px)",fontWeight:700,color:"#1e293b",animation:"countUp 1s ease-out"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:"clamp(16px, 3vw, 32px)",marginTop:"clamp(16px, 2vw, 24px)",animation:"gridReveal 0.8s ease-out"}},o1=()=>{const t=document.createElement("style");t.textContent=`
      /* Keyframe animations */
      @keyframes float {
        0%, 100% { 
          transform: translateY(0px) rotate(0deg) scale(1);
        }
        25% { 
          transform: translateY(-10px) rotate(2deg) scale(1.05);
        }
        50% { 
          transform: translateY(-20px) rotate(-2deg) scale(1.1);
        }
        75% { 
          transform: translateY(-10px) rotate(1deg) scale(1.05);
        }
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(40px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInScale {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(1.05);
        }
      }

      @keyframes bounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes iconBounce {
        0% {
          transform: translateY(0) scale(1);
        }
        30% {
          transform: translateY(-5px) scale(1.1);
        }
        50% {
          transform: translateY(0) scale(1.05);
        }
        100% {
          transform: translateY(0) scale(1);
        }
      }

      @keyframes iconFloat {
        0%, 100% {
          transform: translateY(0) rotate(0);
        }
        25% {
          transform: translateY(-5px) rotate(5deg);
        }
        75% {
          transform: translateY(5px) rotate(-5deg);
        }
      }

      @keyframes logoFloat {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-3px);
        }
      }

      @keyframes dropdownSlide {
        from {
          opacity: 0;
          transform: translateX(-50%) translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateX(-50%) translateY(0);
        }
      }

      @keyframes titleReveal {
        from {
          opacity: 0;
          transform: translateY(30px);
          letter-spacing: -1px;
        }
        to {
          opacity: 1;
          transform: translateY(0);
          letter-spacing: 0;
        }
      }

      @keyframes gradientShift {
        0%, 100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      @keyframes searchSlideUp {
        from {
          opacity: 0;
          transform: translateY(60px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      @keyframes gridFadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes buttonFadeIn {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes sectionReveal {
        from {
          opacity: 0;
          transform: translateY(40px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes tabActivate {
        from {
          transform: scaleX(0);
        }
        to {
          transform: scaleX(1);
        }
      }

      @keyframes emptyStateReveal {
        from {
          opacity: 0;
          transform: scale(0.9) translateY(20px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }

      @keyframes statsReveal {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes statCardReveal {
        from {
          opacity: 0;
          transform: translateY(30px) rotateX(-30deg);
        }
        to {
          opacity: 1;
          transform: translateY(0) rotateX(0);
        }
      }

      @keyframes statIconPop {
        0% {
          transform: scale(0) rotate(-180deg);
        }
        50% {
          transform: scale(1.2) rotate(10deg);
        }
        100% {
          transform: scale(1) rotate(0);
        }
      }

      @keyframes numberCount {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes headerSlide {
        from {
          transform: translateY(-20px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes titleFade {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes shakeError {
        0%, 100% {
          transform: translateX(0);
        }
        10%, 30%, 50%, 70%, 90% {
          transform: translateX(-5px);
        }
        20%, 40%, 60%, 80% {
          transform: translateX(5px);
        }
      }

      @keyframes countUp {
        from {
          opacity: 0;
          transform: scale(0.5);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes gridReveal {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes waveAnimation {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      @keyframes shimmer {
        0% {
          background-position: -1000px 0;
        }
        100% {
          background-position: 1000px 0;
        }
      }

      /* Hover effects with smooth transitions */
      .property-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transform: translateY(0);
      }

      .property-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 40px rgba(0,0,0,0.12);
      }

      .areaButton {
        position: relative;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .areaButton::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(102, 126, 234, 0.1);
        transition: width 0.4s ease, height 0.4s ease;
        transform: translate(-50%, -50%);
      }

      .areaButton:hover::before {
        width: 100%;
        height: 100%;
      }

      .areaButton:hover {
        transform: translateY(-4px) scale(1.05);
        border-color: #667eea;
        color: #667eea;
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.25);
        background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
      }

      div[style*="dropdownItem"] {
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      div[style*="dropdownItem"]::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(79, 70, 229, 0.1), transparent);
        transition: left 0.5s ease;
      }

      div[style*="dropdownItem"]:hover::before {
        left: 100%;
      }

      div[style*="dropdownItem"]:hover {
        background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
        color: #4f46e5;
        transform: translateX(5px);
        padding-left: 20px;
      }

      .userSection {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .userSection:hover {
        cursor: pointer;
        background: rgba(255, 255, 255, 0.25) !important;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      /* Button hover effects */
      button {
        position: relative;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      button::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s ease, height 0.6s ease;
      }

      button:hover::after {
        width: 300px;
        height: 300px;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      }

      button:active {
        transform: translateY(0);
      }

      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        transition: background 0.3s ease;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
      }

      /* Loading skeleton animation */
      .skeleton {
        background: linear-gradient(
          90deg,
          #f0f0f0 25%,
          #e0e0e0 50%,
          #f0f0f0 75%
        );
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
      }

      /* Stagger animation for list items */
      .stagger-item {
        opacity: 0;
        animation: fadeInUp 0.5s ease-out forwards;
      }

      .stagger-item:nth-child(1) { animation-delay: 0.1s; }
      .stagger-item:nth-child(2) { animation-delay: 0.2s; }
      .stagger-item:nth-child(3) { animation-delay: 0.3s; }
      .stagger-item:nth-child(4) { animation-delay: 0.4s; }
      .stagger-item:nth-child(5) { animation-delay: 0.5s; }
      .stagger-item:nth-child(6) { animation-delay: 0.6s; }
      .stagger-item:nth-child(7) { animation-delay: 0.7s; }
      .stagger-item:nth-child(8) { animation-delay: 0.8s; }
      .stagger-item:nth-child(9) { animation-delay: 0.9s; }
      .stagger-item:nth-child(10) { animation-delay: 1s; }

      /* Responsive animations */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Mobile specific animations */
      @media (max-width: 768px) {
        @keyframes mobileMenuSlide {
          from {
            transform: translateX(-100%);
          }
          to {
            transform: translateX(0);
          }
        }

        @keyframes mobileMenuFade {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .mobile-menu-item {
          opacity: 0;
          transform: translateX(-20px);
          animation: slideInLeft 0.3s ease-out forwards;
        }

        .mobile-menu-item:nth-child(1) { animation-delay: 0.1s; }
        .mobile-menu-item:nth-child(2) { animation-delay: 0.15s; }
        .mobile-menu-item:nth-child(3) { animation-delay: 0.2s; }
        .mobile-menu-item:nth-child(4) { animation-delay: 0.25s; }
        .mobile-menu-item:nth-child(5) { animation-delay: 0.3s; }
      }

      /* Parallax scrolling effect */
      .parallax {
        transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Text reveal animation */
      @keyframes textReveal {
        from {
          clip-path: inset(0 100% 0 0);
        }
        to {
          clip-path: inset(0 0 0 0);
        }
      }

      .text-reveal {
        animation: textReveal 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      /* Glow effect */
      @keyframes glow {
        0%, 100% {
          box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }
        50% {
          box-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }
      }

      .glow-effect {
        animation: glow 2s ease-in-out infinite;
      }

      /* Page transitions */
      .page-enter {
        opacity: 0;
        transform: translateY(20px);
      }

      .page-enter-active {
        opacity: 1;
        transform: translateY(0);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .page-exit {
        opacity: 1;
        transform: translateY(0);
      }

      .page-exit-active {
        opacity: 0;
        transform: translateY(-20px);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Focus visible styles for accessibility */
      *:focus-visible {
        outline: 2px solid #667eea;
        outline-offset: 2px;
        transition: outline-offset 0.2s ease;
      }

      *:focus-visible:hover {
        outline-offset: 4px;
      }

      /* Performance optimizations */
      .hardware-accelerated {
        transform: translateZ(0);
        will-change: transform;
        backface-visibility: hidden;
      }

      /* Responsive font scaling */
      @media (max-width: 1024px) {
        html {
          font-size: 15px;
        }
      }

      @media (max-width: 768px) {
        html {
          font-size: 14px;
        }
      }

      @media (max-width: 480px) {
        html {
          font-size: 13px;
        }
      }
    `,document.head.appendChild(t)},$e="http://localhost:8080",a1=t=>{if(t.length<6)return{strength:"Too Short",color:"#dc3545"};let r=0;return t.match(/[a-z]/)&&r++,t.match(/[A-Z]/)&&r++,t.match(/[0-9]/)&&r++,t.match(/[^a-zA-Z0-9]/)&&r++,r<2?{strength:"Weak",color:"#ffc107"}:r<4?{strength:"Medium",color:"#007bff"}:{strength:"Strong",color:"#28a745"}};function i1({onClose:t}){const[r,a]=w.useState({username:"",password:""}),[s,c]=w.useState(!1),[u,p]=w.useState({firstName:"",lastName:"",username:"",email:"",password:"",mobileNumber:""}),m=w.useMemo(()=>a1(u.password),[u.password]),[g,h]=w.useState(null),[x,b]=w.useState(!1),{login:v}=Gt(),C=Re=>{const{name:W,value:_}=Re.target;a({...r,[W]:_}),h(null)},M=Re=>{const{name:W,value:_}=Re.target;p({...u,[W]:_}),h(null)},O=async Re=>{Re.preventDefault(),b(!0),h(null);try{const W=await fetch(`${$e}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),_=await W.json();W.ok&&_.data&&_.data.token?(v(_.data.user,_.data.token),t()):h(_.message||"Login failed")}catch(W){h("Network error. Please try again."),console.error("Login error:",W)}finally{b(!1)}},S=async Re=>{if(Re.preventDefault(),u.password.length<6){h("Password must be at least 6 characters");return}b(!0),h(null);try{const W=await fetch(`${$e}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),_=await W.json();W.ok&&_.data&&_.data.token?(v(_.data.user,_.data.token),t()):h(_.message||"Registration failed")}catch(W){h("Network error. Please try again."),console.error("Register error:",W)}finally{b(!1)}},I={position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},A={background:"rgba(120, 70, 200, 0.2)",backdropFilter:"blur(16px)",borderRadius:"18px",width:"420px",padding:"35px 30px",color:"#f3e8ff",fontFamily:"Inter, system-ui, sans-serif",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 10px 40px rgba(70, 30, 120, 0.4)",position:"relative",transition:"all 0.3s ease-in-out"},U={width:"100%",padding:"12px 15px",boxSizing:"border-box",marginBottom:"1rem",borderRadius:"10px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"15px",outline:"none",transition:"border 0.3s, background 0.3s"},F={width:"100%",padding:"12px",background:"linear-gradient(135deg, #9b5de5 0%, #845ec2 50%, #5c4b99 100%)",color:"white",border:"none",cursor:"pointer",borderRadius:"10px",fontSize:"16px",fontWeight:"600",marginBottom:"1rem",boxShadow:"0 4px 12px rgba(155, 93, 229, 0.4)",transition:"transform 0.2s ease, box-shadow 0.3s ease"},Q={...F,background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",boxShadow:"none",fontWeight:"500",fontSize:"15px"},J={background:"rgba(255, 0, 70, 0.15)",color:"#ffb3b3",padding:"12px",borderRadius:"8px",marginBottom:"1rem",fontSize:"14px",border:"1px solid rgba(255, 0, 70, 0.3)"},Ie={marginTop:0,marginBottom:"1.8rem",fontSize:"24px",fontWeight:"700",textAlign:"center",background:"linear-gradient(90deg, #b57aff, #845ec2, #9b5de5)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"0.5px"};return o.createElement("div",{style:I,onClick:t},o.createElement("div",{style:A,onClick:Re=>Re.stopPropagation()},o.createElement("button",{onClick:t,style:{position:"absolute",top:"10px",right:"15px",border:"none",background:"transparent",fontSize:"24px",cursor:"pointer"}},"×"),g&&o.createElement("div",{style:J},"❌ ",g),s?o.createElement("form",{onSubmit:S},o.createElement("h2",{style:Ie},s?"✨ CREATE ACCOUNT":"🔑 LOGIN"),o.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:u.firstName,onChange:M,style:U,required:!0}),o.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:u.lastName,onChange:M,style:U,required:!0}),o.createElement("input",{type:"text",name:"username",placeholder:"Username",value:u.username,onChange:M,style:U,required:!0}),o.createElement("input",{type:"email",name:"email",placeholder:"Email",value:u.email,onChange:M,style:U,required:!0}),o.createElement("input",{type:"tel",name:"mobileNumber",placeholder:"Mobile Number",value:u.mobileNumber,onChange:M,style:U}),o.createElement("input",{type:"password",name:"password",placeholder:"Password (min 6 chars)",value:u.password,onChange:M,style:U,required:!0}),u.password&&o.createElement("div",{style:{marginBottom:"15px",fontSize:"14px"}},"Password Strength:"," ",o.createElement("span",{style:{color:m.color,fontWeight:"bold"}},m.strength)),o.createElement("button",{type:"submit",style:F,disabled:x},x?"⏳ Registering...":"✅ Register"),o.createElement("button",{type:"button",onClick:()=>{c(!1),h(null)},style:Q},"🔑 Back to Login")):o.createElement("form",{onSubmit:O},o.createElement("h2",{style:{marginTop:0,marginBottom:"1.5rem"}},"🔑 Login"),o.createElement("input",{type:"text",name:"username",placeholder:"Username",value:r.username,onChange:C,style:U,required:!0}),o.createElement("input",{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:C,style:U,required:!0}),o.createElement("button",{type:"submit",style:F,disabled:x},x?"⏳ Logging in...":"✅ Login"),o.createElement("button",{type:"button",onClick:()=>{c(!0),h(null)},style:Q},"📝 Create New Account"))))}const s1=t=>({setHttpHandler(r){t.httpHandler=r},httpHandler(){return t.httpHandler},updateHttpClientConfig(r,a){t.httpHandler?.updateHttpClientConfig(r,a)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),l1=t=>({httpHandler:t.httpHandler()});var ni;(function(t){t.HTTP="http",t.HTTPS="https"})(ni||(ni={}));var Ps;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Ps||(Ps={}));const Pu="__smithy_context";class cn{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}static clone(r){const a=new cn({...r,headers:{...r.headers}});return a.query&&(a.query=c1(a.query)),a}static isInstance(r){if(!r)return!1;const a=r;return"method"in a&&"protocol"in a&&"hostname"in a&&"path"in a&&typeof a.query=="object"&&typeof a.headers=="object"}clone(){return cn.clone(this)}}function c1(t){return Object.keys(t).reduce((r,a)=>{const s=t[a];return{...r,[a]:Array.isArray(s)?[...s]:s}},{})}class Xo{statusCode;reason;headers;body;constructor(r){this.statusCode=r.statusCode,this.reason=r.reason,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;const a=r;return typeof a.statusCode=="number"&&typeof a.headers=="object"}}function u1(t){return r=>async a=>{const{request:s}=a;return cn.isInstance(s)&&s.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(s.headers={...s.headers,Expect:"100-continue"}),r({...a,request:s})}}const d1={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},p1=t=>({applyToStack:r=>{r.add(u1(t),d1)}}),iy={WHEN_SUPPORTED:"WHEN_SUPPORTED"},f1=iy.WHEN_SUPPORTED,m1=iy.WHEN_SUPPORTED;var Nu;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(Nu||(Nu={}));var Nm;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Nm||(Nm={}));Nu.CRC32;function g1(t,r,a){return t.$source||(t.$source={}),t.$source[r]=a,t}function Xn(t,r,a){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[r]=a}const Dm=t=>Xo.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,Ku=t=>new Date(Date.now()+t),h1=(t,r)=>Math.abs(Ku(r).getTime()-t)>=3e5,Bm=(t,r)=>{const a=Date.parse(t);return h1(a,r)?a-Date.now():r},Ka=(t,r)=>{if(!r)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return r},sy=async t=>{const r=Ka("context",t.context),a=Ka("config",t.config),s=r.endpointV2?.properties?.authSchemes?.[0],u=await Ka("signer",a.signer)(s),p=t?.signingRegion,m=t?.signingRegionSet,g=t?.signingName;return{config:a,signer:u,signingRegion:p,signingRegionSet:m,signingName:g}};class ly{async sign(r,a,s){if(!cn.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const c=await sy(s),{config:u,signer:p}=c;let{signingRegion:m,signingName:g}=c;const h=s.context;if(h?.authSchemes?.length??!1){const[b,v]=h.authSchemes;b?.name==="sigv4a"&&v?.name==="sigv4"&&(m=v?.signingRegion??m,g=v?.signingName??g)}return await p.sign(r,{signingDate:Ku(u.systemClockOffset),signingRegion:m,signingService:g})}errorHandler(r){return a=>{const s=a.ServerTime??Dm(a.$response);if(s){const c=Ka("config",r.config),u=c.systemClockOffset;c.systemClockOffset=Bm(s,c.systemClockOffset),c.systemClockOffset!==u&&a.$metadata&&(a.$metadata.clockSkewCorrected=!0)}throw a}}successHandler(r,a){const s=Dm(r);if(s){const c=Ka("config",a.config);c.systemClockOffset=Bm(s,c.systemClockOffset)}}}class y1 extends ly{async sign(r,a,s){if(!cn.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:c,signer:u,signingRegion:p,signingRegionSet:m,signingName:g}=await sy(s),x=(await c.sigv4aSigningRegionSet?.()??m??[p]).join(",");return await u.sign(r,{signingDate:Ku(c.systemClockOffset),signingRegion:x,signingService:g})}}const oa=t=>t[Pu]||(t[Pu]={}),Zn=t=>{if(typeof t=="function")return t;const r=Promise.resolve(t);return()=>r},x1=(t,r)=>{if(!r||r.length===0)return t;const a=[];for(const s of r)for(const c of t)c.schemeId.split("#")[1]===s&&a.push(c);for(const s of t)a.find(({schemeId:c})=>c===s.schemeId)||a.push(s);return a};function E1(t){const r=new Map;for(const a of t)r.set(a.schemeId,a);return r}const b1=(t,r)=>(a,s)=>async c=>{const u=t.httpAuthSchemeProvider(await r.httpAuthSchemeParametersProvider(t,s,c.input)),p=t.authSchemePreference?await t.authSchemePreference():[],m=x1(u,p),g=E1(t.httpAuthSchemes),h=oa(s),x=[];for(const b of m){const v=g.get(b.schemeId);if(!v){x.push(`HttpAuthScheme \`${b.schemeId}\` was not enabled for this service.`);continue}const C=v.identityProvider(await r.identityProviderConfigProvider(t));if(!C){x.push(`HttpAuthScheme \`${b.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:M={},signingProperties:O={}}=b.propertiesExtractor?.(t,s)||{};b.identityProperties=Object.assign(b.identityProperties||{},M),b.signingProperties=Object.assign(b.signingProperties||{},O),h.selectedHttpAuthScheme={httpAuthOption:b,identity:await C(b.identityProperties),signer:v.signer};break}if(!h.selectedHttpAuthScheme)throw new Error(x.join(`
`));return a(c)},v1={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},S1=(t,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:a})=>({applyToStack:s=>{s.addRelativeTo(b1(t,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:a}),v1)}}),w1=(t,r)=>(a,s)=>async c=>{const{response:u}=await a(c);try{const p=await r(u,t);return{response:u,output:p}}catch(p){if(Object.defineProperty(p,"$response",{value:u}),!("$metadata"in p)){const m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{p.message+=`
  `+m}catch{!s.logger||s.logger?.constructor?.name==="NoOpLogger"?console.warn(m):s.logger?.warn?.(m)}typeof p.$responseBodyText<"u"&&p.$response&&(p.$response.body=p.$responseBodyText);try{if(Xo.isInstance(u)){const{headers:g={}}=u,h=Object.entries(g);p.$metadata={httpStatusCode:u.statusCode,requestId:_c(/^x-[\w-]+-request-?id$/,h),extendedRequestId:_c(/^x-[\w-]+-id-2$/,h),cfId:_c(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw p}},_c=(t,r)=>(r.find(([a])=>a.match(t))||[void 0,void 0])[1],k1=(t,r)=>(a,s)=>async c=>{const u=t,p=s.endpointV2?.url&&u.urlParser?async()=>u.urlParser(s.endpointV2.url):u.endpoint;if(!p)throw new Error("No valid endpoint provider available.");const m=await r(c.input,{...t,endpoint:p});return a({...c,request:m})},C1={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},cy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function T1(t,r,a){return{applyToStack:s=>{s.add(w1(t,a),C1),s.add(k1(t,r),cy)}}}const A1=t=>r=>{throw r},R1=(t,r)=>{},I1=t=>(r,a)=>async s=>{if(!cn.isInstance(s.request))return r(s);const u=oa(a).selectedHttpAuthScheme;if(!u)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:p={}},identity:m,signer:g}=u,h=await r({...s,request:await g.sign(s.request,m,p)}).catch((g.errorHandler||A1)(p));return(g.successHandler||R1)(h.response,p),h},uy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},P1=t=>({applyToStack:r=>{r.addRelativeTo(I1(),uy)}}),Ko=t=>{if(typeof t=="function")return t;const r=Promise.resolve(t);return()=>r},dy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mm=Object.entries(dy).reduce((t,[r,a])=>(t[a]=Number(r),t),{}),N1=dy.split(""),Qo=6,Qa=8,D1=63,Qu=t=>{let r=t.length/4*3;t.slice(-2)==="=="?r-=2:t.slice(-1)==="="&&r--;const a=new ArrayBuffer(r),s=new DataView(a);for(let c=0;c<t.length;c+=4){let u=0,p=0;for(let h=c,x=c+3;h<=x;h++)if(t[h]!=="="){if(!(t[h]in Mm))throw new TypeError(`Invalid character ${t[h]} in base64 string.`);u|=Mm[t[h]]<<(x-h)*Qo,p+=Qo}else u>>=Qo;const m=c/4*3;u>>=p%Qa;const g=Math.floor(p/Qa);for(let h=0;h<g;h++){const x=(g-h-1)*Qa;s.setUint8(m+h,(u&255<<x)>>x)}}return new Uint8Array(a)},yo=t=>new TextEncoder().encode(t),ri=t=>typeof t=="string"?yo(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),Us=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function Xu(t){let r;typeof t=="string"?r=yo(t):r=t;const a=typeof r=="object"&&typeof r.length=="number",s=typeof r=="object"&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number";if(!a&&!s)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let c="";for(let u=0;u<r.length;u+=3){let p=0,m=0;for(let h=u,x=Math.min(u+3,r.length);h<x;h++)p|=r[h]<<(x-h-1)*Qa,m+=Qa;const g=Math.ceil(m/Qo);p<<=g*Qo-m;for(let h=1;h<=g;h++){const x=(g-h)*Qo;c+=N1[(p&D1<<x)>>x]}c+="==".slice(0,4-g)}return c}class go extends Uint8Array{static fromString(r,a="utf-8"){if(typeof r=="string")return a==="base64"?go.mutate(Qu(r)):go.mutate(yo(r));throw new Error(`Unsupported conversion from ${typeof r} to Uint8ArrayBlobAdapter.`)}static mutate(r){return Object.setPrototypeOf(r,go.prototype),r}transformToString(r="utf-8"){return r==="base64"?Xu(this):Us(this)}}const zm=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream),B1=(t,r)=>{const{base64Encoder:a,bodyLengthChecker:s,checksumAlgorithmFn:c,checksumLocationName:u,streamHasher:p}=r,m=a!==void 0&&s!==void 0&&c!==void 0&&u!==void 0&&p!==void 0,g=m?p(c,t):void 0,h=t.getReader();return new ReadableStream({async pull(x){const{value:b,done:v}=await h.read();if(v){if(x.enqueue(`0\r
`),m){const C=a(await g);x.enqueue(`${u}:${C}\r
`),x.enqueue(`\r
`)}x.close()}else x.enqueue(`${(s(b)||0).toString(16)}\r
${b}\r
`)}})};async function M1(t,r){let a=0;const s=[],c=t.getReader();let u=!1;for(;!u;){const{done:g,value:h}=await c.read();if(h&&(s.push(h),a+=h?.byteLength??0),a>=r)break;u=g}c.releaseLock();const p=new Uint8Array(Math.min(r,a));let m=0;for(const g of s){if(g.byteLength>p.byteLength-m){p.set(g.subarray(0,p.byteLength-m),m);break}else p.set(g,m);m+=g.length}return p}const ho=t=>encodeURIComponent(t).replace(/[!'()*]/g,z1),z1=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function L1(t){const r=[];for(let a of Object.keys(t).sort()){const s=t[a];if(a=ho(a),Array.isArray(s))for(let c=0,u=s.length;c<u;c++)r.push(`${a}=${ho(s[c])}`);else{let c=a;(s||typeof s=="string")&&(c+=`=${ho(s)}`),r.push(c)}}return r.join("&")}function Lm(t,r){return new Request(t,r)}function O1(t=0){return new Promise((r,a)=>{t&&setTimeout(()=>{const s=new Error(`Request did not complete within ${t} ms`);s.name="TimeoutError",a(s)},t)})}const Uc={supported:void 0};class Zu{config;configProvider;static create(r){return typeof r?.handle=="function"?r:new Zu(r)}constructor(r){typeof r=="function"?this.configProvider=r().then(a=>a||{}):(this.config=r??{},this.configProvider=Promise.resolve(this.config)),Uc.supported===void 0&&(Uc.supported=typeof Request<"u"&&"keepalive"in Lm("https://[::1]"))}destroy(){}async handle(r,{abortSignal:a,requestTimeout:s}={}){this.config||(this.config=await this.configProvider);const c=s??this.config.requestTimeout,u=this.config.keepAlive===!0,p=this.config.credentials;if(a?.aborted){const A=new Error("Request aborted");return A.name="AbortError",Promise.reject(A)}let m=r.path;const g=L1(r.query||{});g&&(m+=`?${g}`),r.fragment&&(m+=`#${r.fragment}`);let h="";if(r.username!=null||r.password!=null){const A=r.username??"",U=r.password??"";h=`${A}:${U}@`}const{port:x,method:b}=r,v=`${r.protocol}//${h}${r.hostname}${x?`:${x}`:""}${m}`,C=b==="GET"||b==="HEAD"?void 0:r.body,M={body:C,headers:new Headers(r.headers),method:b,credentials:p};this.config?.cache&&(M.cache=this.config.cache),C&&(M.duplex="half"),typeof AbortController<"u"&&(M.signal=a),Uc.supported&&(M.keepalive=u),typeof this.config.requestInit=="function"&&Object.assign(M,this.config.requestInit(r));let O=()=>{};const S=Lm(v,M),I=[fetch(S).then(A=>{const U=A.headers,F={};for(const J of U.entries())F[J[0]]=J[1];return A.body!=null?{response:new Xo({headers:F,reason:A.statusText,statusCode:A.status,body:A.body})}:A.blob().then(J=>({response:new Xo({headers:F,reason:A.statusText,statusCode:A.status,body:J})}))}),O1(c)];return a&&I.push(new Promise((A,U)=>{const F=()=>{const Q=new Error("Request aborted");Q.name="AbortError",U(Q)};if(typeof a.addEventListener=="function"){const Q=a;Q.addEventListener("abort",F,{once:!0}),O=()=>Q.removeEventListener("abort",F)}else a.onabort=F})),Promise.race(I).finally(O)}updateHttpClientConfig(r,a){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[r]=a,s))}httpHandlerConfigs(){return this.config??{}}}const py=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):$1(t):F1(t);async function $1(t){const r=await _1(t),a=Qu(r);return new Uint8Array(a)}async function F1(t){const r=[],a=t.getReader();let s=!1,c=0;for(;!s;){const{done:m,value:g}=await a.read();g&&(r.push(g),c+=g.length),s=m}const u=new Uint8Array(c);let p=0;for(const m of r)u.set(m,p),p+=m.length;return u}function _1(t){return new Promise((r,a)=>{const s=new FileReader;s.onloadend=()=>{if(s.readyState!==2)return a(new Error("Reader aborted too early"));const c=s.result??"",u=c.indexOf(","),p=u>-1?u+1:c.length;r(c.substring(p))},s.onabort=()=>a(new Error("Read aborted")),s.onerror=()=>a(s.error),s.readAsDataURL(t)})}const fy={},Du={};for(let t=0;t<256;t++){let r=t.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),fy[t]=r,Du[r]=t}function my(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const r=new Uint8Array(t.length/2);for(let a=0;a<t.length;a+=2){const s=t.slice(a,a+2).toLowerCase();if(s in Du)r[a/2]=Du[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return r}function kn(t){let r="";for(let a=0;a<t.byteLength;a++)r+=fy[t[a]];return r}const Om="The stream has already been transformed.",U1=t=>{if(!$m(t)&&!zm(t)){const c=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${c}`)}let r=!1;const a=async()=>{if(r)throw new Error(Om);return r=!0,await py(t)},s=c=>{if(typeof c.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return c.stream()};return Object.assign(t,{transformToByteArray:a,transformToString:async c=>{const u=await a();if(c==="base64")return Xu(u);if(c==="hex")return kn(u);if(c===void 0||c==="utf8"||c==="utf-8")return Us(u);if(typeof TextDecoder=="function")return new TextDecoder(c).decode(u);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw new Error(Om);if(r=!0,$m(t))return s(t);if(zm(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},$m=t=>typeof Blob=="function"&&t instanceof Blob;async function W1(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}const H1=async(t=new Uint8Array,r)=>{if(t instanceof Uint8Array)return go.mutate(t);if(!t)return go.mutate(new Uint8Array);const a=r.streamCollector(t);return go.mutate(await a)};function Fm(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}const Wc=t=>typeof t=="function"?t():t;function Es(t){if(typeof t=="object")return t;t=t|0;const r={};let a=0;for(const s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>a++&1)===1&&(r[s]=1);return r}class vr{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=vr.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(r,a){this.ref=r,this.memberName=a;const s=[];let c=r,u=r;for(this._isMemberSchema=!1;Hc(c);)s.push(c[1]),c=c[0],u=Wc(c),this._isMemberSchema=!0;if(s.length>0){this.memberTraits={};for(let p=s.length-1;p>=0;--p){const m=s[p];Object.assign(this.memberTraits,Es(m))}}else this.memberTraits=0;if(u instanceof vr){const p=this.memberTraits;Object.assign(this,u),this.memberTraits=Object.assign({},p,u.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=a??u.memberName;return}if(this.schema=Wc(u),j1(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(u),this.traits=0),this._isMemberSchema&&!a)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](r){const a=this.prototype.isPrototypeOf(r);return!a&&typeof r=="object"&&r!==null?r.symbol===this.symbol:a}static of(r){const a=Wc(r);if(a instanceof vr)return a;if(Hc(a)){const[s,c]=a;if(s instanceof vr)return Object.assign(s.getMergedTraits(),Es(c)),s;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(r,null,2)}.`)}return new vr(a)}getSchema(){const r=this.schema;return r[0]===0?r[4]:r}getName(r=!1){const{name:a}=this;return!r&&a&&a.includes("#")?a.split("#")[1]:a||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const r=this.getSchema();return typeof r=="number"?r>=64&&r<128:r[0]===1}isMapSchema(){const r=this.getSchema();return typeof r=="number"?r>=128&&r<=255:r[0]===2}isStructSchema(){const r=this.getSchema();return r[0]===3||r[0]===-3}isBlobSchema(){const r=this.getSchema();return r===21||r===42}isTimestampSchema(){const r=this.getSchema();return typeof r=="number"&&r>=4&&r<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){const{streaming:r}=this.getMergedTraits();return!!r||this.getSchema()===42}isIdempotencyToken(){const r=u=>(u&4)===4||!!u?.idempotencyToken,{normalizedTraits:a,traits:s,memberTraits:c}=this;return r(a)||r(s)||r(c)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Es(this.memberTraits)}getOwnTraits(){return Es(this.traits)}getKeySchema(){const[r,a]=[this.isDocumentSchema(),this.isMapSchema()];if(!r&&!a)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const s=this.getSchema(),c=r?15:s[4]??0;return Ga([c,0],"key")}getValueSchema(){const r=this.getSchema(),[a,s,c]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],u=typeof r=="number"?63&r:r&&typeof r=="object"&&(s||c)?r[3+r[0]]:a?15:void 0;if(u!=null)return Ga([u,0],s?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(r){const a=this.getSchema();if(this.isStructSchema()&&a[4].includes(r)){const s=a[4].indexOf(r),c=a[5][s];return Ga(Hc(c)?c:[c,0],r)}if(this.isDocumentSchema())return Ga([15,0],r);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${r}.`)}getMemberSchemas(){const r={};try{for(const[a,s]of this.structIterator())r[a]=s}catch{}return r}getEventStreamMember(){if(this.isStructSchema()){for(const[r,a]of this.structIterator())if(a.isStreaming()&&a.isStructSchema())return r}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const r=this.getSchema();for(let a=0;a<r[4].length;++a)yield[r[4][a],Ga([r[5][a],0],r[4][a])]}}function Ga(t,r){if(t instanceof vr)return Object.assign(t,{memberName:r,_isMemberSchema:!0});const a=vr;return new a(t,r)}const Hc=t=>Array.isArray(t)&&t.length===2,j1=t=>Array.isArray(t)&&t.length>=5,G1=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},V1=t=>{if(t!=null){if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return String(r)!==String(t)&&xy.warn(yy(`Expected number but observed string: ${t}`)),r}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},Y1=Math.ceil(2**127*(2-2**-23)),_m=t=>{const r=V1(t);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>Y1)throw new TypeError(`Expected 32-bit float, got ${t}`);return r},q1=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},Um=t=>gy(t,16),Wm=t=>gy(t,8),gy=(t,r)=>{const a=q1(t);if(a!==void 0&&K1(a,r)!==a)throw new TypeError(`Expected ${r}-bit integer, got ${t}`);return a},K1=(t,r)=>{switch(r){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},hy=(t,r)=>{if(t==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return t},Q1=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const r=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${r}: ${t}`)},Xa=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return xy.warn(yy(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},X1=t=>_m(typeof t=="string"?Ju(t):t),Z1=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ju=t=>{const r=t.match(Z1);if(r===null||r[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},J1=t=>Um(typeof t=="string"?Ju(t):t),ev=t=>Wm(typeof t=="string"?Ju(t):t),yy=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),xy={warn:console.warn},tv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nv=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),rv=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const r=nv.exec(t);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");const[a,s,c,u,p,m,g,h,x]=r,b=J1(Ey(s)),v=Za(c,"month",1,12),C=Za(u,"day",1,31),M=ov(b,v,C,{hours:p,minutes:m,seconds:g,fractionalMilliseconds:h});return x.toUpperCase()!="Z"&&M.setTime(M.getTime()-cv(x)),M},ov=(t,r,a,s)=>{const c=r-1;return iv(t,c,a),new Date(Date.UTC(t,c,a,Za(s.hours,"hour",0,23),Za(s.minutes,"minute",0,59),Za(s.seconds,"seconds",0,60),lv(s.fractionalMilliseconds)))},av=[31,28,31,30,31,30,31,31,30,31,30,31],iv=(t,r,a)=>{let s=av[r];if(r===1&&sv(t)&&(s=29),a>s)throw new TypeError(`Invalid day for ${tv[r]} in ${t}: ${a}`)},sv=t=>t%4===0&&(t%100!==0||t%400===0),Za=(t,r,a,s)=>{const c=ev(Ey(t));if(c<a||c>s)throw new TypeError(`${r} must be between ${a} and ${s}, inclusive`);return c},lv=t=>t==null?0:X1("0."+t)*1e3,cv=t=>{const r=t[0];let a=1;if(r=="+")a=1;else if(r=="-")a=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);const s=Number(t.substring(1,3)),c=Number(t.substring(4,6));return a*(s*60+c)*60*1e3},Ey=t=>{let r=0;for(;r<t.length-1&&t.charAt(r)==="0";)r++;return r===0?t:t.slice(r)},Hm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nn=Array.from({length:256},(t,r)=>r.toString(16).padStart(2,"0")),uv=()=>{if(Hm)return Hm();const t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,nn[t[0]]+nn[t[1]]+nn[t[2]]+nn[t[3]]+"-"+nn[t[4]]+nn[t[5]]+"-"+nn[t[6]]+nn[t[7]]+"-"+nn[t[8]]+nn[t[9]]+"-"+nn[t[10]]+nn[t[11]]+nn[t[12]]+nn[t[13]]+nn[t[14]]+nn[t[15]]},dv=(t,r,a,s,c,u)=>{if(r!=null&&r[a]!==void 0){const p=s();if(p.length<=0)throw new Error("Empty value provided for input HTTP label: "+a+".");t=t.replace(c,u?p.split("/").map(m=>Fm(m)).join("/"):Fm(p))}else throw new Error("No value provided for input HTTP label: "+a+".");return t};function pv(t,r){return new fv(t,r)}class fv{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(r,a){this.input=r,this.context=a}async build(){const{hostname:r,protocol:a="https",port:s,path:c}=await this.context.endpoint();this.path=c;for(const u of this.resolvePathStack)u(this.path);return new cn({protocol:a,hostname:this.hostname||r,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(r){return this.hostname=r,this}bp(r){return this.resolvePathStack.push(a=>{this.path=`${a?.endsWith("/")?a.slice(0,-1):a||""}`+r}),this}p(r,a,s,c){return this.resolvePathStack.push(u=>{this.path=dv(u,this.input,r,a,s,c)}),this}h(r){return this.headers=r,this}q(r){return this.query=r,this}b(r){return this.body=r,this}m(r){return this.method=r,this}}function mv(t,r,a){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[r]=a}class gv{authSchemes=new Map;constructor(r){for(const[a,s]of Object.entries(r))s!==void 0&&this.authSchemes.set(a,s)}getIdentityProvider(r){return this.authSchemes.get(r)}}const hv=t=>function(a){return by(a)&&a.expiration.getTime()-Date.now()<t},yv=3e5,xv=hv(yv),by=t=>t.expiration!==void 0,Ev=(t,r,a)=>{if(t===void 0)return;const s=typeof t!="function"?async()=>Promise.resolve(t):t;let c,u,p,m=!1;const g=async h=>{u||(u=s(h));try{c=await u,p=!0,m=!1}finally{u=void 0}return c};return r===void 0?async h=>((!p||h?.forceRefresh)&&(c=await g(h)),c):async h=>((!p||h?.forceRefresh)&&(c=await g(h)),m?c:a(c)?(r(c)&&await g(h),c):(m=!0,c))},bv=(t,r,a)=>{let s,c,u,p=!1;const m=async()=>{c||(c=t());try{s=await c,u=!0,p=!1}finally{c=void 0}return s};return async g=>((!u||g?.forceRefresh)&&(s=await m()),s)},vv=t=>(t.sigv4aSigningRegionSet=Ko(t.sigv4aSigningRegionSet),t),Sv="X-Amz-Algorithm",wv="X-Amz-Credential",vy="X-Amz-Date",kv="X-Amz-SignedHeaders",Cv="X-Amz-Expires",Sy="X-Amz-Signature",wy="X-Amz-Security-Token",ky="authorization",Cy=vy.toLowerCase(),Tv="date",Av=[ky,Cy,Tv],Rv=Sy.toLowerCase(),Bu="x-amz-content-sha256",Iv=wy.toLowerCase(),Pv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Nv=/^proxy-/,Dv=/^sec-/,jc="AWS4-HMAC-SHA256",Bv="AWS4-HMAC-SHA256-PAYLOAD",Mv="UNSIGNED-PAYLOAD",zv=50,Ty="aws4_request",Lv=3600*24*7,bs={},Gc=[],Vc=(t,r,a)=>`${t}/${r}/${a}/${Ty}`,Ov=async(t,r,a,s,c)=>{const u=await jm(t,r.secretAccessKey,r.accessKeyId),p=`${a}:${s}:${c}:${kn(u)}:${r.sessionToken}`;if(p in bs)return bs[p];for(Gc.push(p);Gc.length>zv;)delete bs[Gc.shift()];let m=`AWS4${r.secretAccessKey}`;for(const g of[a,s,c,Ty])m=await jm(t,m,g);return bs[p]=m},jm=(t,r,a)=>{const s=new t(r);return s.update(ri(a)),s.digest()},Gm=({headers:t},r,a)=>{const s={};for(const c of Object.keys(t).sort()){if(t[c]==null)continue;const u=c.toLowerCase();(u in Pv||r?.has(u)||Nv.test(u)||Dv.test(u))&&(!a||a&&!a.has(u))||(s[u]=t[c].trim().replace(/\s+/g," "))}return s},$v=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Yc=async({headers:t,body:r},a)=>{for(const s of Object.keys(t))if(s.toLowerCase()===Bu)return t[s];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||$v(r)){const s=new a;return s.update(ri(r)),kn(await s.digest())}return Mv};class Fv{format(r){const a=[];for(const u of Object.keys(r)){const p=yo(u);a.push(Uint8Array.from([p.byteLength]),p,this.formatHeaderValue(r[u]))}const s=new Uint8Array(a.reduce((u,p)=>u+p.byteLength,0));let c=0;for(const u of a)s.set(u,c),c+=u.byteLength;return s}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":const a=new DataView(new ArrayBuffer(3));return a.setUint8(0,3),a.setInt16(1,r.value,!1),new Uint8Array(a.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,r.value,!1),new Uint8Array(s.buffer);case"long":const c=new Uint8Array(9);return c[0]=5,c.set(r.value.bytes,1),c;case"binary":const u=new DataView(new ArrayBuffer(3+r.value.byteLength));u.setUint8(0,6),u.setUint16(1,r.value.byteLength,!1);const p=new Uint8Array(u.buffer);return p.set(r.value,3),p;case"string":const m=yo(r.value),g=new DataView(new ArrayBuffer(3+m.byteLength));g.setUint8(0,7),g.setUint16(1,m.byteLength,!1);const h=new Uint8Array(g.buffer);return h.set(m,3),h;case"timestamp":const x=new Uint8Array(9);return x[0]=8,x.set(Uv.fromNumber(r.value.valueOf()).bytes,1),x;case"uuid":if(!_v.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);const b=new Uint8Array(17);return b[0]=9,b.set(my(r.value.replace(/\-/g,"")),1),b}}}var Vm;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Vm||(Vm={}));const _v=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Uv=class Ay{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);const a=new Uint8Array(8);for(let s=7,c=Math.abs(Math.round(r));s>-1&&c>0;s--,c/=256)a[s]=c;return r<0&&Ym(a),new Ay(a)}valueOf(){const r=this.bytes.slice(0),a=r[0]&128;return a&&Ym(r),parseInt(kn(r),16)*(a?-1:1)}toString(){return String(this.valueOf())}};function Ym(t){for(let r=0;r<8;r++)t[r]^=255;for(let r=7;r>-1&&(t[r]++,t[r]===0);r--);}const Wv=(t,r)=>{t=t.toLowerCase();for(const a of Object.keys(r))if(t===a.toLowerCase())return!0;return!1},Hv=(t,r={})=>{const{headers:a,query:s={}}=cn.clone(t);for(const c of Object.keys(a)){const u=c.toLowerCase();(u.slice(0,6)==="x-amz-"&&!r.unhoistableHeaders?.has(u)||r.hoistableHeaders?.has(u))&&(s[c]=a[c],delete a[c])}return{...t,headers:a,query:s}},qm=t=>{t=cn.clone(t);for(const r of Object.keys(t.headers))Av.indexOf(r.toLowerCase())>-1&&delete t.headers[r];return t},jv=({query:t={}})=>{const r=[],a={};for(const s of Object.keys(t)){if(s.toLowerCase()===Rv)continue;const c=ho(s);r.push(c);const u=t[s];typeof u=="string"?a[c]=`${c}=${ho(u)}`:Array.isArray(u)&&(a[c]=u.slice(0).reduce((p,m)=>p.concat([`${c}=${ho(m)}`]),[]).sort().join("&"))}return r.sort().map(s=>a[s]).filter(s=>s).join("&")},Gv=t=>Vv(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Vv=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Yv{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:r,credentials:a,region:s,service:c,sha256:u,uriEscapePath:p=!0}){this.service=c,this.sha256=u,this.uriEscapePath=p,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=Zn(s),this.credentialProvider=Zn(a)}createCanonicalRequest(r,a,s){const c=Object.keys(a).sort();return`${r.method}
${this.getCanonicalPath(r)}
${jv(r)}
${c.map(u=>`${u}:${a[u]}`).join(`
`)}

${c.join(";")}
${s}`}async createStringToSign(r,a,s,c){const u=new this.sha256;u.update(ri(s));const p=await u.digest();return`${c}
${r}
${a}
${kn(p)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){const a=[];for(const u of r.split("/"))u?.length!==0&&u!=="."&&(u===".."?a.pop():a.push(u));const s=`${r?.startsWith("/")?"/":""}${a.join("/")}${a.length>0&&r?.endsWith("/")?"/":""}`;return ho(s).replace(/%2F/g,"/")}return r}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(r){const a=Gv(r).replace(/[\-:]/g,"");return{longDate:a,shortDate:a.slice(0,8)}}getCanonicalHeaderList(r){return Object.keys(r).sort().join(";")}}class Mu extends Yv{headerFormatter=new Fv;constructor({applyChecksum:r,credentials:a,region:s,service:c,sha256:u,uriEscapePath:p=!0}){super({applyChecksum:r,credentials:a,region:s,service:c,sha256:u,uriEscapePath:p})}async presign(r,a={}){const{signingDate:s=new Date,expiresIn:c=3600,unsignableHeaders:u,unhoistableHeaders:p,signableHeaders:m,hoistableHeaders:g,signingRegion:h,signingService:x}=a,b=await this.credentialProvider();this.validateResolvedCredentials(b);const v=h??await this.regionProvider(),{longDate:C,shortDate:M}=this.formatDate(s);if(c>Lv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const O=Vc(M,v,x??this.service),S=Hv(qm(r),{unhoistableHeaders:p,hoistableHeaders:g});b.sessionToken&&(S.query[wy]=b.sessionToken),S.query[Sv]=jc,S.query[wv]=`${b.accessKeyId}/${O}`,S.query[vy]=C,S.query[Cv]=c.toString(10);const I=Gm(S,u,m);return S.query[kv]=this.getCanonicalHeaderList(I),S.query[Sy]=await this.getSignature(C,O,this.getSigningKey(b,v,M,x),this.createCanonicalRequest(S,I,await Yc(r,this.sha256))),S}async sign(r,a){return typeof r=="string"?this.signString(r,a):r.headers&&r.payload?this.signEvent(r,a):r.message?this.signMessage(r,a):this.signRequest(r,a)}async signEvent({headers:r,payload:a},{signingDate:s=new Date,priorSignature:c,signingRegion:u,signingService:p}){const m=u??await this.regionProvider(),{shortDate:g,longDate:h}=this.formatDate(s),x=Vc(g,m,p??this.service),b=await Yc({headers:{},body:a},this.sha256),v=new this.sha256;v.update(r);const C=kn(await v.digest()),M=[Bv,h,x,c,C,b].join(`
`);return this.signString(M,{signingDate:s,signingRegion:m,signingService:p})}async signMessage(r,{signingDate:a=new Date,signingRegion:s,signingService:c}){return this.signEvent({headers:this.headerFormatter.format(r.message.headers),payload:r.message.body},{signingDate:a,signingRegion:s,signingService:c,priorSignature:r.priorSignature}).then(p=>({message:r.message,signature:p}))}async signString(r,{signingDate:a=new Date,signingRegion:s,signingService:c}={}){const u=await this.credentialProvider();this.validateResolvedCredentials(u);const p=s??await this.regionProvider(),{shortDate:m}=this.formatDate(a),g=new this.sha256(await this.getSigningKey(u,p,m,c));return g.update(ri(r)),kn(await g.digest())}async signRequest(r,{signingDate:a=new Date,signableHeaders:s,unsignableHeaders:c,signingRegion:u,signingService:p}={}){const m=await this.credentialProvider();this.validateResolvedCredentials(m);const g=u??await this.regionProvider(),h=qm(r),{longDate:x,shortDate:b}=this.formatDate(a),v=Vc(b,g,p??this.service);h.headers[Cy]=x,m.sessionToken&&(h.headers[Iv]=m.sessionToken);const C=await Yc(h,this.sha256);!Wv(Bu,h.headers)&&this.applyChecksum&&(h.headers[Bu]=C);const M=Gm(h,c,s),O=await this.getSignature(x,v,this.getSigningKey(m,g,b,p),this.createCanonicalRequest(h,M,C));return h.headers[ky]=`${jc} Credential=${m.accessKeyId}/${v}, SignedHeaders=${this.getCanonicalHeaderList(M)}, Signature=${O}`,h}async getSignature(r,a,s,c){const u=await this.createStringToSign(r,a,c,jc),p=new this.sha256(await s);return p.update(ri(u)),kn(await p.digest())}getSigningKey(r,a,s,c){return Ov(this.sha256,r,s,a,c||this.service)}}const qv=t=>{let r=t.credentials,a=!!t.credentials,s;Object.defineProperty(t,"credentials",{set(h){h&&h!==r&&h!==s&&(a=!0),r=h;const x=Kv(t,{credentials:r,credentialDefaultProvider:t.credentialDefaultProvider}),b=Qv(t,x);a&&!b.attributed?(s=async v=>b(v).then(C=>g1(C,"CREDENTIALS_CODE","e")),s.memoized=b.memoized,s.configBound=b.configBound,s.attributed=!0):s=b},get(){return s},enumerable:!0,configurable:!0}),t.credentials=r;const{signingEscapePath:c=!0,systemClockOffset:u=t.systemClockOffset||0,sha256:p}=t;let m;return t.signer?m=Ko(t.signer):t.regionInfoProvider?m=()=>Ko(t.region)().then(async h=>[await t.regionInfoProvider(h,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},h]).then(([h,x])=>{const{signingRegion:b,signingService:v}=h;t.signingRegion=t.signingRegion||b||x,t.signingName=t.signingName||v||t.serviceId;const C={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:p,uriEscapePath:c},M=t.signerConstructor||Mu;return new M(C)}):m=async h=>{h=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ko(t.region)(),properties:{}},h);const x=h.signingRegion,b=h.signingName;t.signingRegion=t.signingRegion||x,t.signingName=t.signingName||b||t.serviceId;const v={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:p,uriEscapePath:c},C=t.signerConstructor||Mu;return new C(v)},Object.assign(t,{systemClockOffset:u,signingEscapePath:c,signer:m})};function Kv(t,{credentials:r,credentialDefaultProvider:a}){let s;return r?r?.memoized?s=r:s=Ev(r,xv,by):a?s=Ko(a(Object.assign({},t,{parentClientConfig:t}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function Qv(t,r){if(r.configBound)return r;const a=async s=>r({...s,callerClientConfig:t});return a.memoized=r.memoized,a.configBound=!0,a}const Km=typeof TextEncoder=="function"?new TextEncoder:null,Xv=t=>{if(typeof t=="string"){if(Km)return Km.encode(t).byteLength;let r=t.length;for(let a=r-1;a>=0;a--){const s=t.charCodeAt(a);s>127&&s<=2047?r++:s>2047&&s<=65535&&(r+=2),s>=56320&&s<=57343&&a--}return r}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},uo=(t,r)=>{const a=[];if(t&&a.push(t),r)for(const s of r)a.push(s);return a},Hr=(t,r)=>`${t||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,Ns=()=>{let t=[],r=[],a=!1;const s=new Set,c=b=>b.sort((v,C)=>Qm[C.step]-Qm[v.step]||Xm[C.priority||"normal"]-Xm[v.priority||"normal"]),u=b=>{let v=!1;const C=M=>{const O=uo(M.name,M.aliases);if(O.includes(b)){v=!0;for(const S of O)s.delete(S);return!1}return!0};return t=t.filter(C),r=r.filter(C),v},p=b=>{let v=!1;const C=M=>{if(M.middleware===b){v=!0;for(const O of uo(M.name,M.aliases))s.delete(O);return!1}return!0};return t=t.filter(C),r=r.filter(C),v},m=b=>(t.forEach(v=>{b.add(v.middleware,{...v})}),r.forEach(v=>{b.addRelativeTo(v.middleware,{...v})}),b.identifyOnResolve?.(x.identifyOnResolve()),b),g=b=>{const v=[];return b.before.forEach(C=>{C.before.length===0&&C.after.length===0?v.push(C):v.push(...g(C))}),v.push(b),b.after.reverse().forEach(C=>{C.before.length===0&&C.after.length===0?v.push(C):v.push(...g(C))}),v},h=(b=!1)=>{const v=[],C=[],M={};return t.forEach(S=>{const I={...S,before:[],after:[]};for(const A of uo(I.name,I.aliases))M[A]=I;v.push(I)}),r.forEach(S=>{const I={...S,before:[],after:[]};for(const A of uo(I.name,I.aliases))M[A]=I;C.push(I)}),C.forEach(S=>{if(S.toMiddleware){const I=M[S.toMiddleware];if(I===void 0){if(b)return;throw new Error(`${S.toMiddleware} is not found when adding ${Hr(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&I.after.push(S),S.relation==="before"&&I.before.push(S)}}),c(v).map(g).reduce((S,I)=>(S.push(...I),S),[])},x={add:(b,v={})=>{const{name:C,override:M,aliases:O}=v,S={step:"initialize",priority:"normal",middleware:b,...v},I=uo(C,O);if(I.length>0){if(I.some(A=>s.has(A))){if(!M)throw new Error(`Duplicate middleware name '${Hr(C,O)}'`);for(const A of I){const U=t.findIndex(Q=>Q.name===A||Q.aliases?.some(J=>J===A));if(U===-1)continue;const F=t[U];if(F.step!==S.step||S.priority!==F.priority)throw new Error(`"${Hr(F.name,F.aliases)}" middleware with ${F.priority} priority in ${F.step} step cannot be overridden by "${Hr(C,O)}" middleware with ${S.priority} priority in ${S.step} step.`);t.splice(U,1)}}for(const A of I)s.add(A)}t.push(S)},addRelativeTo:(b,v)=>{const{name:C,override:M,aliases:O}=v,S={middleware:b,...v},I=uo(C,O);if(I.length>0){if(I.some(A=>s.has(A))){if(!M)throw new Error(`Duplicate middleware name '${Hr(C,O)}'`);for(const A of I){const U=r.findIndex(Q=>Q.name===A||Q.aliases?.some(J=>J===A));if(U===-1)continue;const F=r[U];if(F.toMiddleware!==S.toMiddleware||F.relation!==S.relation)throw new Error(`"${Hr(F.name,F.aliases)}" middleware ${F.relation} "${F.toMiddleware}" middleware cannot be overridden by "${Hr(C,O)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);r.splice(U,1)}}for(const A of I)s.add(A)}r.push(S)},clone:()=>m(Ns()),use:b=>{b.applyToStack(x)},remove:b=>typeof b=="string"?u(b):p(b),removeByTag:b=>{let v=!1;const C=M=>{const{tags:O,name:S,aliases:I}=M;if(O&&O.includes(b)){const A=uo(S,I);for(const U of A)s.delete(U);return v=!0,!1}return!0};return t=t.filter(C),r=r.filter(C),v},concat:b=>{const v=m(Ns());return v.use(b),v.identifyOnResolve(a||v.identifyOnResolve()||(b.identifyOnResolve?.()??!1)),v},applyToStack:m,identify:()=>h(!0).map(b=>{const v=b.step??b.relation+" "+b.toMiddleware;return Hr(b.name,b.aliases)+" - "+v}),identifyOnResolve(b){return typeof b=="boolean"&&(a=b),a},resolve:(b,v)=>{for(const C of h().map(M=>M.middleware).reverse())b=C(b,v);return a&&console.log(x.identify()),b}};return x},Qm={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Xm={high:3,normal:2,low:1};class Zv{config;middlewareStack=Ns();initConfig;handlers;constructor(r){this.config=r}send(r,a,s){const c=typeof a!="function"?a:void 0,u=typeof a=="function"?a:s,p=c===void 0&&this.config.cacheMiddleware===!0;let m;if(p){this.handlers||(this.handlers=new WeakMap);const g=this.handlers;g.has(r.constructor)?m=g.get(r.constructor):(m=r.resolveMiddleware(this.middlewareStack,this.config,c),g.set(r.constructor,m))}else delete this.handlers,m=r.resolveMiddleware(this.middlewareStack,this.config,c);if(u)m(r).then(g=>u(null,g.output),g=>u(g)).catch(()=>{});else return m(r).then(g=>g.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const qc="***SensitiveInformation***";function zu(t,r){if(r==null)return r;const a=vr.of(t);if(a.getMergedTraits().sensitive)return qc;if(a.isListSchema()){if(!!a.getValueSchema().getMergedTraits().sensitive)return qc}else if(a.isMapSchema()){if(!!a.getKeySchema().getMergedTraits().sensitive||!!a.getValueSchema().getMergedTraits().sensitive)return qc}else if(a.isStructSchema()&&typeof r=="object"){const s=r,c={};for(const[u,p]of a.structIterator())s[u]!=null&&(c[u]=zu(p,s[u]));return c}return r}class Ry{middlewareStack=Ns();schema;static classBuilder(){return new Jv}resolveMiddlewareWithContext(r,a,s,{middlewareFn:c,clientName:u,commandName:p,inputFilterSensitiveLog:m,outputFilterSensitiveLog:g,smithyContext:h,additionalContext:x,CommandCtor:b}){for(const S of c.bind(this)(b,r,a,s))this.middlewareStack.use(S);const v=r.concat(this.middlewareStack),{logger:C}=a,M={logger:C,clientName:u,commandName:p,inputFilterSensitiveLog:m,outputFilterSensitiveLog:g,[Pu]:{commandInstance:this,...h},...x},{requestHandler:O}=a;return v.resolve(S=>O.handle(S.request,s||{}),M)}}class Jv{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,a,s={}){return this._smithyContext={service:r,operation:a,...s},this}c(r={}){return this._additionalContext=r,this}n(r,a){return this._clientName=r,this._commandName=a,this}f(r=s=>s,a=s=>s){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=a,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}sc(r){return this._operationSchema=r,this._smithyContext.operationSchema=r,this}build(){const r=this;let a;return a=class extends Ry{input;static getEndpointParameterInstructions(){return r._ep}constructor(...[s]){super(),this.input=s??{},r._init(this),this.schema=r._operationSchema}resolveMiddleware(s,c,u){const p=r._operationSchema,m=p?.[4]??p?.input,g=p?.[5]??p?.output;return this.resolveMiddlewareWithContext(s,c,u,{CommandCtor:a,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog??(p?zu.bind(null,m):h=>h),outputFilterSensitiveLog:r._outputFilterSensitiveLog??(p?zu.bind(null,g):h=>h),smithyContext:r._smithyContext,additionalContext:r._additionalContext})}serialize=r._serializer;deserialize=r._deserializer}}}const Zo="***SensitiveInformation***";class qo extends Error{$fault;$response;$retryable;$metadata;constructor(r){super(r.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;const a=r;return qo.prototype.isPrototypeOf(a)||!!a.$fault&&!!a.$metadata&&(a.$fault==="client"||a.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;const a=r;return this===qo?qo.isInstance(r):qo.isInstance(r)?a.name&&this.name?this.prototype.isPrototypeOf(r)||a.name===this.name:this.prototype.isPrototypeOf(r):!1}}const gn=(t,r={})=>{Object.entries(r).filter(([,s])=>s!==void 0).forEach(([s,c])=>{(t[s]==null||t[s]==="")&&(t[s]=c)});const a=t.message||t.Message||"UnknownError";return t.message=a,delete t.Message,t},eS=({output:t,parsedBody:r,exceptionCtor:a,errorCode:s})=>{const c=nS(t),u=c.httpStatusCode?c.httpStatusCode+"":void 0,p=new a({name:r?.code||r?.Code||s||u||"UnknownError",$fault:"client",$metadata:c});throw gn(p,r)},tS=t=>({output:r,parsedBody:a,errorCode:s})=>{eS({output:r,parsedBody:a,exceptionCtor:t,errorCode:s})},nS=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),rS=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},oS=t=>{const r=[];for(const a in Ps){const s=Ps[a];t[s]!==void 0&&r.push({algorithmId:()=>s,checksumConstructor:()=>t[s]})}return{addChecksumAlgorithm(a){r.push(a)},checksumAlgorithms(){return r}}},aS=t=>{const r={};return t.checksumAlgorithms().forEach(a=>{r[a.algorithmId()]=a.checksumConstructor()}),r},iS=t=>({setRetryStrategy(r){t.retryStrategy=r},retryStrategy(){return t.retryStrategy}}),sS=t=>{const r={};return r.retryStrategy=t.retryStrategy(),r},lS=t=>Object.assign(oS(t),iS(t)),cS=t=>Object.assign(aS(t),sS(t)),Iy=t=>{const r="#text";for(const a in t)t.hasOwnProperty(a)&&t[a][r]!==void 0?t[a]=t[a][r]:typeof t[a]=="object"&&t[a]!==null&&(t[a]=Iy(t[a]));return t},Zm=t=>t!=null;class Py{trace(){}debug(){}info(){}warn(){}error(){}}function jt(t,r,a){let s,c,u;if(typeof r>"u"&&typeof a>"u")s={},u=t;else{if(s=t,typeof r=="function")return c=r,u=a,uS(s,c,u);u=r}for(const p of Object.keys(u)){if(!Array.isArray(u[p])){s[p]=u[p];continue}dS(s,null,u,p)}return s}const uS=(t,r,a)=>jt(t,Object.entries(a).reduce((s,[c,u])=>(Array.isArray(u)?s[c]=u:typeof u=="function"?s[c]=[r,u()]:s[c]=[r,u],s),{})),dS=(t,r,a,s)=>{let[c,u]=a[s];if(typeof u=="function"){let p;const m=c===void 0&&(p=u())!=null,g=typeof c=="function"&&!!c(void 0)||typeof c!="function"&&!!c;m?t[s]=p:g&&(t[s]=u())}else{const p=c===void 0&&u!=null,m=typeof c=="function"&&!!c(u)||typeof c!="function"&&!!c;(p||m)&&(t[s]=u)}},pS=(t,r)=>H1(t,r).then(a=>(r?.utf8Encoder??Us)(a));let Kc;function fS(t){Kc||(Kc=new DOMParser);const r=Kc.parseFromString(t,"application/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const a=s=>{if(s.nodeType===Node.TEXT_NODE&&s.textContent?.trim())return s.textContent;if(s.nodeType===Node.ELEMENT_NODE){const c=s;if(c.attributes.length===0&&c.childNodes.length===0)return"";const u={},p=Array.from(c.attributes);for(const g of p)u[`${g.name}`]=g.value;const m=Array.from(c.childNodes);for(const g of m){const h=a(g);if(h!=null){const x=g.nodeName;if(m.length===1&&p.length===0&&x==="#text")return h;u[x]?Array.isArray(u[x])?u[x].push(h):u[x]=[u[x],h]:u[x]=h}else if(m.length===1&&p.length===0)return c.textContent}return u}return null};return{[r.documentElement.nodeName]:a(r.documentElement)}}const Ny=(t,r)=>pS(t,r).then(a=>{if(a.length){let s;try{s=fS(a)}catch(m){throw m&&typeof m=="object"&&Object.defineProperty(m,"$responseBodyText",{value:a}),m}const c="#text",u=Object.keys(s)[0],p=s[u];return p[c]&&(p[u]=p[c],delete p[c]),Iy(p)}return{}}),mS=async(t,r)=>{const a=await Ny(t,r);return a.Error&&(a.Error.message=a.Error.message??a.Error.Message),a},gS=(t,r)=>{if(r?.Error?.Code!==void 0)return r.Error.Code;if(r?.Code!==void 0)return r.Code;if(t.statusCode==404)return"NotFound"};function hS(t,r,a,s){function c(u){return u instanceof a?u:new a(function(p){p(u)})}return new(a||(a=Promise))(function(u,p){function m(x){try{h(s.next(x))}catch(b){p(b)}}function g(x){try{h(s.throw(x))}catch(b){p(b)}}function h(x){x.done?u(x.value):c(x.value).then(m,g)}h((s=s.apply(t,r||[])).next())})}function yS(t,r){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,c,u,p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=m(0),p.throw=m(1),p.return=m(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(h){return function(x){return g([h,x])}}function g(h){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,h[0]&&(a=0)),a;)try{if(s=1,c&&(u=h[0]&2?c.return:h[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,h[1])).done)return u;switch(c=0,u&&(h=[h[0]&2,u.value]),h[0]){case 0:case 1:u=h;break;case 4:return a.label++,{value:h[1],done:!1};case 5:a.label++,c=h[1],h=[0];continue;case 7:h=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(h[0]===6||h[0]===2)){a=0;continue}if(h[0]===3&&(!u||h[1]>u[0]&&h[1]<u[3])){a.label=h[1];break}if(h[0]===6&&a.label<u[1]){a.label=u[1],u=h;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(h);break}u[2]&&a.ops.pop(),a.trys.pop();continue}h=r.call(t,a)}catch(x){h=[6,x],c=0}finally{s=u=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function xS(t){var r=typeof Symbol=="function"&&Symbol.iterator,a=r&&t[r],s=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}const ES=t=>new TextEncoder().encode(t);var bS=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:ES;function Jo(t){return t instanceof Uint8Array?t:typeof t=="string"?bS(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Lu(t){return typeof t=="string"?t.length===0:t.byteLength===0}function vS(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),a=0;a<t.length;)r[a]=t[a],a+=1;return r}return Uint32Array.from(t)}var Dy=(function(){function t(){this.checksum=4294967295}return t.prototype.update=function(r){var a,s;try{for(var c=xS(r),u=c.next();!u.done;u=c.next()){var p=u.value;this.checksum=this.checksum>>>8^wS[(this.checksum^p)&255]}}catch(m){a={error:m}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t})(),SS=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],wS=vS(SS);const kS=t=>{const{requestChecksumCalculation:r,responseChecksumValidation:a,requestStreamBufferSize:s}=t;return Object.assign(t,{requestChecksumCalculation:Zn(r??f1),responseChecksumValidation:Zn(a??m1),requestStreamBufferSize:Number(s??0)})};const CS=t=>r=>async a=>{if(!cn.isInstance(a.request))return r(a);const{request:s}=a,{handlerProtocol:c=""}=t.requestHandler.metadata||{};if(c.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let u=s.hostname;s.port!=null&&(u+=`:${s.port}`),s.headers.host=u}return r(a)},TS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},AS=t=>({applyToStack:r=>{r.add(CS(t),TS)}}),RS=()=>(t,r)=>async a=>{try{const s=await t(a),{clientName:c,commandName:u,logger:p,dynamoDbDocumentClientOptions:m={}}=r,{overrideInputFilterSensitiveLog:g,overrideOutputFilterSensitiveLog:h}=m,x=g??r.inputFilterSensitiveLog,b=h??r.outputFilterSensitiveLog,{$metadata:v,...C}=s.output;return p?.info?.({clientName:c,commandName:u,input:x(a.input),output:b(C),metadata:v}),s}catch(s){const{clientName:c,commandName:u,logger:p,dynamoDbDocumentClientOptions:m={}}=r,{overrideInputFilterSensitiveLog:g}=m,h=g??r.inputFilterSensitiveLog;throw p?.error?.({clientName:c,commandName:u,input:h(a.input),error:s,metadata:s.$metadata}),s}},IS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},PS=t=>({applyToStack:r=>{r.add(RS(),IS)}}),NS={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},DS=()=>t=>async r=>t(r),BS=t=>({applyToStack:r=>{r.add(DS(),NS)}}),MS=t=>(r,a)=>async s=>{const c=await t.region(),u=t.region;let p=()=>{};a.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>a.__s3RegionRedirect}),p=()=>Object.defineProperty(t,"region",{writable:!0,value:u}));try{const m=await r(s);if(a.__s3RegionRedirect){p();const g=await t.region();if(c!==g)throw new Error("Region was not restored following S3 region redirect.")}return m}catch(m){throw p(),m}},zS={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function LS(t){return(r,a)=>async s=>{try{return await r(s)}catch(c){if(t.followRegionRedirects){const u=c?.$metadata?.httpStatusCode,p=a.commandName==="HeadBucketCommand",m=c?.$response?.headers?.["x-amz-bucket-region"];if(m&&(u===301||u===400&&(c?.name==="IllegalLocationConstraintException"||p))){try{const g=m;a.logger?.debug(`Redirecting from ${await t.region()} to ${g}`),a.__s3RegionRedirect=g}catch(g){throw new Error("Region redirect failed: "+g)}return r(s)}}throw c}}}const OS={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},$S=t=>({applyToStack:r=>{r.add(LS(t),OS),r.addRelativeTo(MS(t),zS)}});class ed{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(r={}){this.data=r}get(r){const a=this.data[r];if(a)return a}set(r,a){return this.data[r]=a,a}delete(r){delete this.data[r]}async purgeExpired(){const r=Date.now();if(!(this.lastPurgeTime+ed.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(const a in this.data){const s=this.data[a];if(!s.isRefreshing){const c=await s.identity;c.expiration&&c.expiration.getTime()<r&&delete this.data[a]}}}}class Qc{_identity;isRefreshing;accessed;constructor(r,a=!1,s=Date.now()){this._identity=r,this.isRefreshing=a,this.accessed=s}get identity(){return this.accessed=Date.now(),this._identity}}class td{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(r,a=new ed){this.createSessionFn=r,this.cache=a}async getS3ExpressIdentity(r,a){const s=a.Bucket,{cache:c}=this,u=c.get(s);return u?u.identity.then(p=>(p.expiration?.getTime()??0)<Date.now()?c.set(s,new Qc(this.getIdentity(s))).identity:((p.expiration?.getTime()??0)<Date.now()+td.REFRESH_WINDOW_MS&&!u.isRefreshing&&(u.isRefreshing=!0,this.getIdentity(s).then(h=>{c.set(s,new Qc(Promise.resolve(h)))})),p)):c.set(s,new Qc(this.getIdentity(s))).identity}async getIdentity(r){await this.cache.purgeExpired().catch(c=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+c)});const a=await this.createSessionFn(r);if(!a.Credentials?.AccessKeyId||!a.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretAccessKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration?new Date(a.Credentials.Expiration):void 0}}}const FS="Directory",_S="S3Express",US="sigv4-s3express",Ou="X-Amz-S3session-Token",$u=Ou.toLowerCase();class WS extends Mu{async signWithCredentials(r,a,s){const c=Jm(a);r.headers[$u]=a.sessionToken;const u=this;return eg(u,c),u.signRequest(r,s??{})}async presignWithCredentials(r,a,s){const c=Jm(a);return delete r.headers[$u],r.headers[Ou]=a.sessionToken,r.query=r.query??{},r.query[Ou]=a.sessionToken,eg(this,c),this.presign(r,s)}}function Jm(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function eg(t,r){const a=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),s=t.credentialProvider,c=()=>(clearTimeout(a),t.credentialProvider=s,Promise.resolve(r));t.credentialProvider=c}const HS=t=>(r,a)=>async s=>{if(a.endpointV2){const c=a.endpointV2,u=c.properties?.authSchemes?.[0]?.name===US;if((c.properties?.backend===_S||c.properties?.bucketType===FS)&&(Xn(a,"S3_EXPRESS_BUCKET","J"),a.isS3ExpressBucket=!0),u){const m=s.input.Bucket;if(m){const g=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:m});a.s3ExpressIdentity=g,cn.isInstance(s.request)&&g.sessionToken&&(s.request.headers[$u]=g.sessionToken)}}}return r(s)},jS={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},GS=t=>({applyToStack:r=>{r.add(HS(t),jS)}}),VS=async(t,r,a,s)=>{const c=await s.signWithCredentials(a,t,{});if(c.headers["X-Amz-Security-Token"]||c.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return c},YS=t=>r=>{throw r},qS=(t,r)=>{},KS=t=>(r,a)=>async s=>{if(!cn.isInstance(s.request))return r(s);const u=oa(a).selectedHttpAuthScheme;if(!u)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:p={}},identity:m,signer:g}=u;let h;a.s3ExpressIdentity?h=await VS(a.s3ExpressIdentity,p,s.request,await t.signer()):h=await g.sign(s.request,m,p);const x=await r({...s,request:h}).catch((g.errorHandler||YS)(p));return(g.successHandler||qS)(x.response,p),x},QS=t=>({applyToStack:r=>{r.addRelativeTo(KS(t),uy)}}),XS=(t,{session:r})=>{const[a,s]=r,{forcePathStyle:c,useAccelerateEndpoint:u,disableMultiregionAccessPoints:p,followRegionRedirects:m,s3ExpressIdentityProvider:g,bucketEndpoint:h}=t;return Object.assign(t,{forcePathStyle:c??!1,useAccelerateEndpoint:u??!1,disableMultiregionAccessPoints:p??!1,followRegionRedirects:m??!1,s3ExpressIdentityProvider:g??new td(async x=>a().send(new s({Bucket:x}))),bucketEndpoint:h??!1})},ZS={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},JS=3e3,ew=t=>(r,a)=>async s=>{const c=await r(s),{response:u}=c;if(!Xo.isInstance(u))return c;const{statusCode:p,body:m}=u;if(p<200||p>=300||!(typeof m?.stream=="function"||typeof m?.pipe=="function"||typeof m?.tee=="function"))return c;let h=m,x=m;m&&typeof m=="object"&&!(m instanceof Uint8Array)&&([h,x]=await W1(m)),u.body=x;const b=await tw(h,{streamCollector:async C=>M1(C,JS)});typeof h?.destroy=="function"&&h.destroy();const v=t.utf8Encoder(b.subarray(b.length-16));if(b.length===0&&ZS[a.commandName]){const C=new Error("S3 aborted request");throw C.name="InternalError",C}return v&&v.endsWith("</Error>")&&(u.statusCode=400),c},tw=(t=new Uint8Array,r)=>t instanceof Uint8Array?Promise.resolve(t):r.streamCollector(t)||Promise.resolve(new Uint8Array),nw={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},rw=t=>({applyToStack:r=>{r.addRelativeTo(ew(t),nw)}}),ow=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function aw(t){return(r,a)=>async s=>{if(t.bucketEndpoint){const c=a.endpointV2;if(c){const u=s.input.Bucket;if(typeof u=="string")try{const p=new URL(u);a.endpointV2={...c,url:p}}catch(p){const m=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${u} could not be parsed as URL.`;throw a.logger?.constructor?.name==="NoOpLogger"?console.warn(m):a.logger?.warn?.(m),p}}}return r(s)}}const iw={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function sw({bucketEndpoint:t}){return r=>async a=>{const{input:{Bucket:s}}=a;if(!t&&typeof s=="string"&&!ow(s)&&s.indexOf("/")>=0){const c=new Error(`Bucket name shouldn't contain '/', received '${s}'`);throw c.name="InvalidBucketName",c}return r({...a})}}const lw={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},cw=t=>({applyToStack:r=>{r.add(sw(t),lw),r.addRelativeTo(aw(t),iw)}}),uw=void 0;function dw(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function pw(t){const r=Ko(t.userAgentAppId??uw),{customUserAgent:a}=t;return Object.assign(t,{customUserAgent:typeof a=="string"?[[a]]:a,userAgentAppId:async()=>{const s=await r();if(!dw(s)){const c=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof s!="string"?c?.warn("userAgentAppId must be a string or undefined."):s.length>50&&c?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return s}})}class fw{capacity;data=new Map;parameters=[];constructor({size:r,params:a}){this.capacity=r??50,a&&(this.parameters=a)}get(r,a){const s=this.hash(r);if(s===!1)return a();if(!this.data.has(s)){if(this.data.size>this.capacity+10){const c=this.data.keys();let u=0;for(;;){const{value:p,done:m}=c.next();if(this.data.delete(p),m||++u>10)break}}this.data.set(s,a())}return this.data.get(s)}size(){return this.data.size}hash(r){let a="";const{parameters:s}=this;if(s.length===0)return!1;for(const c of s){const u=String(r[c]??"");if(u.includes("|;"))return!1;a+=u+"|;"}return a}}const mw=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),By=t=>mw.test(t)||t.startsWith("[")&&t.endsWith("]"),gw=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ws=(t,r=!1)=>{if(!r)return gw.test(t);const a=t.split(".");for(const s of a)if(!Ws(s))return!1;return!0},Ds={},oi="endpoints";function qr(t){return typeof t!="object"||t==null?t:"ref"in t?`$${qr(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(qr).join(", ")})`:JSON.stringify(t,null,2)}class Bn extends Error{constructor(r){super(r),this.name="EndpointError"}}const hw=(t,r)=>t===r,yw=t=>{const r=t.split("."),a=[];for(const s of r){const c=s.indexOf("[");if(c!==-1){if(s.indexOf("]")!==s.length-1)throw new Bn(`Path: '${t}' does not end with ']'`);const u=s.slice(c+1,-1);if(Number.isNaN(parseInt(u)))throw new Bn(`Invalid array index: '${u}' in path: '${t}'`);c!==0&&a.push(s.slice(0,c)),a.push(u)}else a.push(s)}return a},My=(t,r)=>yw(r).reduce((a,s)=>{if(typeof a!="object")throw new Bn(`Index '${s}' in '${r}' not found in '${JSON.stringify(t)}'`);return Array.isArray(a)?a[parseInt(s)]:a[s]},t),xw=t=>t!=null,Ew=t=>!t,Xc={[ni.HTTP]:80,[ni.HTTPS]:443},bw=t=>{const r=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:v,port:C,protocol:M="",path:O="",query:S={}}=t,I=new URL(`${M}//${v}${C?`:${C}`:""}${O}`);return I.search=Object.entries(S).map(([A,U])=>`${A}=${U}`).join("&"),I}return new URL(t)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const a=r.href,{host:s,hostname:c,pathname:u,protocol:p,search:m}=r;if(m)return null;const g=p.slice(0,-1);if(!Object.values(ni).includes(g))return null;const h=By(c),x=a.includes(`${s}:${Xc[g]}`)||typeof t=="string"&&t.includes(`${s}:${Xc[g]}`),b=`${s}${x?`:${Xc[g]}`:""}`;return{scheme:g,authority:b,path:u,normalizedPath:u.endsWith("/")?u:`${u}/`,isIp:h}},vw=(t,r)=>t===r,Sw=(t,r,a,s)=>r>=a||t.length<a?null:s?t.substring(t.length-a,t.length-r):t.substring(r,a),ww=t=>encodeURIComponent(t).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),kw={booleanEquals:hw,getAttr:My,isSet:xw,isValidHostLabel:Ws,not:Ew,parseURL:bw,stringEquals:vw,substring:Sw,uriEncode:ww},zy=(t,r)=>{const a=[],s={...r.endpointParams,...r.referenceRecord};let c=0;for(;c<t.length;){const u=t.indexOf("{",c);if(u===-1){a.push(t.slice(c));break}a.push(t.slice(c,u));const p=t.indexOf("}",u);if(p===-1){a.push(t.slice(u));break}t[u+1]==="{"&&t[p+1]==="}"&&(a.push(t.slice(u+1,p)),c=p+2);const m=t.substring(u+1,p);if(m.includes("#")){const[g,h]=m.split("#");a.push(My(s[g],h))}else a.push(s[m]);c=p+1}return a.join("")},Cw=({ref:t},r)=>({...r.endpointParams,...r.referenceRecord})[t],Hs=(t,r,a)=>{if(typeof t=="string")return zy(t,a);if(t.fn)return Oy.callFunction(t,a);if(t.ref)return Cw(t,a);throw new Bn(`'${r}': ${String(t)} is not a string, function or reference.`)},Ly=({fn:t,argv:r},a)=>{const s=r.map(u=>["boolean","number"].includes(typeof u)?u:Oy.evaluateExpression(u,"arg",a)),c=t.split(".");return c[0]in Ds&&c[1]!=null?Ds[c[0]][c[1]](...s):kw[t](...s)},Oy={evaluateExpression:Hs,callFunction:Ly},Tw=({assign:t,...r},a)=>{if(t&&t in a.referenceRecord)throw new Bn(`'${t}' is already defined in Reference Record.`);const s=Ly(r,a);return a.logger?.debug?.(`${oi} evaluateCondition: ${qr(r)} = ${qr(s)}`),{result:s===""?!0:!!s,...t!=null&&{toAssign:{name:t,value:s}}}},nd=(t=[],r)=>{const a={};for(const s of t){const{result:c,toAssign:u}=Tw(s,{...r,referenceRecord:{...r.referenceRecord,...a}});if(!c)return{result:c};u&&(a[u.name]=u.value,r.logger?.debug?.(`${oi} assign: ${u.name} := ${qr(u.value)}`))}return{result:!0,referenceRecord:a}},Aw=(t,r)=>Object.entries(t).reduce((a,[s,c])=>({...a,[s]:c.map(u=>{const p=Hs(u,"Header value entry",r);if(typeof p!="string")throw new Bn(`Header '${s}' value '${p}' is not a string`);return p})}),{}),$y=(t,r)=>Object.entries(t).reduce((a,[s,c])=>({...a,[s]:_y.getEndpointProperty(c,r)}),{}),Fy=(t,r)=>{if(Array.isArray(t))return t.map(a=>Fy(a,r));switch(typeof t){case"string":return zy(t,r);case"object":if(t===null)throw new Bn(`Unexpected endpoint property: ${t}`);return _y.getEndpointProperties(t,r);case"boolean":return t;default:throw new Bn(`Unexpected endpoint property type: ${typeof t}`)}},_y={getEndpointProperty:Fy,getEndpointProperties:$y},Rw=(t,r)=>{const a=Hs(t,"Endpoint URL",r);if(typeof a=="string")try{return new URL(a)}catch(s){throw console.error(`Failed to construct URL with ${a}`,s),s}throw new Bn(`Endpoint URL must be a string, got ${typeof a}`)},Iw=(t,r)=>{const{conditions:a,endpoint:s}=t,{result:c,referenceRecord:u}=nd(a,r);if(!c)return;const p={...r,referenceRecord:{...r.referenceRecord,...u}},{url:m,properties:g,headers:h}=s;return r.logger?.debug?.(`${oi} Resolving endpoint from template: ${qr(s)}`),{...h!=null&&{headers:Aw(h,p)},...g!=null&&{properties:$y(g,p)},url:Rw(m,p)}},Pw=(t,r)=>{const{conditions:a,error:s}=t,{result:c,referenceRecord:u}=nd(a,r);if(c)throw new Bn(Hs(s,"Error",{...r,referenceRecord:{...r.referenceRecord,...u}}))},Uy=(t,r)=>{for(const a of t)if(a.type==="endpoint"){const s=Iw(a,r);if(s)return s}else if(a.type==="error")Pw(a,r);else if(a.type==="tree"){const s=Wy.evaluateTreeRule(a,r);if(s)return s}else throw new Bn(`Unknown endpoint rule: ${a}`);throw new Bn("Rules evaluation failed")},Nw=(t,r)=>{const{conditions:a,rules:s}=t,{result:c,referenceRecord:u}=nd(a,r);if(c)return Wy.evaluateRules(s,{...r,referenceRecord:{...r.referenceRecord,...u}})},Wy={evaluateRules:Uy,evaluateTreeRule:Nw},Dw=(t,r)=>{const{endpointParams:a,logger:s}=r,{parameters:c,rules:u}=t;r.logger?.debug?.(`${oi} Initial EndpointParams: ${qr(a)}`);const p=Object.entries(c).filter(([,h])=>h.default!=null).map(([h,x])=>[h,x.default]);if(p.length>0)for(const[h,x]of p)a[h]=a[h]??x;const m=Object.entries(c).filter(([,h])=>h.required).map(([h])=>h);for(const h of m)if(a[h]==null)throw new Bn(`Missing required parameter: '${h}'`);const g=Uy(u,{endpointParams:a,logger:s,referenceRecord:{}});return r.logger?.debug?.(`${oi} Resolved endpoint: ${qr(g)}`),g},Hy=(t,r=!1)=>{if(r){for(const a of t.split("."))if(!Hy(a))return!1;return!0}return!(!Ws(t)||t.length<3||t.length>63||t!==t.toLowerCase()||By(t))},tg=":",Bw="/",Mw=t=>{const r=t.split(tg);if(r.length<6)return null;const[a,s,c,u,p,...m]=r;if(a!=="arn"||s===""||c===""||m.join(tg)==="")return null;const g=m.map(h=>h.split(Bw)).flat();return{partition:s,service:c,region:u,accountId:p,resourceId:g}},zw=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Lw={partitions:zw};let Ow=Lw;const $w=t=>{const{partitions:r}=Ow;for(const s of r){const{regions:c,outputs:u}=s;for(const[p,m]of Object.entries(c))if(p===t)return{...u,...m}}for(const s of r){const{regionRegex:c,outputs:u}=s;if(new RegExp(c).test(t))return{...u}}const a=r.find(s=>s.id==="aws");if(!a)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...a.outputs}},jy={isVirtualHostableS3Bucket:Hy,parseArn:Mw,partition:$w};Ds.aws=jy;function Fw(t){const r={};if(t=t.replace(/^\?/,""),t)for(const a of t.split("&")){let[s,c=null]=a.split("=");s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}return r}const Bs=t=>{if(typeof t=="string")return Bs(new URL(t));const{hostname:r,pathname:a,port:s,protocol:c,search:u}=t;let p;return u&&(p=Fw(u)),{hostname:r,port:s?parseInt(s):void 0,protocol:c,path:a,query:p}},_w=/\d{12}\.ddb/;async function Uw(t,r,a){if(a.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Xn(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){const u=await r.retryStrategy();typeof u.acquireInitialRetryToken=="function"?u.constructor?.name?.includes("Adaptive")?Xn(t,"RETRY_MODE_ADAPTIVE","F"):Xn(t,"RETRY_MODE_STANDARD","E"):Xn(t,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){const u=t.endpointV2;switch(String(u?.url?.hostname).match(_w)&&Xn(t,"ACCOUNT_ID_ENDPOINT","O"),await r.accountIdEndpointMode?.()){case"disabled":Xn(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Xn(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Xn(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const c=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(c?.$source){const u=c;u.accountId&&Xn(t,"RESOLVED_ACCOUNT_ID","T");for(const[p,m]of Object.entries(u.$source??{}))Xn(t,p,m)}}const ng="user-agent",Zc="x-amz-user-agent",rg=" ",Jc="/",Ww=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Hw=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,og="-",jw=1024;function Gw(t){let r="";for(const a in t){const s=t[a];if(r.length+s.length+1<=jw){r.length?r+=","+s:r+=s;continue}break}return r}const Vw=t=>(r,a)=>async s=>{const{request:c}=s;if(!cn.isInstance(c))return r(s);const{headers:u}=c,p=a?.userAgent?.map(vs)||[],m=(await t.defaultUserAgentProvider()).map(vs);await Uw(a,t,s);const g=a;m.push(`m/${Gw(Object.assign({},a.__smithy_context?.features,g.__aws_sdk_context?.features))}`);const h=t?.customUserAgent?.map(vs)||[],x=await t.userAgentAppId();x&&m.push(vs([`app/${x}`]));const b=[].concat([...m,...p,...h]).join(rg),v=[...m.filter(C=>C.startsWith("aws-sdk-")),...h].join(rg);return t.runtime!=="browser"?(v&&(u[Zc]=u[Zc]?`${u[ng]} ${v}`:v),u[ng]=b):u[Zc]=b,r({...s,request:c})},vs=t=>{const r=t[0].split(Jc).map(p=>p.replace(Ww,og)).join(Jc),a=t[1]?.replace(Hw,og),s=r.indexOf(Jc),c=r.substring(0,s);let u=r.substring(s+1);return c==="api"&&(u=u.toLowerCase()),[c,u,a].filter(p=>p&&p.length>0).reduce((p,m,g)=>{switch(g){case 0:return m;case 1:return`${p}/${m}`;default:return`${p}#${m}`}},"")},Yw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},qw=t=>({applyToStack:r=>{r.add(Vw(t),Yw)}}),Kw=!1,Qw=!1,ag=new Set,Xw=(t,r=Ws)=>{if(!ag.has(t)&&!r(t))throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);ag.add(t)},Gy=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),Zw=t=>Gy(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,Jw=t=>{const{region:r,useFipsEndpoint:a}=t;if(!r)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{const s=typeof r=="function"?await r():r,c=Zw(s);return Xw(c),c},useFipsEndpoint:async()=>{const s=typeof r=="string"?r:await r();return Gy(s)?!0:typeof a!="function"?Promise.resolve(!!a):a()}})},e2=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),ig="content-length";function t2(t){return r=>async a=>{const s=a.request;if(cn.isInstance(s)){const{body:c,headers:u}=s;if(c&&Object.keys(u).map(p=>p.toLowerCase()).indexOf(ig)===-1)try{const p=t(c);s.headers={...s.headers,[ig]:String(p)}}catch{}}return r({...a,request:s})}}const n2={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},r2=t=>({applyToStack:r=>{r.add(t2(t.bodyLengthChecker),n2)}}),o2=async t=>{const r=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),c2(r)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!l2(r)||r.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},a2=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,i2=/(\d+\.){3}\d+/,s2=/\.\./,l2=t=>a2.test(t)&&!i2.test(t)&&!s2.test(t),c2=t=>{const[r,a,s,,,c]=t.split(":"),u=r==="arn"&&t.split(":").length>=6,p=!!(u&&a&&s&&c);if(u&&!p)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return p},u2=(t,r,a)=>{const s=async()=>{const c=a[t]??a[r];return typeof c=="function"?c():c};return t==="credentialScope"||r==="CredentialScope"?async()=>{const c=typeof a.credentials=="function"?await a.credentials():a.credentials;return c?.credentialScope??c?.CredentialScope}:t==="accountId"||r==="AccountId"?async()=>{const c=typeof a.credentials=="function"?await a.credentials():a.credentials;return c?.accountId??c?.AccountId}:t==="endpoint"||r==="endpoint"?async()=>{if(a.isCustomEndpoint===!1)return;const c=await s();if(c&&typeof c=="object"){if("url"in c)return c.url.href;if("hostname"in c){const{protocol:u,hostname:p,port:m,path:g}=c;return`${u}//${p}${m?":"+m:""}${g}`}}return c}:s},Vy=async t=>{},Yy=t=>typeof t=="object"?"url"in t?Bs(t.url):t:Bs(t),d2=async(t,r,a,s)=>{if(!a.isCustomEndpoint){let p;a.serviceConfiguredEndpoint?p=await a.serviceConfiguredEndpoint():p=await Vy(a.serviceId),p&&(a.endpoint=()=>Promise.resolve(Yy(p)),a.isCustomEndpoint=!0)}const c=await qy(t,r,a);if(typeof a.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return a.endpointProvider(c,s)},qy=async(t,r,a)=>{const s={},c=r?.getEndpointParameterInstructions?.()||{};for(const[u,p]of Object.entries(c))switch(p.type){case"staticContextParams":s[u]=p.value;break;case"contextParams":s[u]=t[p.name];break;case"clientContextParams":case"builtInParams":s[u]=await u2(p.name,u,a)();break;case"operationContextParams":s[u]=p.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(p))}return Object.keys(c).length===0&&Object.assign(s,a),String(a.serviceId).toLowerCase()==="s3"&&await o2(s),s},p2=({config:t,instructions:r})=>(a,s)=>async c=>{t.isCustomEndpoint&&mv(s,"ENDPOINT_OVERRIDE","N");const u=await d2(c.input,{getEndpointParameterInstructions(){return r}},{...t},s);s.endpointV2=u,s.authSchemes=u.properties?.authSchemes;const p=s.authSchemes?.[0];if(p){s.signing_region=p.signingRegion,s.signing_service=p.signingName;const g=oa(s)?.selectedHttpAuthScheme?.httpAuthOption;g&&(g.signingProperties=Object.assign(g.signingProperties||{},{signing_region:p.signingRegion,signingRegion:p.signingRegion,signing_service:p.signingName,signingName:p.signingName,signingRegionSet:p.signingRegionSet},p.properties))}return a({...c})},f2={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cy.name},m2=(t,r)=>({applyToStack:a=>{a.addRelativeTo(p2({config:t,instructions:r}),f2)}}),g2=t=>{const r=t.tls??!0,{endpoint:a,useDualstackEndpoint:s,useFipsEndpoint:c}=t,u=a!=null?async()=>Yy(await Zn(a)()):void 0,m=Object.assign(t,{endpoint:u,tls:r,isCustomEndpoint:!!a,useDualstackEndpoint:Zn(s??!1),useFipsEndpoint:Zn(c??!1)});let g;return m.serviceConfiguredEndpoint=async()=>(t.serviceId&&!g&&(g=Vy(t.serviceId)),g),m};var ea;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ea||(ea={}));const Ms=3,h2=ea.STANDARD,y2=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],x2=["TimeoutError","RequestTimeout","RequestTimeoutException"],E2=[500,502,503,504],b2=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],v2=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],S2=t=>t?.$retryable!==void 0,w2=t=>t.$metadata?.clockSkewCorrected,k2=t=>{const r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?r.has(t.message):!1},Ky=t=>t.$metadata?.httpStatusCode===429||y2.includes(t.name)||t.$retryable?.throttling==!0,rd=(t,r=0)=>S2(t)||w2(t)||x2.includes(t.name)||b2.includes(t?.code||"")||v2.includes(t?.code||"")||E2.includes(t.$metadata?.httpStatusCode||0)||k2(t)||t.cause!==void 0&&r<=10&&rd(t.cause,r+1),C2=t=>{if(t.$metadata?.httpStatusCode!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!rd(t)}return!1};class od{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(r){this.beta=r?.beta??.7,this.minCapacity=r?.minCapacity??1,this.minFillRate=r?.minFillRate??.5,this.scaleConstant=r?.scaleConstant??.4,this.smooth=r?.smooth??.8;const a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){const a=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>od.setTimeoutFn(s,a))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){const r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}const a=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+a),this.lastTimestamp=r}updateClientSendingRate(r){let a;if(this.updateMeasuredRate(),Ky(r)){const c=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=c,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),a=this.cubicThrottle(c),this.enableTokenBucket()}else this.calculateTimeWindow(),a=this.cubicSuccess(this.getCurrentTimeInSeconds());const s=Math.min(a,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const r=this.getCurrentTimeInSeconds(),a=Math.floor(r*2)/2;if(this.requestCount++,a>this.lastTxRateBucket){const s=this.requestCount/(a-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=a}}getPrecise(r){return parseFloat(r.toFixed(8))}}const Fu=100,Qy=20*1e3,T2=500,sg=500,A2=5,R2=10,I2=1,P2="amz-sdk-invocation-id",N2="amz-sdk-request",D2=()=>{let t=Fu;return{computeNextBackoffDelay:s=>Math.floor(Math.min(Qy,Math.random()*2**s*t)),setDelayBase:s=>{t=s}}},lg=({retryDelay:t,retryCount:r,retryCost:a})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(Qy,t),getRetryCost:()=>a});class Xy{maxAttempts;mode=ea.STANDARD;capacity=sg;retryBackoffStrategy=D2();maxAttemptsProvider;constructor(r){this.maxAttempts=r,this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return lg({retryDelay:Fu,retryCount:0})}async refreshRetryTokenForRetry(r,a){const s=await this.getMaxAttempts();if(this.shouldRetry(r,a,s)){const c=a.errorType;this.retryBackoffStrategy.setDelayBase(c==="THROTTLING"?T2:Fu);const u=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),p=a.retryAfterHint?Math.max(a.retryAfterHint.getTime()-Date.now()||0,u):u,m=this.getCapacityCost(c);return this.capacity-=m,lg({retryDelay:p,retryCount:r.getRetryCount()+1,retryCost:m})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(sg,this.capacity+(r.getRetryCost()??I2))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ms}`),Ms}}shouldRetry(r,a,s){return r.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(a.errorType)&&this.isRetryableError(a.errorType)}getCapacityCost(r){return r==="TRANSIENT"?R2:A2}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}}class B2{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=ea.ADAPTIVE;constructor(r,a){this.maxAttemptsProvider=r;const{rateLimiter:s}=a??{};this.rateLimiter=s??new od,this.standardRetryStrategy=new Xy(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,a){return this.rateLimiter.updateClientSendingRate(a),this.standardRetryStrategy.refreshRetryTokenForRetry(r,a)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}}const M2=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),z2=t=>{const{retryStrategy:r,retryMode:a,maxAttempts:s}=t,c=Zn(s??Ms);return Object.assign(t,{maxAttempts:c,retryStrategy:async()=>r||(await Zn(a)()===ea.ADAPTIVE?new B2(c):new Xy(c))})},L2=t=>t?.body instanceof ReadableStream,O2=t=>(r,a)=>async s=>{let c=await t.retryStrategy();const u=await t.maxAttempts();if($2(c)){c=c;let p=await c.acquireInitialRetryToken(a.partition_id),m=new Error,g=0,h=0;const{request:x}=s,b=cn.isInstance(x);for(b&&(x.headers[P2]=uv());;)try{b&&(x.headers[N2]=`attempt=${g+1}; max=${u}`);const{response:v,output:C}=await r(s);return c.recordSuccess(p),C.$metadata.attempts=g+1,C.$metadata.totalRetryDelay=h,{response:v,output:C}}catch(v){const C=F2(v);if(m=M2(v),b&&L2(x))throw(a.logger instanceof Py?console:a.logger)?.warn("An error was encountered in a non-retryable streaming request."),m;try{p=await c.refreshRetryTokenForRetry(p,C)}catch{throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=g+1,m.$metadata.totalRetryDelay=h,m}g=p.getRetryCount();const M=p.getRetryDelay();h+=M,await new Promise(O=>setTimeout(O,M))}}else return c=c,c?.mode&&(a.userAgent=[...a.userAgent||[],["cfg/retry-mode",c.mode]]),c.retry(r,s)},$2=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",F2=t=>{const r={error:t,errorType:_2(t)},a=H2(t.$response);return a&&(r.retryAfterHint=a),r},_2=t=>Ky(t)?"THROTTLING":rd(t)?"TRANSIENT":C2(t)?"SERVER_ERROR":"CLIENT_ERROR",U2={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},W2=t=>({applyToStack:r=>{r.add(O2(t),U2)}}),H2=t=>{if(!Xo.isInstance(t))return;const r=Object.keys(t.headers).find(u=>u.toLowerCase()==="retry-after");if(!r)return;const a=t.headers[r],s=Number(a);return Number.isNaN(s)?new Date(a):new Date(s*1e3)};class Zy{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"none"}constructor(r){this.sigv4Signer=new WS(r),this.signerOptions=r}async sign(r,a={}){return a.signingRegion==="*"?this.getSigv4aSigner().sign(r,a):this.sigv4Signer.sign(r,a)}async signWithCredentials(r,a,s={}){if(s.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(r,a,s)}async presign(r,a={}){if(a.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(r,a)}async presignWithCredentials(r,a,s={}){if(s.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(r,a,s)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const ad="required",k="type",te="rules",D="conditions",G="fn",V="argv",Be="ref",qe="assign",we="url",ke="properties",mo="backend",ln="authSchemes",Wt="disableDoubleEncoding",Ht="signingName",mn="signingRegion",Ce="headers",id="signingRegionSet",j2=6,G2=!1,or=!0,Dn="isSet",Tt="booleanEquals",ve="error",zs="aws.partition",rt="stringEquals",Et="getAttr",Ct="name",dt="substring",cg="bucketSuffix",sd="parseURL",le="endpoint",ne="tree",Ls="aws.isVirtualHostableS3Bucket",Os="{url#scheme}://{Bucket}.{url#authority}{url#path}",sr="not",ug="accessPointSuffix",As="{url#scheme}://{url#authority}{url#path}",Jy="hardwareType",e0="regionPrefix",dg="bucketAliasSuffix",_u="outpostId",xo="isValidHostLabel",ld="sigv4a",ai="s3-outposts",ta="s3",t0="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",n0="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",pg="https://{Bucket}.s3.{partitionResult#dnsSuffix}",r0="aws.parseArn",o0="bucketArn",a0="arnType",$s="",cd="s3-object-lambda",i0="accesspoint",ud="accessPointName",fg="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",mg="mrapPartition",gg="outpostType",hg="arnPrefix",s0="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",yg="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",xg="https://s3.{partitionResult#dnsSuffix}",Ho={[ad]:!1,[k]:"String"},jo={[ad]:!0,default:!1,[k]:"Boolean"},Va={[ad]:!1,[k]:"Boolean"},Wn={[G]:Tt,[V]:[{[Be]:"Accelerate"},!0]},ft={[G]:Tt,[V]:[{[Be]:"UseFIPS"},!0]},ut={[G]:Tt,[V]:[{[Be]:"UseDualStack"},!0]},kt={[G]:Dn,[V]:[{[Be]:"Endpoint"}]},l0={[G]:zs,[V]:[{[Be]:"Region"}],[qe]:"partitionResult"},Eg={[G]:rt,[V]:[{[G]:Et,[V]:[{[Be]:"partitionResult"},Ct]},"aws-cn"]},Ja={[G]:Dn,[V]:[{[Be]:"Bucket"}]},nt={[Be]:"Bucket"},bg={[D]:[ut],[ve]:"S3Express does not support Dual-stack.",[k]:ve},vg={[D]:[Wn],[ve]:"S3Express does not support S3 Accelerate.",[k]:ve},Sg={[D]:[kt,{[G]:sd,[V]:[{[Be]:"Endpoint"}],[qe]:"url"}],[te]:[{[D]:[{[G]:Dn,[V]:[{[Be]:"DisableS3ExpressSessionAuth"}]},{[G]:Tt,[V]:[{[Be]:"DisableS3ExpressSessionAuth"},!0]}],[te]:[{[D]:[{[G]:Tt,[V]:[{[G]:Et,[V]:[{[Be]:"url"},"isIp"]},!0]}],[te]:[{[D]:[{[G]:"uriEncode",[V]:[nt],[qe]:"uri_encoded_bucket"}],[te]:[{[le]:{[we]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ke]:{[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:"s3express",[mn]:"{Region}"}]},[Ce]:{}},[k]:le}],[k]:ne}],[k]:ne},{[D]:[{[G]:Ls,[V]:[nt,!1]}],[te]:[{[le]:{[we]:Os,[ke]:{[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:"s3express",[mn]:"{Region}"}]},[Ce]:{}},[k]:le}],[k]:ne},{[ve]:"S3Express bucket name is not a valid virtual hostable name.",[k]:ve}],[k]:ne},{[D]:[{[G]:Tt,[V]:[{[G]:Et,[V]:[{[Be]:"url"},"isIp"]},!0]}],[te]:[{[D]:[{[G]:"uriEncode",[V]:[nt],[qe]:"uri_encoded_bucket"}],[te]:[{[le]:{[we]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ke]:{[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4-s3express",[Ht]:"s3express",[mn]:"{Region}"}]},[Ce]:{}},[k]:le}],[k]:ne}],[k]:ne},{[D]:[{[G]:Ls,[V]:[nt,!1]}],[te]:[{[le]:{[we]:Os,[ke]:{[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4-s3express",[Ht]:"s3express",[mn]:"{Region}"}]},[Ce]:{}},[k]:le}],[k]:ne},{[ve]:"S3Express bucket name is not a valid virtual hostable name.",[k]:ve}],[k]:ne},fn={[G]:sd,[V]:[{[Be]:"Endpoint"}],[qe]:"url"},eu={[G]:Tt,[V]:[{[G]:Et,[V]:[{[Be]:"url"},"isIp"]},!0]},c0={[Be]:"url"},u0={[G]:"uriEncode",[V]:[nt],[qe]:"uri_encoded_bucket"},fo={[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:"s3express",[mn]:"{Region}"}]},Ge={},d0={[G]:Ls,[V]:[nt,!1]},wg={[ve]:"S3Express bucket name is not a valid virtual hostable name.",[k]:ve},kg={[G]:Dn,[V]:[{[Be]:"UseS3ExpressControlEndpoint"}]},Cg={[G]:Tt,[V]:[{[Be]:"UseS3ExpressControlEndpoint"},!0]},Ve={[G]:sr,[V]:[kt]},Ss={[ve]:"Unrecognized S3Express bucket name format.",[k]:ve},Tg={[G]:sr,[V]:[Ja]},Ag={[Be]:Jy},Rg={[D]:[Ve],[ve]:"Expected a endpoint to be specified but no endpoint was found",[k]:ve},ws={[ln]:[{[Wt]:!0,[Ct]:ld,[Ht]:ai,[id]:["*"]},{[Wt]:!0,[Ct]:"sigv4",[Ht]:ai,[mn]:"{Region}"}]},tu={[G]:Tt,[V]:[{[Be]:"ForcePathStyle"},!1]},V2={[Be]:"ForcePathStyle"},Rt={[G]:Tt,[V]:[{[Be]:"Accelerate"},!1]},Mt={[G]:rt,[V]:[{[Be]:"Region"},"aws-global"]},$t={[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:ta,[mn]:"us-east-1"}]},tt={[G]:sr,[V]:[Mt]},Ft={[G]:Tt,[V]:[{[Be]:"UseGlobalEndpoint"},!0]},Ig={[we]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ke]:{[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:ta,[mn]:"{Region}"}]},[Ce]:{}},It={[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:ta,[mn]:"{Region}"}]},_t={[G]:Tt,[V]:[{[Be]:"UseGlobalEndpoint"},!1]},et={[G]:Tt,[V]:[{[Be]:"UseDualStack"},!1]},Pg={[we]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},Qe={[G]:Tt,[V]:[{[Be]:"UseFIPS"},!1]},Ng={[we]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},Dg={[we]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},nu={[G]:Tt,[V]:[{[G]:Et,[V]:[c0,"isIp"]},!1]},ru={[we]:t0,[ke]:It,[Ce]:{}},Uu={[we]:Os,[ke]:It,[Ce]:{}},Bg={[le]:Uu,[k]:le},ou={[we]:n0,[ke]:It,[Ce]:{}},Mg={[we]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},ks={[ve]:"Invalid region: region was not a valid DNS name.",[k]:ve},Cn={[Be]:o0},p0={[Be]:a0},au={[G]:Et,[V]:[Cn,"service"]},dd={[Be]:ud},zg={[D]:[ut],[ve]:"S3 Object Lambda does not support Dual-stack",[k]:ve},Lg={[D]:[Wn],[ve]:"S3 Object Lambda does not support S3 Accelerate",[k]:ve},Og={[D]:[{[G]:Dn,[V]:[{[Be]:"DisableAccessPoints"}]},{[G]:Tt,[V]:[{[Be]:"DisableAccessPoints"},!0]}],[ve]:"Access points are not supported for this operation",[k]:ve},iu={[D]:[{[G]:Dn,[V]:[{[Be]:"UseArnRegion"}]},{[G]:Tt,[V]:[{[Be]:"UseArnRegion"},!1]},{[G]:sr,[V]:[{[G]:rt,[V]:[{[G]:Et,[V]:[Cn,"region"]},"{Region}"]}]}],[ve]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[k]:ve},f0={[G]:Et,[V]:[{[Be]:"bucketPartition"},Ct]},m0={[G]:Et,[V]:[Cn,"accountId"]},su={[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:cd,[mn]:"{bucketArn#region}"}]},$g={[ve]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[k]:ve},lu={[ve]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[k]:ve},cu={[ve]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[k]:ve},uu={[ve]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[k]:ve},Fg={[ve]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[k]:ve},_g={[ve]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[k]:ve},Ya={[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:ta,[mn]:"{bucketArn#region}"}]},Ug={[ln]:[{[Wt]:!0,[Ct]:ld,[Ht]:ai,[id]:["*"]},{[Wt]:!0,[Ct]:"sigv4",[Ht]:ai,[mn]:"{bucketArn#region}"}]},Wg={[G]:r0,[V]:[nt]},Hg={[we]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:It,[Ce]:{}},jg={[we]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:It,[Ce]:{}},Gg={[we]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:It,[Ce]:{}},du={[we]:s0,[ke]:It,[Ce]:{}},Vg={[we]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:It,[Ce]:{}},Yg={[Be]:"UseObjectLambdaEndpoint"},pu={[ln]:[{[Wt]:!0,[Ct]:"sigv4",[Ht]:cd,[mn]:"{Region}"}]},qg={[we]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},Kg={[we]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},Qg={[we]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},fu={[we]:As,[ke]:It,[Ce]:{}},Xg={[we]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ke]:It,[Ce]:{}},mu=[{[Be]:"Region"}],Y2=[{[Be]:"Endpoint"}],q2=[nt],Zg=[ut],gu=[Wn],Go=[kt,fn],Jg=[{[G]:Dn,[V]:[{[Be]:"DisableS3ExpressSessionAuth"}]},{[G]:Tt,[V]:[{[Be]:"DisableS3ExpressSessionAuth"},!0]}],K2=[u0],eh=[d0],Un=[l0],Vo=[ft],th=[{[G]:dt,[V]:[nt,6,14,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,14,16,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],ar=[{[D]:[ft],[le]:{[we]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ke]:fo,[Ce]:{}},[k]:le},{[le]:{[we]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ke]:fo,[Ce]:{}},[k]:le}],nh=[{[G]:dt,[V]:[nt,6,15,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,15,17,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],rh=[{[G]:dt,[V]:[nt,6,19,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,19,21,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],oh=[{[G]:dt,[V]:[nt,6,20,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,20,22,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],ah=[{[G]:dt,[V]:[nt,6,26,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,26,28,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],ir=[{[D]:[ft],[le]:{[we]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ke]:{[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4-s3express",[Ht]:"s3express",[mn]:"{Region}"}]},[Ce]:{}},[k]:le},{[le]:{[we]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ke]:{[mo]:"S3Express",[ln]:[{[Wt]:!0,[Ct]:"sigv4-s3express",[Ht]:"s3express",[mn]:"{Region}"}]},[Ce]:{}},[k]:le}],ih=[nt,0,7,!0],sh=[{[G]:dt,[V]:[nt,7,15,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,15,17,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],lh=[{[G]:dt,[V]:[nt,7,16,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,16,18,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],ch=[{[G]:dt,[V]:[nt,7,20,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,20,22,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],uh=[{[G]:dt,[V]:[nt,7,21,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,21,23,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],dh=[{[G]:dt,[V]:[nt,7,27,!0],[qe]:"s3expressAvailabilityZoneId"},{[G]:dt,[V]:[nt,27,29,!0],[qe]:"s3expressAvailabilityZoneDelim"},{[G]:rt,[V]:[{[Be]:"s3expressAvailabilityZoneDelim"},"--"]}],Q2=[Ja],ph=[{[G]:xo,[V]:[{[Be]:_u},!1]}],fh=[{[G]:rt,[V]:[{[Be]:e0},"beta"]}],X2=["*"],mh=[{[G]:xo,[V]:[{[Be]:"Region"},!1]}],jr=[{[G]:rt,[V]:[{[Be]:"Region"},"us-east-1"]}],hu=[{[G]:rt,[V]:[p0,i0]}],gh=[{[G]:Et,[V]:[Cn,"resourceId[1]"],[qe]:ud},{[G]:sr,[V]:[{[G]:rt,[V]:[dd,$s]}]}],Z2=[Cn,"resourceId[1]"],yu=[{[G]:sr,[V]:[{[G]:rt,[V]:[{[G]:Et,[V]:[Cn,"region"]},$s]}]}],hh=[{[G]:sr,[V]:[{[G]:Dn,[V]:[{[G]:Et,[V]:[Cn,"resourceId[2]"]}]}]}],J2=[Cn,"resourceId[2]"],xu=[{[G]:zs,[V]:[{[G]:Et,[V]:[Cn,"region"]}],[qe]:"bucketPartition"}],yh=[{[G]:rt,[V]:[f0,{[G]:Et,[V]:[{[Be]:"partitionResult"},Ct]}]}],Eu=[{[G]:xo,[V]:[{[G]:Et,[V]:[Cn,"region"]},!0]}],bu=[{[G]:xo,[V]:[m0,!1]}],xh=[{[G]:xo,[V]:[dd,!1]}],Eh=[{[G]:xo,[V]:[{[Be]:"Region"},!0]}],ek={parameters:{Bucket:Ho,Region:Ho,UseFIPS:jo,UseDualStack:jo,Endpoint:Ho,ForcePathStyle:jo,Accelerate:jo,UseGlobalEndpoint:jo,UseObjectLambdaEndpoint:Va,Key:Ho,Prefix:Ho,CopySource:Ho,DisableAccessPoints:Va,DisableMultiRegionAccessPoints:jo,UseArnRegion:Va,UseS3ExpressControlEndpoint:Va,DisableS3ExpressSessionAuth:Va},[te]:[{[D]:[{[G]:Dn,[V]:mu}],[te]:[{[D]:[Wn,ft],error:"Accelerate cannot be used with FIPS",[k]:ve},{[D]:[ut,kt],error:"Cannot set dual-stack in combination with a custom endpoint.",[k]:ve},{[D]:[kt,ft],error:"A custom endpoint cannot be combined with FIPS",[k]:ve},{[D]:[kt,Wn],error:"A custom endpoint cannot be combined with S3 Accelerate",[k]:ve},{[D]:[ft,l0,Eg],error:"Partition does not support FIPS",[k]:ve},{[D]:[Ja,{[G]:dt,[V]:[nt,0,j2,or],[qe]:cg},{[G]:rt,[V]:[{[Be]:cg},"--x-s3"]}],[te]:[bg,vg,Sg,{[D]:[kg,Cg],[te]:[{[D]:Un,[te]:[{[D]:[u0,Ve],[te]:[{[D]:Vo,endpoint:{[we]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:fo,[Ce]:Ge},[k]:le},{endpoint:{[we]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:fo,[Ce]:Ge},[k]:le}],[k]:ne}],[k]:ne}],[k]:ne},{[D]:eh,[te]:[{[D]:Un,[te]:[{[D]:Jg,[te]:[{[D]:th,[te]:ar,[k]:ne},{[D]:nh,[te]:ar,[k]:ne},{[D]:rh,[te]:ar,[k]:ne},{[D]:oh,[te]:ar,[k]:ne},{[D]:ah,[te]:ar,[k]:ne},Ss],[k]:ne},{[D]:th,[te]:ir,[k]:ne},{[D]:nh,[te]:ir,[k]:ne},{[D]:rh,[te]:ir,[k]:ne},{[D]:oh,[te]:ir,[k]:ne},{[D]:ah,[te]:ir,[k]:ne},Ss],[k]:ne}],[k]:ne},wg],[k]:ne},{[D]:[Ja,{[G]:dt,[V]:ih,[qe]:ug},{[G]:rt,[V]:[{[Be]:ug},"--xa-s3"]}],[te]:[bg,vg,Sg,{[D]:eh,[te]:[{[D]:Un,[te]:[{[D]:Jg,[te]:[{[D]:sh,[te]:ar,[k]:ne},{[D]:lh,[te]:ar,[k]:ne},{[D]:ch,[te]:ar,[k]:ne},{[D]:uh,[te]:ar,[k]:ne},{[D]:dh,[te]:ar,[k]:ne},Ss],[k]:ne},{[D]:sh,[te]:ir,[k]:ne},{[D]:lh,[te]:ir,[k]:ne},{[D]:ch,[te]:ir,[k]:ne},{[D]:uh,[te]:ir,[k]:ne},{[D]:dh,[te]:ir,[k]:ne},Ss],[k]:ne}],[k]:ne},wg],[k]:ne},{[D]:[Tg,kg,Cg],[te]:[{[D]:Un,[te]:[{[D]:Go,endpoint:{[we]:As,[ke]:fo,[Ce]:Ge},[k]:le},{[D]:Vo,endpoint:{[we]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[ke]:fo,[Ce]:Ge},[k]:le},{endpoint:{[we]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[ke]:fo,[Ce]:Ge},[k]:le}],[k]:ne}],[k]:ne},{[D]:[Ja,{[G]:dt,[V]:[nt,49,50,or],[qe]:Jy},{[G]:dt,[V]:[nt,8,12,or],[qe]:e0},{[G]:dt,[V]:ih,[qe]:dg},{[G]:dt,[V]:[nt,32,49,or],[qe]:_u},{[G]:zs,[V]:mu,[qe]:"regionPartition"},{[G]:rt,[V]:[{[Be]:dg},"--op-s3"]}],[te]:[{[D]:ph,[te]:[{[D]:[{[G]:rt,[V]:[Ag,"e"]}],[te]:[{[D]:fh,[te]:[Rg,{[D]:Go,endpoint:{[we]:"https://{Bucket}.ec2.{url#authority}",[ke]:ws,[Ce]:Ge},[k]:le}],[k]:ne},{endpoint:{[we]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ke]:ws,[Ce]:Ge},[k]:le}],[k]:ne},{[D]:[{[G]:rt,[V]:[Ag,"o"]}],[te]:[{[D]:fh,[te]:[Rg,{[D]:Go,endpoint:{[we]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ke]:ws,[Ce]:Ge},[k]:le}],[k]:ne},{endpoint:{[we]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ke]:ws,[Ce]:Ge},[k]:le}],[k]:ne},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[k]:ve}],[k]:ne},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[k]:ve}],[k]:ne},{[D]:Q2,[te]:[{[D]:[kt,{[G]:sr,[V]:[{[G]:Dn,[V]:[{[G]:sd,[V]:Y2}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[k]:ve},{[D]:[tu,d0],[te]:[{[D]:Un,[te]:[{[D]:mh,[te]:[{[D]:[Wn,Eg],error:"S3 Accelerate cannot be used in this region",[k]:ve},{[D]:[ut,ft,Rt,Ve,Mt],endpoint:{[we]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ut,ft,Rt,Ve,tt,Ft],[te]:[{endpoint:Ig,[k]:le}],[k]:ne},{[D]:[ut,ft,Rt,Ve,tt,_t],endpoint:Ig,[k]:le},{[D]:[et,ft,Rt,Ve,Mt],endpoint:{[we]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,ft,Rt,Ve,tt,Ft],[te]:[{endpoint:Pg,[k]:le}],[k]:ne},{[D]:[et,ft,Rt,Ve,tt,_t],endpoint:Pg,[k]:le},{[D]:[ut,Qe,Wn,Ve,Mt],endpoint:{[we]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ut,Qe,Wn,Ve,tt,Ft],[te]:[{endpoint:Ng,[k]:le}],[k]:ne},{[D]:[ut,Qe,Wn,Ve,tt,_t],endpoint:Ng,[k]:le},{[D]:[ut,Qe,Rt,Ve,Mt],endpoint:{[we]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ut,Qe,Rt,Ve,tt,Ft],[te]:[{endpoint:Dg,[k]:le}],[k]:ne},{[D]:[ut,Qe,Rt,Ve,tt,_t],endpoint:Dg,[k]:le},{[D]:[et,Qe,Rt,kt,fn,eu,Mt],endpoint:{[we]:t0,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,Qe,Rt,kt,fn,nu,Mt],endpoint:{[we]:Os,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,Qe,Rt,kt,fn,eu,tt,Ft],[te]:[{[D]:jr,endpoint:ru,[k]:le},{endpoint:ru,[k]:le}],[k]:ne},{[D]:[et,Qe,Rt,kt,fn,nu,tt,Ft],[te]:[{[D]:jr,endpoint:Uu,[k]:le},Bg],[k]:ne},{[D]:[et,Qe,Rt,kt,fn,eu,tt,_t],endpoint:ru,[k]:le},{[D]:[et,Qe,Rt,kt,fn,nu,tt,_t],endpoint:Uu,[k]:le},{[D]:[et,Qe,Wn,Ve,Mt],endpoint:{[we]:n0,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,Qe,Wn,Ve,tt,Ft],[te]:[{[D]:jr,endpoint:ou,[k]:le},{endpoint:ou,[k]:le}],[k]:ne},{[D]:[et,Qe,Wn,Ve,tt,_t],endpoint:ou,[k]:le},{[D]:[et,Qe,Rt,Ve,Mt],endpoint:{[we]:pg,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,Qe,Rt,Ve,tt,Ft],[te]:[{[D]:jr,endpoint:{[we]:pg,[ke]:It,[Ce]:Ge},[k]:le},{endpoint:Mg,[k]:le}],[k]:ne},{[D]:[et,Qe,Rt,Ve,tt,_t],endpoint:Mg,[k]:le}],[k]:ne},ks],[k]:ne}],[k]:ne},{[D]:[kt,fn,{[G]:rt,[V]:[{[G]:Et,[V]:[c0,"scheme"]},"http"]},{[G]:Ls,[V]:[nt,or]},tu,Qe,et,Rt],[te]:[{[D]:Un,[te]:[{[D]:mh,[te]:[Bg],[k]:ne},ks],[k]:ne}],[k]:ne},{[D]:[tu,{[G]:r0,[V]:q2,[qe]:o0}],[te]:[{[D]:[{[G]:Et,[V]:[Cn,"resourceId[0]"],[qe]:a0},{[G]:sr,[V]:[{[G]:rt,[V]:[p0,$s]}]}],[te]:[{[D]:[{[G]:rt,[V]:[au,cd]}],[te]:[{[D]:hu,[te]:[{[D]:gh,[te]:[zg,Lg,{[D]:yu,[te]:[Og,{[D]:hh,[te]:[iu,{[D]:xu,[te]:[{[D]:Un,[te]:[{[D]:yh,[te]:[{[D]:Eu,[te]:[{[D]:[{[G]:rt,[V]:[m0,$s]}],error:"Invalid ARN: Missing account id",[k]:ve},{[D]:bu,[te]:[{[D]:xh,[te]:[{[D]:Go,endpoint:{[we]:fg,[ke]:su,[Ce]:Ge},[k]:le},{[D]:Vo,endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:su,[Ce]:Ge},[k]:le},{endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:su,[Ce]:Ge},[k]:le}],[k]:ne},$g],[k]:ne},lu],[k]:ne},cu],[k]:ne},uu],[k]:ne}],[k]:ne}],[k]:ne},Fg],[k]:ne},{error:"Invalid ARN: bucket ARN is missing a region",[k]:ve}],[k]:ne},_g],[k]:ne},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[k]:ve}],[k]:ne},{[D]:hu,[te]:[{[D]:gh,[te]:[{[D]:yu,[te]:[{[D]:hu,[te]:[{[D]:yu,[te]:[Og,{[D]:hh,[te]:[iu,{[D]:xu,[te]:[{[D]:Un,[te]:[{[D]:[{[G]:rt,[V]:[f0,"{partitionResult#name}"]}],[te]:[{[D]:Eu,[te]:[{[D]:[{[G]:rt,[V]:[au,ta]}],[te]:[{[D]:bu,[te]:[{[D]:xh,[te]:[{[D]:gu,error:"Access Points do not support S3 Accelerate",[k]:ve},{[D]:[ft,ut],endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:Ya,[Ce]:Ge},[k]:le},{[D]:[ft,et],endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:Ya,[Ce]:Ge},[k]:le},{[D]:[Qe,ut],endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:Ya,[Ce]:Ge},[k]:le},{[D]:[Qe,et,kt,fn],endpoint:{[we]:fg,[ke]:Ya,[Ce]:Ge},[k]:le},{[D]:[Qe,et],endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:Ya,[Ce]:Ge},[k]:le}],[k]:ne},$g],[k]:ne},lu],[k]:ne},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[k]:ve}],[k]:ne},cu],[k]:ne},uu],[k]:ne}],[k]:ne}],[k]:ne},Fg],[k]:ne}],[k]:ne}],[k]:ne},{[D]:[{[G]:xo,[V]:[dd,or]}],[te]:[{[D]:Zg,error:"S3 MRAP does not support dual-stack",[k]:ve},{[D]:Vo,error:"S3 MRAP does not support FIPS",[k]:ve},{[D]:gu,error:"S3 MRAP does not support S3 Accelerate",[k]:ve},{[D]:[{[G]:Tt,[V]:[{[Be]:"DisableMultiRegionAccessPoints"},or]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[k]:ve},{[D]:[{[G]:zs,[V]:mu,[qe]:mg}],[te]:[{[D]:[{[G]:rt,[V]:[{[G]:Et,[V]:[{[Be]:mg},Ct]},{[G]:Et,[V]:[Cn,"partition"]}]}],[te]:[{endpoint:{[we]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ke]:{[ln]:[{[Wt]:or,name:ld,[Ht]:ta,[id]:X2}]},[Ce]:Ge},[k]:le}],[k]:ne},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[k]:ve}],[k]:ne}],[k]:ne},{error:"Invalid Access Point Name",[k]:ve}],[k]:ne},_g],[k]:ne},{[D]:[{[G]:rt,[V]:[au,ai]}],[te]:[{[D]:Zg,error:"S3 Outposts does not support Dual-stack",[k]:ve},{[D]:Vo,error:"S3 Outposts does not support FIPS",[k]:ve},{[D]:gu,error:"S3 Outposts does not support S3 Accelerate",[k]:ve},{[D]:[{[G]:Dn,[V]:[{[G]:Et,[V]:[Cn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[k]:ve},{[D]:[{[G]:Et,[V]:Z2,[qe]:_u}],[te]:[{[D]:ph,[te]:[iu,{[D]:xu,[te]:[{[D]:Un,[te]:[{[D]:yh,[te]:[{[D]:Eu,[te]:[{[D]:bu,[te]:[{[D]:[{[G]:Et,[V]:J2,[qe]:gg}],[te]:[{[D]:[{[G]:Et,[V]:[Cn,"resourceId[3]"],[qe]:ud}],[te]:[{[D]:[{[G]:rt,[V]:[{[Be]:gg},i0]}],[te]:[{[D]:Go,endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ke]:Ug,[Ce]:Ge},[k]:le},{endpoint:{[we]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ke]:Ug,[Ce]:Ge},[k]:le}],[k]:ne},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[k]:ve}],[k]:ne},{error:"Invalid ARN: expected an access point name",[k]:ve}],[k]:ne},{error:"Invalid ARN: Expected a 4-component resource",[k]:ve}],[k]:ne},lu],[k]:ne},cu],[k]:ne},uu],[k]:ne}],[k]:ne}],[k]:ne},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[k]:ve}],[k]:ne},{error:"Invalid ARN: The Outpost Id was not set",[k]:ve}],[k]:ne},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[k]:ve}],[k]:ne},{error:"Invalid ARN: No ARN type specified",[k]:ve}],[k]:ne},{[D]:[{[G]:dt,[V]:[nt,0,4,G2],[qe]:hg},{[G]:rt,[V]:[{[Be]:hg},"arn:"]},{[G]:sr,[V]:[{[G]:Dn,[V]:[Wg]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[k]:ve},{[D]:[{[G]:Tt,[V]:[V2,or]},Wg],error:"Path-style addressing cannot be used with ARN buckets",[k]:ve},{[D]:K2,[te]:[{[D]:Un,[te]:[{[D]:[Rt],[te]:[{[D]:[ut,Ve,ft,Mt],endpoint:{[we]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ut,Ve,ft,tt,Ft],[te]:[{endpoint:Hg,[k]:le}],[k]:ne},{[D]:[ut,Ve,ft,tt,_t],endpoint:Hg,[k]:le},{[D]:[et,Ve,ft,Mt],endpoint:{[we]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,Ve,ft,tt,Ft],[te]:[{endpoint:jg,[k]:le}],[k]:ne},{[D]:[et,Ve,ft,tt,_t],endpoint:jg,[k]:le},{[D]:[ut,Ve,Qe,Mt],endpoint:{[we]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ut,Ve,Qe,tt,Ft],[te]:[{endpoint:Gg,[k]:le}],[k]:ne},{[D]:[ut,Ve,Qe,tt,_t],endpoint:Gg,[k]:le},{[D]:[et,kt,fn,Qe,Mt],endpoint:{[we]:s0,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,kt,fn,Qe,tt,Ft],[te]:[{[D]:jr,endpoint:du,[k]:le},{endpoint:du,[k]:le}],[k]:ne},{[D]:[et,kt,fn,Qe,tt,_t],endpoint:du,[k]:le},{[D]:[et,Ve,Qe,Mt],endpoint:{[we]:yg,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[et,Ve,Qe,tt,Ft],[te]:[{[D]:jr,endpoint:{[we]:yg,[ke]:It,[Ce]:Ge},[k]:le},{endpoint:Vg,[k]:le}],[k]:ne},{[D]:[et,Ve,Qe,tt,_t],endpoint:Vg,[k]:le}],[k]:ne},{error:"Path-style addressing cannot be used with S3 Accelerate",[k]:ve}],[k]:ne}],[k]:ne}],[k]:ne},{[D]:[{[G]:Dn,[V]:[Yg]},{[G]:Tt,[V]:[Yg,or]}],[te]:[{[D]:Un,[te]:[{[D]:Eh,[te]:[zg,Lg,{[D]:Go,endpoint:{[we]:As,[ke]:pu,[Ce]:Ge},[k]:le},{[D]:Vo,endpoint:{[we]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ke]:pu,[Ce]:Ge},[k]:le},{endpoint:{[we]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ke]:pu,[Ce]:Ge},[k]:le}],[k]:ne},ks],[k]:ne}],[k]:ne},{[D]:[Tg],[te]:[{[D]:Un,[te]:[{[D]:Eh,[te]:[{[D]:[ft,ut,Ve,Mt],endpoint:{[we]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ft,ut,Ve,tt,Ft],[te]:[{endpoint:qg,[k]:le}],[k]:ne},{[D]:[ft,ut,Ve,tt,_t],endpoint:qg,[k]:le},{[D]:[ft,et,Ve,Mt],endpoint:{[we]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[ft,et,Ve,tt,Ft],[te]:[{endpoint:Kg,[k]:le}],[k]:ne},{[D]:[ft,et,Ve,tt,_t],endpoint:Kg,[k]:le},{[D]:[Qe,ut,Ve,Mt],endpoint:{[we]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[Qe,ut,Ve,tt,Ft],[te]:[{endpoint:Qg,[k]:le}],[k]:ne},{[D]:[Qe,ut,Ve,tt,_t],endpoint:Qg,[k]:le},{[D]:[Qe,et,kt,fn,Mt],endpoint:{[we]:As,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[Qe,et,kt,fn,tt,Ft],[te]:[{[D]:jr,endpoint:fu,[k]:le},{endpoint:fu,[k]:le}],[k]:ne},{[D]:[Qe,et,kt,fn,tt,_t],endpoint:fu,[k]:le},{[D]:[Qe,et,Ve,Mt],endpoint:{[we]:xg,[ke]:$t,[Ce]:Ge},[k]:le},{[D]:[Qe,et,Ve,tt,Ft],[te]:[{[D]:jr,endpoint:{[we]:xg,[ke]:It,[Ce]:Ge},[k]:le},{endpoint:Xg,[k]:le}],[k]:ne},{[D]:[Qe,et,Ve,tt,_t],endpoint:Xg,[k]:le}],[k]:ne},ks],[k]:ne}],[k]:ne}],[k]:ne},{error:"A region must be set when sending requests to S3.",[k]:ve}]},tk=ek,nk=new fw({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),g0=(t,r={})=>nk.get(t,()=>Dw(tk,{endpointParams:t,logger:r.logger}));Ds.aws=jy;const rk=t=>async(r,a,s)=>{if(!s)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const c=await t(r,a,s),u=oa(a)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!u)throw new Error(`getEndpointParameterInstructions() is not defined on \`${a.commandName}\``);const p=await qy(s,{getEndpointParameterInstructions:u},r);return Object.assign(c,p)},ok=async(t,r,a)=>({operation:oa(r).operation,region:await Zn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),ak=rk(ok);function h0(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(r,a)=>({signingProperties:{config:r,context:a}})}}function y0(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(r,a)=>({signingProperties:{config:r,context:a}})}}const ik=(t,r,a)=>c=>{const p=t(c).properties?.authSchemes;if(!p)return r(c);const m=[];for(const g of p){const{name:h,properties:x={},...b}=g,v=h.toLowerCase();h!==v&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${h}\` to \`${v}\``);let C;if(v==="sigv4a"){C="aws.auth#sigv4a";const S=p.find(I=>{const A=I.name.toLowerCase();return A!=="sigv4a"&&A.startsWith("sigv4")});if(Zy.sigv4aDependency()==="none"&&S)continue}else if(v.startsWith("sigv4"))C="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${v}\``);const M=a[C];if(!M)throw new Error(`Could not find HttpAuthOption create function for \`${C}\``);const O=M(c);O.schemeId=C,O.signingProperties={...O.signingProperties||{},...b,...x},m.push(O)}return m},sk=t=>{const r=[];switch(t.operation){default:r.push(h0(t)),r.push(y0(t))}return r},lk=ik(g0,sk,{"aws.auth#sigv4":h0,"aws.auth#sigv4a":y0}),ck=t=>{const r=qv(t),a=vv(r);return Object.assign(a,{authSchemePreference:Zn(t.authSchemePreference??[])})},uk=t=>Object.assign(t,{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),dk={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Qt extends qo{constructor(r){super(r),Object.setPrototypeOf(this,Qt.prototype)}}class pd extends Qt{name="NoSuchUpload";$fault="client";constructor(r){super({name:"NoSuchUpload",$fault:"client",...r}),Object.setPrototypeOf(this,pd.prototype)}}class fd extends Qt{name="ObjectNotInActiveTierError";$fault="client";constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,fd.prototype)}}class md extends Qt{name="BucketAlreadyExists";$fault="client";constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r}),Object.setPrototypeOf(this,md.prototype)}}class gd extends Qt{name="BucketAlreadyOwnedByYou";$fault="client";constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r}),Object.setPrototypeOf(this,gd.prototype)}}class hd extends Qt{name="NoSuchBucket";$fault="client";constructor(r){super({name:"NoSuchBucket",$fault:"client",...r}),Object.setPrototypeOf(this,hd.prototype)}}var bh;(function(t){t.visit=(r,a)=>r.Prefix!==void 0?a.Prefix(r.Prefix):r.Tag!==void 0?a.Tag(r.Tag):r.And!==void 0?a.And(r.And):a._(r.$unknown[0],r.$unknown[1])})(bh||(bh={}));var vh;(function(t){t.visit=(r,a)=>r.Prefix!==void 0?a.Prefix(r.Prefix):r.Tag!==void 0?a.Tag(r.Tag):r.AccessPointArn!==void 0?a.AccessPointArn(r.AccessPointArn):r.And!==void 0?a.And(r.And):a._(r.$unknown[0],r.$unknown[1])})(vh||(vh={}));class yd extends Qt{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(r){super({name:"InvalidObjectState",$fault:"client",...r}),Object.setPrototypeOf(this,yd.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}}class xd extends Qt{name="NoSuchKey";$fault="client";constructor(r){super({name:"NoSuchKey",$fault:"client",...r}),Object.setPrototypeOf(this,xd.prototype)}}class Ed extends Qt{name="NotFound";$fault="client";constructor(r){super({name:"NotFound",$fault:"client",...r}),Object.setPrototypeOf(this,Ed.prototype)}}const pk=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:Zo},...t.SessionToken&&{SessionToken:Zo}}),fk=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Zo},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Zo},...t.Credentials&&{Credentials:pk(t.Credentials)}}),mk=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Zo},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Zo}});class bd extends Qt{name="EncryptionTypeMismatch";$fault="client";constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,bd.prototype)}}class vd extends Qt{name="InvalidRequest";$fault="client";constructor(r){super({name:"InvalidRequest",$fault:"client",...r}),Object.setPrototypeOf(this,vd.prototype)}}class Sd extends Qt{name="InvalidWriteOffset";$fault="client";constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r}),Object.setPrototypeOf(this,Sd.prototype)}}class wd extends Qt{name="TooManyParts";$fault="client";constructor(r){super({name:"TooManyParts",$fault:"client",...r}),Object.setPrototypeOf(this,wd.prototype)}}class kd extends Qt{name="IdempotencyParameterMismatch";$fault="client";constructor(r){super({name:"IdempotencyParameterMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,kd.prototype)}}class Cd extends Qt{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,Cd.prototype)}}var Sh;(function(t){t.visit=(r,a)=>r.Records!==void 0?a.Records(r.Records):r.Stats!==void 0?a.Stats(r.Stats):r.Progress!==void 0?a.Progress(r.Progress):r.Cont!==void 0?a.Cont(r.Cont):r.End!==void 0?a.End(r.End):a._(r.$unknown[0],r.$unknown[1])})(Sh||(Sh={}));const gk=async(t,r)=>{const a=pv(t,r),s=jt({},Zm,{[Lk]:t[Mk],[v0]:t[x0],[S0]:t[b0],[w0]:t[E0],[Hu]:[()=>Zm(t[Wu]),()=>t[Wu].toString()]});a.bp("/"),a.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const c=jt({[zk]:[,""]});return a.m("GET").h(s).q(c).b(void 0),a.build()},hk=async(t,r)=>{if(t.statusCode!==200&&t.statusCode>=300)return yk(t,r);const a=jt({$metadata:hn(t),[x0]:[,t.headers[v0]],[b0]:[,t.headers[S0]],[E0]:[,t.headers[w0]],[Wu]:[()=>t.headers[Hu]!==void 0,()=>G1(t.headers[Hu])]}),s=hy(Q1(await Ny(t.body,r)),"body");return s[wu]!=null&&(a[wu]=Bk(s[wu])),a},yk=async(t,r)=>{const a={...t,body:await mS(t.body,r)},s=gS(t,a.body);switch(s){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Rk(a);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Nk(a);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Ek(a);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await bk(a);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Tk(a);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await wk(a);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Ak(a);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Ik(a);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await vk(a);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await kk(a);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await Ck(a);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Dk(a);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await Sk(a);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Pk(a);default:const c=a.body;return xk({output:t,parsedBody:c,errorCode:s})}},xk=tS(Qt),Ek=async(t,r)=>{const a=jt({});t.body;const s=new md({$metadata:hn(t),...a});return gn(s,t.body)},bk=async(t,r)=>{const a=jt({});t.body;const s=new gd({$metadata:hn(t),...a});return gn(s,t.body)},vk=async(t,r)=>{const a=jt({});t.body;const s=new bd({$metadata:hn(t),...a});return gn(s,t.body)},Sk=async(t,r)=>{const a=jt({});t.body;const s=new kd({$metadata:hn(t),...a});return gn(s,t.body)},wk=async(t,r)=>{const a=jt({}),s=t.body;s[Su]!=null&&(a[Su]=Xa(s[Su])),s[Tu]!=null&&(a[Tu]=Xa(s[Tu]));const c=new yd({$metadata:hn(t),...a});return gn(c,t.body)},kk=async(t,r)=>{const a=jt({});t.body;const s=new vd({$metadata:hn(t),...a});return gn(s,t.body)},Ck=async(t,r)=>{const a=jt({});t.body;const s=new Sd({$metadata:hn(t),...a});return gn(s,t.body)},Tk=async(t,r)=>{const a=jt({});t.body;const s=new hd({$metadata:hn(t),...a});return gn(s,t.body)},Ak=async(t,r)=>{const a=jt({});t.body;const s=new xd({$metadata:hn(t),...a});return gn(s,t.body)},Rk=async(t,r)=>{const a=jt({});t.body;const s=new pd({$metadata:hn(t),...a});return gn(s,t.body)},Ik=async(t,r)=>{const a=jt({});t.body;const s=new Ed({$metadata:hn(t),...a});return gn(s,t.body)},Pk=async(t,r)=>{const a=jt({});t.body;const s=new Cd({$metadata:hn(t),...a});return gn(s,t.body)},Nk=async(t,r)=>{const a=jt({});t.body;const s=new fd({$metadata:hn(t),...a});return gn(s,t.body)},Dk=async(t,r)=>{const a=jt({});t.body;const s=new wd({$metadata:hn(t),...a});return gn(s,t.body)},Bk=(t,r)=>{const a={};return t[vu]!=null&&(a[vu]=Xa(t[vu])),t[Cu]!=null&&(a[Cu]=Xa(t[Cu])),t[Au]!=null&&(a[Au]=Xa(t[Au])),t[ku]!=null&&(a[ku]=hy(rv(t[ku]))),a},hn=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),vu="AccessKeyId",Su="AccessTier",Wu="BucketKeyEnabled",wu="Credentials",ku="Expiration",Cu="SecretAccessKey",Tu="StorageClass",Mk="SessionMode",x0="ServerSideEncryption",E0="SSEKMSEncryptionContext",b0="SSEKMSKeyId",Au="SessionToken",zk="session",Lk="x-amz-create-session-mode",v0="x-amz-server-side-encryption",S0="x-amz-server-side-encryption-aws-kms-key-id",Hu="x-amz-server-side-encryption-bucket-key-enabled",w0="x-amz-server-side-encryption-context";class Ok extends Ry.classBuilder().ep({...dk,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,a,s,c){return[T1(s,this.serialize,this.deserialize),m2(s,r.getEndpointParameterInstructions()),rw(s)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(mk,fk).ser(gk).de(hk).build(){}const $k="3.914.0",Fk={version:$k},_k=t=>new TextEncoder().encode(t);function wh(t){return typeof t=="string"?t.length===0:t.byteLength===0}var k0={name:"SHA-1"},kh={name:"HMAC",hash:k0},Uk=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const Wk={};function Yr(){return typeof window<"u"?window:typeof self<"u"?self:Wk}var Hk=(function(){function t(r){this.toHash=new Uint8Array(0),r!==void 0&&(this.key=new Promise(function(a,s){Yr().crypto.subtle.importKey("raw",Ch(r),kh,!1,["sign"]).then(a,s)}),this.key.catch(function(){}))}return t.prototype.update=function(r){if(!wh(r)){var a=Ch(r),s=new Uint8Array(this.toHash.byteLength+a.byteLength);s.set(this.toHash,0),s.set(a,this.toHash.byteLength),this.toHash=s}},t.prototype.digest=function(){var r=this;return this.key?this.key.then(function(a){return Yr().crypto.subtle.sign(kh,a,r.toHash).then(function(s){return new Uint8Array(s)})}):wh(this.toHash)?Promise.resolve(Uk):Promise.resolve().then(function(){return Yr().crypto.subtle.digest(k0,r.toHash)}).then(function(a){return Promise.resolve(new Uint8Array(a))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t})();function Ch(t){return typeof t=="string"?_k(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var jk=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function C0(t){if(Gk(t)&&typeof t.crypto.subtle=="object"){var r=t.crypto.subtle;return Vk(r)}return!1}function Gk(t){if(typeof t=="object"&&typeof t.crypto=="object"){var r=t.crypto.getRandomValues;return typeof r=="function"}return!1}function Vk(t){return t&&jk.every(function(r){return typeof t[r]=="function"})}var Yk=(function(){function t(r){if(C0(Yr()))this.hash=new Hk(r);else throw new Error("SHA1 not supported")}return t.prototype.update=function(r,a){this.hash.update(Jo(r))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})(),T0={name:"SHA-256"},Th={name:"HMAC",hash:T0},qk=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Kk=(function(){function t(r){this.toHash=new Uint8Array(0),this.secret=r,this.reset()}return t.prototype.update=function(r){if(!Lu(r)){var a=Jo(r),s=new Uint8Array(this.toHash.byteLength+a.byteLength);s.set(this.toHash,0),s.set(a,this.toHash.byteLength),this.toHash=s}},t.prototype.digest=function(){var r=this;return this.key?this.key.then(function(a){return Yr().crypto.subtle.sign(Th,a,r.toHash).then(function(s){return new Uint8Array(s)})}):Lu(this.toHash)?Promise.resolve(qk):Promise.resolve().then(function(){return Yr().crypto.subtle.digest(T0,r.toHash)}).then(function(a){return Promise.resolve(new Uint8Array(a))})},t.prototype.reset=function(){var r=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(a,s){Yr().crypto.subtle.importKey("raw",Jo(r.secret),Th,!1,["sign"]).then(a,s)}),this.key.catch(function(){}))},t})(),Hn=64,Qk=32,Xk=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zk=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Jk=Math.pow(2,53)-1,Rs=(function(){function t(){this.state=Int32Array.from(Zk),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,s=r.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>Jk)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=r[a++],s--,this.bufferLength===Hn&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var r=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(a.setUint8(this.bufferLength++,128),s%Hn>=Hn-8){for(var c=this.bufferLength;c<Hn;c++)a.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(var c=this.bufferLength;c<Hn-8;c++)a.setUint8(c,0);a.setUint32(Hn-8,Math.floor(r/4294967296),!0),a.setUint32(Hn-4,r),this.hashBuffer(),this.finished=!0}for(var u=new Uint8Array(Qk),c=0;c<8;c++)u[c*4]=this.state[c]>>>24&255,u[c*4+1]=this.state[c]>>>16&255,u[c*4+2]=this.state[c]>>>8&255,u[c*4+3]=this.state[c]>>>0&255;return u},t.prototype.hashBuffer=function(){for(var r=this,a=r.buffer,s=r.state,c=s[0],u=s[1],p=s[2],m=s[3],g=s[4],h=s[5],x=s[6],b=s[7],v=0;v<Hn;v++){if(v<16)this.temp[v]=(a[v*4]&255)<<24|(a[v*4+1]&255)<<16|(a[v*4+2]&255)<<8|a[v*4+3]&255;else{var C=this.temp[v-2],M=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10;C=this.temp[v-15];var O=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3;this.temp[v]=(M+this.temp[v-7]|0)+(O+this.temp[v-16]|0)}var S=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&h^~g&x)|0)+(b+(Xk[v]+this.temp[v]|0)|0)|0,I=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+(c&u^c&p^u&p)|0;b=x,x=h,h=g,g=m+S|0,m=p,p=u,u=c,c=S+I|0}s[0]+=c,s[1]+=u,s[2]+=p,s[3]+=m,s[4]+=g,s[5]+=h,s[6]+=x,s[7]+=b},t})(),eC=(function(){function t(r){this.secret=r,this.hash=new Rs,this.reset()}return t.prototype.update=function(r){if(!(Lu(r)||this.error))try{this.hash.update(Jo(r))}catch(a){this.error=a}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return hS(this,void 0,void 0,function(){return yS(this,function(r){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Rs,this.secret){this.outer=new Rs;var r=tC(this.secret),a=new Uint8Array(Hn);a.set(r);for(var s=0;s<Hn;s++)r[s]^=54,a[s]^=92;this.hash.update(r),this.outer.update(a);for(var s=0;s<r.byteLength;s++)r[s]=0}},t})();function tC(t){var r=Jo(t);if(r.byteLength>Hn){var a=new Rs;a.update(r),r=a.digest()}var s=new Uint8Array(Hn);return s.set(r),s}var nC=(function(){function t(r){C0(Yr())?this.hash=new Kk(r):this.hash=new eC(r)}return t.prototype.update=function(r,a){this.hash.update(Jo(r))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})();const rC=({serviceId:t,clientVersion:r})=>async a=>{const s=typeof window<"u"?window.navigator:void 0,c=s?.userAgent??"",u=s?.userAgentData?.platform??Ah.os(c)??"other",p=void 0,m=s?.userAgentData?.brands??[],g=m[m.length-1],h=g?.brand??Ah.browser(c)??"unknown",x=g?.version??"unknown",b=[["aws-sdk-js",r],["ua","2.1"],[`os/${u}`,p],["lang/js"],["md/browser",`${h}_${x}`]];t&&b.push([`api/${t}`,r]);const v=await a?.userAgentAppId?.();return v&&b.push([`app/${v}`]),b},Ah={os(t){if(/iPhone|iPad|iPod/.test(t))return"iOS";if(/Macintosh|Mac OS X/.test(t))return"macOS";if(/Windows NT/.test(t))return"Windows";if(/Android/.test(t))return"Android";if(/Linux/.test(t))return"Linux"},browser(t){if(/EdgiOS|EdgA|Edg\//.test(t))return"Microsoft Edge";if(/Firefox\//.test(t))return"Firefox";if(/Chrome\//.test(t))return"Chrome";if(/Safari\//.test(t))return"Safari"}};class ei{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);const a=new Uint8Array(8);for(let s=7,c=Math.abs(Math.round(r));s>-1&&c>0;s--,c/=256)a[s]=c;return r<0&&Rh(a),new ei(a)}valueOf(){const r=this.bytes.slice(0),a=r[0]&128;return a&&Rh(r),parseInt(kn(r),16)*(a?-1:1)}toString(){return String(this.valueOf())}}function Rh(t){for(let r=0;r<8;r++)t[r]^=255;for(let r=7;r>-1&&(t[r]++,t[r]===0);r--);}class oC{toUtf8;fromUtf8;constructor(r,a){this.toUtf8=r,this.fromUtf8=a}format(r){const a=[];for(const u of Object.keys(r)){const p=this.fromUtf8(u);a.push(Uint8Array.from([p.byteLength]),p,this.formatHeaderValue(r[u]))}const s=new Uint8Array(a.reduce((u,p)=>u+p.byteLength,0));let c=0;for(const u of a)s.set(u,c),c+=u.byteLength;return s}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":const a=new DataView(new ArrayBuffer(3));return a.setUint8(0,3),a.setInt16(1,r.value,!1),new Uint8Array(a.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,r.value,!1),new Uint8Array(s.buffer);case"long":const c=new Uint8Array(9);return c[0]=5,c.set(r.value.bytes,1),c;case"binary":const u=new DataView(new ArrayBuffer(3+r.value.byteLength));u.setUint8(0,6),u.setUint16(1,r.value.byteLength,!1);const p=new Uint8Array(u.buffer);return p.set(r.value,3),p;case"string":const m=this.fromUtf8(r.value),g=new DataView(new ArrayBuffer(3+m.byteLength));g.setUint8(0,7),g.setUint16(1,m.byteLength,!1);const h=new Uint8Array(g.buffer);return h.set(m,3),h;case"timestamp":const x=new Uint8Array(9);return x[0]=8,x.set(ei.fromNumber(r.value.valueOf()).bytes,1),x;case"uuid":if(!fC.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);const b=new Uint8Array(17);return b[0]=9,b.set(my(r.value.replace(/\-/g,"")),1),b}}parse(r){const a={};let s=0;for(;s<r.byteLength;){const c=r.getUint8(s++),u=this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+s,c));switch(s+=c,r.getUint8(s++)){case 0:a[u]={type:Ph,value:!0};break;case 1:a[u]={type:Ph,value:!1};break;case 2:a[u]={type:aC,value:r.getInt8(s++)};break;case 3:a[u]={type:iC,value:r.getInt16(s,!1)},s+=2;break;case 4:a[u]={type:sC,value:r.getInt32(s,!1)},s+=4;break;case 5:a[u]={type:lC,value:new ei(new Uint8Array(r.buffer,r.byteOffset+s,8))},s+=8;break;case 6:const p=r.getUint16(s,!1);s+=2,a[u]={type:cC,value:new Uint8Array(r.buffer,r.byteOffset+s,p)},s+=p;break;case 7:const m=r.getUint16(s,!1);s+=2,a[u]={type:uC,value:this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+s,m))},s+=m;break;case 8:a[u]={type:dC,value:new Date(new ei(new Uint8Array(r.buffer,r.byteOffset+s,8)).valueOf())},s+=8;break;case 9:const g=new Uint8Array(r.buffer,r.byteOffset+s,16);s+=16,a[u]={type:pC,value:`${kn(g.subarray(0,4))}-${kn(g.subarray(4,6))}-${kn(g.subarray(6,8))}-${kn(g.subarray(8,10))}-${kn(g.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return a}}var Ih;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Ih||(Ih={}));const Ph="boolean",aC="byte",iC="short",sC="integer",lC="long",cC="binary",uC="string",dC="timestamp",pC="uuid",fC=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,A0=4,Vr=A0*2,po=4,mC=Vr+po*2;function gC({byteLength:t,byteOffset:r,buffer:a}){if(t<mC)throw new Error("Provided message too short to accommodate event stream message overhead");const s=new DataView(a,r,t),c=s.getUint32(0,!1);if(t!==c)throw new Error("Reported message length does not match received message length");const u=s.getUint32(A0,!1),p=s.getUint32(Vr,!1),m=s.getUint32(t-po,!1),g=new Dy().update(new Uint8Array(a,r,Vr));if(p!==g.digest())throw new Error(`The prelude checksum specified in the message (${p}) does not match the calculated CRC32 checksum (${g.digest()})`);if(g.update(new Uint8Array(a,r+Vr,t-(Vr+po))),m!==g.digest())throw new Error(`The message checksum (${g.digest()}) did not match the expected value of ${m}`);return{headers:new DataView(a,r+Vr+po,u),body:new Uint8Array(a,r+Vr+po+u,c-u-(Vr+po+po))}}class hC{headerMarshaller;messageBuffer;isEndOfStream;constructor(r,a){this.headerMarshaller=new oC(r,a),this.messageBuffer=[],this.isEndOfStream=!1}feed(r){this.messageBuffer.push(this.decode(r))}endOfStream(){this.isEndOfStream=!0}getMessage(){const r=this.messageBuffer.pop(),a=this.isEndOfStream;return{getMessage(){return r},isEndOfStream(){return a}}}getAvailableMessages(){const r=this.messageBuffer;this.messageBuffer=[];const a=this.isEndOfStream;return{getMessages(){return r},isEndOfStream(){return a}}}encode({headers:r,body:a}){const s=this.headerMarshaller.format(r),c=s.byteLength+a.byteLength+16,u=new Uint8Array(c),p=new DataView(u.buffer,u.byteOffset,u.byteLength),m=new Dy;return p.setUint32(0,c,!1),p.setUint32(4,s.byteLength,!1),p.setUint32(8,m.update(u.subarray(0,8)).digest(),!1),u.set(s,12),u.set(a,s.byteLength+12),p.setUint32(c-4,m.update(u.subarray(8,c-4)).digest(),!1),u}decode(r){const{headers:a,body:s}=gC(r);return{headers:this.headerMarshaller.parse(a),body:s}}formatHeaders(r){return this.headerMarshaller.format(r)}}class yC{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const r of this.options.inputStream)yield this.options.decoder.decode(r)}}class xC{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const r of this.options.messageStream)yield this.options.encoder.encode(r);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class EC{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const r of this.options.messageStream){const a=await this.options.deserializer(r);a!==void 0&&(yield a)}}}class bC{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const r of this.options.inputStream)yield this.options.serializer(r)}}function vC(t){let r=0,a=0,s=null,c=null;const u=m=>{if(typeof m!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+m);r=m,a=4,s=new Uint8Array(m),new DataView(s.buffer).setUint32(0,m,!1)},p=async function*(){const m=t[Symbol.asyncIterator]();for(;;){const{value:g,done:h}=await m.next();if(h){if(r)if(r===a)yield s;else throw new Error("Truncated event message received.");else return;return}const x=g.length;let b=0;for(;b<x;){if(!s){const C=x-b;c||(c=new Uint8Array(4));const M=Math.min(4-a,C);if(c.set(g.slice(b,b+M),a),a+=M,b+=M,a<4)break;u(new DataView(c.buffer).getUint32(0,!1)),c=null}const v=Math.min(r-a,x-b);s.set(g.slice(b,b+v),a),a+=v,b+=v,r&&r===a&&(yield s,s=null,r=0,a=0)}}};return{[Symbol.asyncIterator]:p}}function SC(t,r){return async function(a){const{value:s}=a.headers[":message-type"];if(s==="error"){const c=new Error(a.headers[":error-message"].value||"UnknownError");throw c.name=a.headers[":error-code"].value,c}else if(s==="exception"){const c=a.headers[":exception-type"].value,u={[c]:a},p=await t(u);if(p.$unknown){const m=new Error(r(a.body));throw m.name=c,m}throw p[c]}else if(s==="event"){const c={[a.headers[":event-type"].value]:a},u=await t(c);return u.$unknown?void 0:u}else throw Error(`Unrecognizable event type: ${a.headers[":event-type"].value}`)}}let wC=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:r,utf8Decoder:a}){this.eventStreamCodec=new hC(r,a),this.utfEncoder=r}deserialize(r,a){const s=vC(r);return new EC({messageStream:new yC({inputStream:s,decoder:this.eventStreamCodec}),deserializer:SC(a,this.utfEncoder)})}serialize(r,a){return new xC({messageStream:new bC({inputStream:r,serializer:a}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const kC=t=>({[Symbol.asyncIterator]:async function*(){const r=t.getReader();try{for(;;){const{done:a,value:s}=await r.read();if(a)return;yield s}}finally{r.releaseLock()}}}),CC=t=>{const r=t[Symbol.asyncIterator]();return new ReadableStream({async pull(a){const{done:s,value:c}=await r.next();if(s)return a.close();a.enqueue(c)}})};class TC{universalMarshaller;constructor({utf8Encoder:r,utf8Decoder:a}){this.universalMarshaller=new wC({utf8Decoder:a,utf8Encoder:r})}deserialize(r,a){const s=AC(r)?kC(r):r;return this.universalMarshaller.deserialize(s,a)}serialize(r,a){const s=this.universalMarshaller.serialize(r,a);return typeof ReadableStream=="function"?CC(s):s}}const AC=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,RC=t=>new TC(t);async function IC(t,r,a=1024*1024){const s=t.size;let c=0;for(;c<s;){const u=t.slice(c,Math.min(s,c+a));r(new Uint8Array(await u.arrayBuffer())),c+=u.size}}const PC=async function(r,a){const s=new r;return await IC(a,c=>{s.update(c)}),s.digest()},NC=t=>()=>Promise.reject(t),Gr=64,DC=16,BC=[1732584193,4023233417,2562383102,271733878];class MC{state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(r){if(zC(r))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const a=LC(r);let s=0,{byteLength:c}=a;for(this.bytesHashed+=c;c>0;)this.buffer.setUint8(this.bufferLength++,a[s++]),c--,this.bufferLength===Gr&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:a,bufferLength:s,bytesHashed:c}=this,u=c*8;if(a.setUint8(this.bufferLength++,128),s%Gr>=Gr-8){for(let p=this.bufferLength;p<Gr;p++)a.setUint8(p,0);this.hashBuffer(),this.bufferLength=0}for(let p=this.bufferLength;p<Gr-8;p++)a.setUint8(p,0);a.setUint32(Gr-8,u>>>0,!0),a.setUint32(Gr-4,Math.floor(u/4294967296),!0),this.hashBuffer(),this.finished=!0}const r=new DataView(new ArrayBuffer(DC));for(let a=0;a<4;a++)r.setUint32(a*4,this.state[a],!0);return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}hashBuffer(){const{buffer:r,state:a}=this;let s=a[0],c=a[1],u=a[2],p=a[3];s=rn(s,c,u,p,r.getUint32(0,!0),7,3614090360),p=rn(p,s,c,u,r.getUint32(4,!0),12,3905402710),u=rn(u,p,s,c,r.getUint32(8,!0),17,606105819),c=rn(c,u,p,s,r.getUint32(12,!0),22,3250441966),s=rn(s,c,u,p,r.getUint32(16,!0),7,4118548399),p=rn(p,s,c,u,r.getUint32(20,!0),12,1200080426),u=rn(u,p,s,c,r.getUint32(24,!0),17,2821735955),c=rn(c,u,p,s,r.getUint32(28,!0),22,4249261313),s=rn(s,c,u,p,r.getUint32(32,!0),7,1770035416),p=rn(p,s,c,u,r.getUint32(36,!0),12,2336552879),u=rn(u,p,s,c,r.getUint32(40,!0),17,4294925233),c=rn(c,u,p,s,r.getUint32(44,!0),22,2304563134),s=rn(s,c,u,p,r.getUint32(48,!0),7,1804603682),p=rn(p,s,c,u,r.getUint32(52,!0),12,4254626195),u=rn(u,p,s,c,r.getUint32(56,!0),17,2792965006),c=rn(c,u,p,s,r.getUint32(60,!0),22,1236535329),s=on(s,c,u,p,r.getUint32(4,!0),5,4129170786),p=on(p,s,c,u,r.getUint32(24,!0),9,3225465664),u=on(u,p,s,c,r.getUint32(44,!0),14,643717713),c=on(c,u,p,s,r.getUint32(0,!0),20,3921069994),s=on(s,c,u,p,r.getUint32(20,!0),5,3593408605),p=on(p,s,c,u,r.getUint32(40,!0),9,38016083),u=on(u,p,s,c,r.getUint32(60,!0),14,3634488961),c=on(c,u,p,s,r.getUint32(16,!0),20,3889429448),s=on(s,c,u,p,r.getUint32(36,!0),5,568446438),p=on(p,s,c,u,r.getUint32(56,!0),9,3275163606),u=on(u,p,s,c,r.getUint32(12,!0),14,4107603335),c=on(c,u,p,s,r.getUint32(32,!0),20,1163531501),s=on(s,c,u,p,r.getUint32(52,!0),5,2850285829),p=on(p,s,c,u,r.getUint32(8,!0),9,4243563512),u=on(u,p,s,c,r.getUint32(28,!0),14,1735328473),c=on(c,u,p,s,r.getUint32(48,!0),20,2368359562),s=an(s,c,u,p,r.getUint32(20,!0),4,4294588738),p=an(p,s,c,u,r.getUint32(32,!0),11,2272392833),u=an(u,p,s,c,r.getUint32(44,!0),16,1839030562),c=an(c,u,p,s,r.getUint32(56,!0),23,4259657740),s=an(s,c,u,p,r.getUint32(4,!0),4,2763975236),p=an(p,s,c,u,r.getUint32(16,!0),11,1272893353),u=an(u,p,s,c,r.getUint32(28,!0),16,4139469664),c=an(c,u,p,s,r.getUint32(40,!0),23,3200236656),s=an(s,c,u,p,r.getUint32(52,!0),4,681279174),p=an(p,s,c,u,r.getUint32(0,!0),11,3936430074),u=an(u,p,s,c,r.getUint32(12,!0),16,3572445317),c=an(c,u,p,s,r.getUint32(24,!0),23,76029189),s=an(s,c,u,p,r.getUint32(36,!0),4,3654602809),p=an(p,s,c,u,r.getUint32(48,!0),11,3873151461),u=an(u,p,s,c,r.getUint32(60,!0),16,530742520),c=an(c,u,p,s,r.getUint32(8,!0),23,3299628645),s=sn(s,c,u,p,r.getUint32(0,!0),6,4096336452),p=sn(p,s,c,u,r.getUint32(28,!0),10,1126891415),u=sn(u,p,s,c,r.getUint32(56,!0),15,2878612391),c=sn(c,u,p,s,r.getUint32(20,!0),21,4237533241),s=sn(s,c,u,p,r.getUint32(48,!0),6,1700485571),p=sn(p,s,c,u,r.getUint32(12,!0),10,2399980690),u=sn(u,p,s,c,r.getUint32(40,!0),15,4293915773),c=sn(c,u,p,s,r.getUint32(4,!0),21,2240044497),s=sn(s,c,u,p,r.getUint32(32,!0),6,1873313359),p=sn(p,s,c,u,r.getUint32(60,!0),10,4264355552),u=sn(u,p,s,c,r.getUint32(24,!0),15,2734768916),c=sn(c,u,p,s,r.getUint32(52,!0),21,1309151649),s=sn(s,c,u,p,r.getUint32(16,!0),6,4149444226),p=sn(p,s,c,u,r.getUint32(44,!0),10,3174756917),u=sn(u,p,s,c,r.getUint32(8,!0),15,718787259),c=sn(c,u,p,s,r.getUint32(36,!0),21,3951481745),a[0]=s+a[0]&4294967295,a[1]=c+a[1]&4294967295,a[2]=u+a[2]&4294967295,a[3]=p+a[3]&4294967295}reset(){this.state=Uint32Array.from(BC),this.buffer=new DataView(new ArrayBuffer(Gr)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function js(t,r,a,s,c,u){return r=(r+t&4294967295)+(s+u&4294967295)&4294967295,(r<<c|r>>>32-c)+a&4294967295}function rn(t,r,a,s,c,u,p){return js(r&a|~r&s,t,r,c,u,p)}function on(t,r,a,s,c,u,p){return js(r&s|a&~s,t,r,c,u,p)}function an(t,r,a,s,c,u,p){return js(r^a^s,t,r,c,u,p)}function sn(t,r,a,s,c,u,p){return js(a^(r|~s),t,r,c,u,p)}function zC(t){return typeof t=="string"?t.length===0:t.byteLength===0}function LC(t){return typeof t=="string"?yo(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const OC=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Qu,base64Encoder:t?.base64Encoder??Xu,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??g0,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??B1,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??lk,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new ly},{schemeId:"aws.auth#sigv4a",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4a"),signer:new y1}],logger:t?.logger??new Py,sdkStreamMixin:t?.sdkStreamMixin??U1,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??Zy,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Bs,useArnRegion:t?.useArnRegion??void 0,utf8Decoder:t?.utf8Decoder??yo,utf8Encoder:t?.utf8Encoder??Us}),$C=["in-region","cross-region","mobile","standard","legacy"],FC=({defaultsMode:t}={})=>bv(async()=>{const r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Promise.resolve(_C()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${$C.join(", ")}, got ${r}`)}}),_C=()=>{const t=window?.navigator;if(t?.connection){const{effectiveType:r,rtt:a,downlink:s}=t?.connection;if(typeof r=="string"&&r!=="4g"||Number(a)>100||Number(s)<10)return!0}return t?.userAgentData?.mobile||typeof t?.maxTouchPoints=="number"&&t?.maxTouchPoints>1},UC=t=>{const r=FC(t),a=()=>r().then(rS),s=OC(t);return{...s,...t,runtime:"browser",defaultsMode:r,bodyLengthChecker:t?.bodyLengthChecker??Xv,credentialDefaultProvider:t?.credentialDefaultProvider??(c=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??rC({serviceId:s.serviceId,clientVersion:Fk.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??RC,maxAttempts:t?.maxAttempts??Ms,md5:t?.md5??MC,region:t?.region??NC("Region is missing"),requestHandler:Zu.create(t?.requestHandler??a),retryMode:t?.retryMode??(async()=>(await a()).retryMode||h2),sha1:t?.sha1??Yk,sha256:t?.sha256??nC,streamCollector:t?.streamCollector??py,streamHasher:t?.streamHasher??PC,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(Kw)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(Qw))}},WC=t=>({setRegion(r){t.region=r},region(){return t.region}}),HC=t=>({region:t.region()}),jC=t=>{const r=t.httpAuthSchemes;let a=t.httpAuthSchemeProvider,s=t.credentials;return{setHttpAuthScheme(c){const u=r.findIndex(p=>p.schemeId===c.schemeId);u===-1?r.push(c):r.splice(u,1,c)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(c){a=c},httpAuthSchemeProvider(){return a},setCredentials(c){s=c},credentials(){return s}}},GC=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),VC=(t,r)=>{const a=Object.assign(WC(t),lS(t),s1(t),jC(t));return r.forEach(s=>s.configure(a)),Object.assign(t,HC(a),cS(a),l1(a),GC(a))};class YC extends Zv{config;constructor(...[r]){const a=UC(r||{});super(a),this.initConfig=a;const s=uk(a),c=pw(s),u=kS(c),p=z2(u),m=Jw(p),g=m,h=g2(g),x=e2(h),b=ck(x),v=XS(b,{session:[()=>this,Ok]}),C=VC(v,r?.extensions||[]);this.config=C,this.middlewareStack.use(qw(this.config)),this.middlewareStack.use(W2(this.config)),this.middlewareStack.use(r2(this.config)),this.middlewareStack.use(AS(this.config)),this.middlewareStack.use(PS(this.config)),this.middlewareStack.use(BS(this.config)),this.middlewareStack.use(S1(this.config,{httpAuthSchemeParametersProvider:ak,identityProviderConfigProvider:async M=>new gv({"aws.auth#sigv4":M.credentials,"aws.auth#sigv4a":M.credentials})})),this.middlewareStack.use(P1(this.config)),this.middlewareStack.use(cw(this.config)),this.middlewareStack.use(p1(this.config)),this.middlewareStack.use($S(this.config)),this.middlewareStack.use(GS(this.config)),this.middlewareStack.use(QS(this.config))}destroy(){super.destroy()}}const qC="$";new YC({region:qC,credentials:{accessKeyId:"YOUR_ACCESS_KEY_ID",secretAccessKey:"YOUR_SECRET_ACCESS_KEY"}});function KC({onClose:t,onPropertyPosted:r}){const{user:a,isAuthenticated:s}=Gt(),[c,u]=w.useState([]),[p,m]=w.useState(!1),[g,h]=w.useState(null),[x,b]=w.useState(!0),[v,C]=w.useState(!1),[M,O]=w.useState(0),[S,I]=w.useState(""),[A,U]=w.useState(""),[F,Q]=w.useState({title:"",type:"Apartment",listingType:"sale",city:"Hyderabad",areaId:"",address:"",imageUrl:"",bedrooms:"",bathrooms:"",balconies:"",areaSqft:"",price:"",amenities:"",description:"",ownerType:"owner",isReadyToMove:!1}),J=["Parking","Gym","Swimming Pool","Security","Lift","Power Backup","Club House","Park","Intercom","Visitor Parking","Rainwater Harvesting","24/7 Water Supply","Community Hall"];w.useEffect(()=>{const q=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=q}},[]),w.useEffect(()=>{Ie()},[]);const Ie=async()=>{b(!0);try{const q=await fetch(`${$e}/api/areas?city=Hyderabad`);if(!q.ok)throw new Error(`HTTP ${q.status}`);const oe=await q.json();oe.success&&Array.isArray(oe.data)?(u(oe.data),h(null)):h("Invalid response format")}catch(q){h(`Failed to load areas: ${q.message}`),u([])}finally{b(!1)}},Re=q=>{const oe=Number(q);if(!q||isNaN(oe)||oe<=0)return"";const X=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],ae=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],Z=E=>{let P="";return E>99&&(P+=X[Math.floor(E/100)]+" Hundred ",E%=100),E>19&&(P+=ae[Math.floor(E/10)]+" ",E%=10),E>0&&(P+=X[E]+" "),P};let T="",j=oe;return j>=1e7&&(T+=Z(Math.floor(j/1e7))+"Crore ",j%=1e7),j>=1e5&&(T+=Z(Math.floor(j/1e5))+"Lakh ",j%=1e5),j>=1e3&&(T+=Z(Math.floor(j/1e3))+"Thousand ",j%=1e3),j>0&&(T+=Z(j)),T.trim()+" Rupees Only"};if(!s||!a)return o.createElement("div",{style:Ne.backdrop,onClick:t},o.createElement("div",{style:Ne.modal,onClick:q=>q.stopPropagation()},o.createElement("button",{onClick:t,style:Ne.closeBtn},"×"),o.createElement("h2",{style:{color:"#dc3545",textAlign:"center"}},"Please Login First"),o.createElement("p",{style:{textAlign:"center"}},"You need to be logged in to post a property.")));const W=q=>{Q(oe=>{const X=oe.amenities?oe.amenities.split(",").map(Z=>Z.trim()).filter(Z=>Z.length>0):[];let ae;return X.includes(q)?ae=X.filter(Z=>Z!==q):ae=[...X,q],{...oe,amenities:ae.join(", ")}}),h(null)},_=q=>{const{name:oe,value:X,type:ae,checked:Z}=q.target;let T=ae==="checkbox"?Z:X;const j=1e9,E=10,P=9999;if(oe==="price"){const K=Number(T);if(!isNaN(K)&&K>j){h(`Price cannot exceed ₹${j.toLocaleString("en-IN")} (100 Crore).`);return}}if(["bedrooms","bathrooms","balconies"].includes(oe)){const K=Number(T);if(!isNaN(K)&&K>E){h(`${oe.charAt(0).toUpperCase()+oe.slice(1)} cannot exceed ${E}.`);return}}if(oe==="areaSqft"){const K=Number(T);if(!isNaN(K)&&K>P){h(`Area cannot exceed ${P.toLocaleString()} sqft.`);return}}oe==="price"&&T.length>1&&T.startsWith("0")&&(T=T.substring(1)),Q(K=>({...K,[oe]:T})),oe==="price"&&I(Re(T)),h(null)},fe=async q=>{const oe=q.target.files[0];if(!oe)return;const X=new FormData;X.append("file",oe),C(!0);try{const Z=await(await fetch(`${$e}/api/upload/image`,{method:"POST",body:X})).json();if(Z.success)Q(T=>({...T,imageUrl:Z.url}));else throw new Error(Z.url||"Upload failed")}catch(ae){alert("Upload failed: "+ae.message)}finally{C(!1)}},ge=async q=>{if(q.preventDefault(),m(!0),h(null),!F.title||!F.areaId||!F.imageUrl||!F.bedrooms||!F.bathrooms||!F.price||!F.description){h("Please fill all required fields marked with *"),m(!1);return}const oe=parseFloat(F.price),X=parseInt(F.bedrooms),ae=parseInt(F.bathrooms),Z=F.balconies?parseInt(F.balconies):0,T=F.areaSqft?parseFloat(F.areaSqft):0,j=1e9,E=10,P=9999;if(isNaN(oe)||oe<=0||oe>j){h("Please enter a valid price, not exceeding ₹100 Crore."),m(!1);return}if(X>E||ae>E||Z>E){h(`Bedrooms, Bathrooms, and Balconies cannot exceed ${E}.`),m(!1);return}if(T>P){h(`AreaSqft cannot exceed ${P.toLocaleString()} sqft.`),m(!1);return}let K;oe>=1e7?K=`₹${(oe/1e7).toFixed(2)} Cr`:oe>=1e5?K=`₹${(oe/1e5).toFixed(2)} Lac`:K=`₹${oe.toLocaleString("en-IN")}`;const ue={title:F.title,type:F.type,city:F.city,address:F.address||`Area ID ${F.areaId}, ${F.city}`,imageUrl:F.imageUrl,description:F.description,price:oe,priceDisplay:K,areaSqft:F.areaSqft?parseFloat(F.areaSqft):null,bedrooms:X,bathrooms:ae,balconies:Z,amenities:F.amenities||null,listingType:F.listingType,status:"available",isFeatured:!0,isActive:!0,ownerType:F.ownerType,isReadyToMove:F.isReadyToMove,isVerified:!1,area:{id:parseInt(F.areaId)},user:{id:a.id}};try{const he=await fetch(`${$e}/api/properties`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!he.ok){const Le=await he.text();throw new Error("Failed to post property: "+Le)}alert("✅ Property posted successfully!"),r&&r(),t()}catch(he){h(he.message||"Failed to post property. Please try again.")}finally{m(!1)}};return o.createElement("div",{style:Ne.backdrop,onClick:t},o.createElement("div",{style:Ne.modal,onClick:q=>q.stopPropagation()},o.createElement("button",{onClick:t,style:Ne.closeBtn},"×"),o.createElement("h2",{style:Ne.title},"📝 Post Your Property"),g&&o.createElement("div",{style:Ne.error},"❌ ",g),o.createElement("form",{onSubmit:ge,style:Ne.form},o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"Property Title *"),o.createElement("input",{type:"text",name:"title",value:F.title,onChange:_,placeholder:"e.g., Spacious 2BHK Apartment",style:Ne.input,required:!0})),o.createElement("div",{style:Ne.row},o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"Property Type *"),o.createElement("select",{name:"type",value:F.type,onChange:_,style:Ne.select,required:!0},o.createElement("option",null,"Apartment"),o.createElement("option",null,"Villa"),o.createElement("option",null,"House"),o.createElement("option",null,"Plot"),o.createElement("option",null,"Commercial"),o.createElement("option",null,"Penthouse"),o.createElement("option",null,"Studio"),o.createElement("option",null,"Duplex"))),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"Listing Type *"),o.createElement("select",{name:"listingType",value:F.listingType,onChange:_,style:Ne.select,required:!0},o.createElement("option",{value:"sale"},"🏠 For Sale"),o.createElement("option",{value:"rent"},"🔑 For Rent")))),o.createElement("div",{style:Ne.row},o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"👤 Posted By *"),o.createElement("select",{name:"ownerType",value:F.ownerType,onChange:_,style:Ne.select,required:!0},o.createElement("option",{value:"owner"},"Owner"),o.createElement("option",{value:"broker"},"Broker/Agent"))),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.checkboxLabel},o.createElement("input",{type:"checkbox",name:"isReadyToMove",checked:F.isReadyToMove,onChange:_,style:Ne.checkbox}),o.createElement("span",{style:Ne.checkboxText},"✅ Ready to Move")))),o.createElement("div",{style:Ne.row},o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"City *"),o.createElement("input",{type:"text",name:"city",value:F.city,onChange:_,style:Ne.input,required:!0})),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"📍 Area *"," ",x&&o.createElement("span",{style:{color:"#f59e0b"}}," (Loading...)"),!x&&c.length>0&&o.createElement("span",{style:{color:"#10b981"}}," ","(",c.length," available)")),o.createElement("select",{name:"areaId",value:F.areaId,onChange:_,style:Ne.select,required:!0,disabled:x||c.length===0},o.createElement("option",{value:""},x?"⏳ Loading...":c.length===0?"❌ No areas":"-- Select Area --"),c.map(q=>o.createElement("option",{key:q.areaId,value:q.areaId},q.areaName," (",q.pincode,")"))))),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"Complete Address (Optional)"),o.createElement("input",{type:"text",name:"address",value:F.address,onChange:_,placeholder:"House/Plot number, Street name",style:Ne.input})),o.createElement("div",{style:{...Ne.imageSection,border:"2px solid #3b82f6",background:"#f0f9ff"}},o.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#1e40af",fontWeight:"700"}},"📁 Upload Property Image *"),F.imageUrl?o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{background:"#d1fae5",color:"#065f46",padding:"12px",borderRadius:"8px",fontWeight:"600",marginBottom:"12px"}},"✅ Image uploaded!"),o.createElement("img",{src:F.imageUrl,alt:"Preview",style:{...Ne.imagePreview,display:"block",margin:"12px auto"}}),o.createElement("button",{type:"button",onClick:()=>Q(q=>({...q,imageUrl:""})),style:{marginTop:"12px",padding:"10px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"inline-block"}},"🗑️ Remove Image")):o.createElement(o.Fragment,null,o.createElement("input",{type:"file",accept:"image/*",onChange:fe,disabled:v,style:{display:"block",width:"100%",boxSizing:"border-box",padding:"16px",border:"3px dashed #3b82f6",borderRadius:"8px",backgroundColor:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",color:"#1e40af"}}),v&&o.createElement("div",{style:{marginTop:"12px"}}))),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"Description *"),o.createElement("textarea",{name:"description",value:F.description,onChange:_,placeholder:"Describe your property...",style:{...Ne.input,minHeight:"100px",resize:"vertical"},required:!0})),o.createElement("div",{style:Ne.row3},o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"🛏️ Bedrooms *"),o.createElement("input",{type:"number",name:"bedrooms",value:F.bedrooms,onChange:_,min:"0",max:"10",style:Ne.input,placeholder:"2",required:!0})),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"🚿 Bathrooms *"),o.createElement("input",{type:"number",name:"bathrooms",value:F.bathrooms,onChange:_,min:"0",max:"10",style:Ne.input,placeholder:"2",required:!0})),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"🏠 Balconies"),o.createElement("input",{type:"number",name:"balconies",value:F.balconies,onChange:_,min:"0",max:"10",style:Ne.input,placeholder:"1"}))),o.createElement("div",{style:Ne.row},o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"📐 Area (sqft)"),o.createElement("input",{type:"number",name:"areaSqft",value:F.areaSqft,onChange:_,placeholder:"1200",style:Ne.input,max:"9999"})),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"💰 Expected Price (₹) *"),o.createElement("input",{type:"number",name:"price",value:F.price,onChange:_,placeholder:"e.g..,5000000",style:Ne.input,required:!0,max:"1000000000"}),S&&o.createElement("p",{style:Ne.priceInWords},S))),o.createElement("div",{style:Ne.field},o.createElement("label",{style:Ne.label},"✨ Amenities"),o.createElement("div",{style:Ne.amenitiesGrid},J.map(q=>{const X=(F.amenities?F.amenities.split(",").map(ae=>ae.trim()):[]).includes(q);return o.createElement("button",{key:q,type:"button",onClick:()=>W(q),style:{...Ne.amenityBtn,backgroundColor:X?"#10b981":"#f1f5f9",color:X?"white":"#475569",borderColor:X?"#059669":"#e2e8f0"}},q)}))),o.createElement("button",{type:"submit",disabled:p||v,style:{...Ne.submitBtn,opacity:p||v?.6:1,cursor:p||v?"not-allowed":"pointer"}},p?"⏳ Posting...":v?"⏳ Uploading...":"📤 Post Property"),o.createElement("p",{style:{textAlign:"center",fontSize:"12px",color:"#9ca3af",margin:"8px 0 0 0"}},"* Required fields"))))}const Ne={backdrop:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{background:"white",padding:"2rem",borderRadius:"16px",width:"750px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},closeBtn:{position:"absolute",top:"15px",right:"15px",background:"#ef4444",color:"white",border:"none",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},title:{textAlign:"center",marginBottom:"1rem",fontSize:"28px",color:"#1e293b",fontWeight:"800"},form:{display:"flex",flexDirection:"column",gap:"1rem"},field:{display:"flex",flexDirection:"column"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},row3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},label:{marginBottom:"6px",fontWeight:"700",fontSize:"14px",color:"#1e293b"},checkboxLabel:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#f0f9ff",borderRadius:"8px",cursor:"pointer",border:"2px solid #bfdbfe"},checkbox:{width:"20px",height:"20px",cursor:"pointer"},checkboxText:{fontSize:"14px",fontWeight:"600",color:"#1e40af"},input:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.3s"},select:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontFamily:"inherit",backgroundColor:"white"},imageSection:{padding:"16px",borderRadius:"12px"},imagePreview:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px",border:"2px solid #e2e8f0"},error:{background:"#fee2e2",border:"2px solid #fecaca",borderRadius:"8px",padding:"12px",marginBottom:"1rem",textAlign:"center",color:"#dc3545",fontWeight:"600",fontSize:"14px"},submitBtn:{padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},priceInWords:{margin:"6px 0 0 4px",fontSize:"12px",color:"#64748b",fontStyle:"italic"},amenitiesGrid:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px"},amenityBtn:{padding:"8px 16px",borderRadius:"20px",border:"1px solid",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s"}},QC={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(10px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},XC={background:"rgba(100, 60, 200, 0.25)",backdropFilter:"blur(18px)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"20px",width:"400px",padding:"40px 35px",color:"#f5f0ff",boxShadow:"0 8px 30px rgba(80, 40, 120, 0.4)",position:"relative",transition:"transform 0.3s ease, box-shadow 0.3s ease"},Yo={width:"100%",padding:"12px 15px",marginBottom:"18px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"15px",outline:"none",transition:"border 0.3s, background 0.3s"},ZC=t=>({width:"100%",padding:"12px",background:"linear-gradient(135deg, #9b5de5 0%, #845ec2 50%, #5c4b99 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(155, 93, 229, 0.4)"}),JC=t=>{if(t.length<6)return{strength:"Too Short",color:"#dc3545"};let r=0;return t.match(/[a-z]/)&&r++,t.match(/[A-Z]/)&&r++,t.match(/[0-9]/)&&r++,t.match(/[^a-zA-Z0-9]/)&&r++,r<2?{strength:"Weak",color:"#ffc107"}:r<4?{strength:"Medium",color:"#007bff"}:{strength:"Strong",color:"#28a745"}},eT=({onClose:t,onSignupSuccess:r})=>{const{login:a}=Gt(),[s,c]=w.useState(!1),[u,p]=w.useState(null),[m,g]=w.useState({firstName:"",lastName:"",username:"",email:"",password:"",mobileNumber:""}),h=w.useMemo(()=>JC(m.password),[m.password]),x=m.firstName&&m.lastName&&m.username&&m.email&&m.password.length>=6&&m.mobileNumber.length>=10,b=C=>{const{name:M,value:O}=C.target;g({...m,[M]:O}),p(null)},v=async C=>{if(C.preventDefault(),h.strength==="Too Short"||h.strength==="Weak"){p("Please choose a stronger password.");return}c(!0),p(null);try{const M=await fetch(`${$e}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),O=await M.json();M.ok&&O.data&&O.data.token?(a(O.data.user,O.data.token),alert("✅ Registration successful!"),t()):p(O.message||"Registration failed. Please try again.")}catch(M){console.error("Registration error:",M),p("Network error. Please check your connection and try again.")}finally{c(!1)}};return o.createElement("div",{style:QC,onClick:t},o.createElement("div",{style:XC,onClick:C=>C.stopPropagation()},o.createElement("button",{onClick:t,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"}},"×"),o.createElement("h2",{style:{fontSize:"26px",marginBottom:"25px",background:"linear-gradient(90deg, #b57aff, #845ec2, #9b5de5)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center",letterSpacing:"1px",fontWeight:"700"}},"✨ CREATE ACCOUNT"),u&&o.createElement("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"6px",marginBottom:"15px",fontSize:"14px",border:"1px solid #f5c6cb"}},u),o.createElement("form",{onSubmit:v},o.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:b,style:Yo,required:!0}),o.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:b,style:Yo,required:!0}),o.createElement("input",{type:"text",name:"username",placeholder:"Username",value:m.username,onChange:b,style:Yo,required:!0}),o.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:b,style:Yo,required:!0}),o.createElement("input",{type:"tel",name:"mobileNumber",placeholder:"Mobile Number (10 digits)",value:m.mobileNumber,onChange:b,style:Yo,required:!0,maxLength:"10",pattern:"[0-9]{10}"}),o.createElement("input",{type:"password",name:"password",placeholder:"Password",value:m.password,onChange:b,style:Yo,required:!0}),m.password&&o.createElement("div",{style:{marginBottom:"15px",fontSize:"14px"}},"Password Strength:"," ",o.createElement("span",{style:{color:h.color,fontWeight:"bold"}},h.strength)),o.createElement("button",{type:"submit",style:ZC(),disabled:!x||s},s?"⏳ Registering...":"✅ Register"))))},tT={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},nT={backgroundColor:"white",padding:"30px",borderRadius:"12px",width:"400px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",position:"relative",fontFamily:"system-ui"},rT=({user:t,onClose:r,logout:a})=>t?o.createElement("div",{style:tT},o.createElement("div",{style:nT},o.createElement("button",{onClick:r,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"}},"×"),o.createElement("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#007bff",textAlign:"center"}},"My Profile"),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Full Name:"),o.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},t.firstName," ",t.lastName)),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Username:"),o.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},t.username)),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Email:"),o.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},t.email)),o.createElement("div",{style:{marginBottom:"30px"}},o.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Phone (Login ID):"),o.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},t.mobileNumber||t.phone||"N/A")),o.createElement("button",{onClick:()=>{a(),r()},style:{width:"100%",padding:"10px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"}},"Logout"))):null;function oT({property:t,onClose:r,onPropertyUpdated:a}){const{user:s,isAuthenticated:c}=Gt(),[u,p]=w.useState([]),[m,g]=w.useState(!1),[h,x]=w.useState(null),[b,v]=w.useState(!0),[C,M]=w.useState(!1),[O,S]=w.useState(0),[I,A]=w.useState({title:t?.title||"",type:t?.type||t?.propertyType||"Apartment",listingType:t?.listingType||"sale",city:t?.city||t?.cityName||"Hyderabad",areaId:t?.area?.areaId||"",address:t?.address||"",imageUrl:t?.imageUrl||"",bedrooms:t?.bedrooms||"",bathrooms:t?.bathrooms||"",balconies:t?.balconies||"",areaSqft:t?.areaSqft||"",price:t?.price||"",amenities:t?.amenities||"",description:t?.description||"",ownerType:t?.ownerType||"owner",isReadyToMove:t?.isReadyToMove||!1,isVerified:t?.isVerified||!1}),U="diw5av4fw",F="ml_default";w.useEffect(()=>{Q()},[]);const Q=async()=>{v(!0);try{const W=await fetch(`${$e}/api/areas?city=Hyderabad`);if(!W.ok)throw new Error(`HTTP ${W.status}`);const _=await W.json();_.success&&Array.isArray(_.data)?(p(_.data),x(null)):x("Invalid response format")}catch(W){x(`Failed to load areas: ${W.message}`),p([])}finally{v(!1)}};if(!c||!s)return o.createElement("div",{style:Te.backdrop,onClick:r},o.createElement("div",{style:Te.modal,onClick:W=>W.stopPropagation()},o.createElement("button",{onClick:r,style:Te.closeBtn},"×"),o.createElement("h2",{style:{color:"#dc3545",textAlign:"center"}},"Please Login First")));const J=W=>{const{name:_,value:fe,type:ge,checked:q}=W.target;A(oe=>({...oe,[_]:ge==="checkbox"?q:fe})),x(null)},Ie=async W=>{const _=W.target.files[0];if(_){if(!_.type.startsWith("image/"))return alert("Please select an image file");if(_.size>10*1024*1024)return alert("File too large (max 10MB)");M(!0),S(10);try{const fe=new FormData;fe.append("file",_),fe.append("upload_preset",F),S(30);const ge=await fetch(`https://api.cloudinary.com/v1_1/${U}/image/upload`,{method:"POST",body:fe});if(S(70),!ge.ok){const oe=await ge.json();throw new Error(`Upload failed: ${oe.error?.message||ge.statusText}`)}const q=await ge.json();S(100),A(oe=>({...oe,imageUrl:q.secure_url})),setTimeout(()=>S(0),2e3)}catch(fe){alert("Upload failed: "+fe.message)}finally{M(!1)}}},Re=async W=>{if(W.preventDefault(),g(!0),x(null),!I.title||!I.areaId||!I.imageUrl||!I.bedrooms||!I.bathrooms||!I.price||!I.description){x("Please fill all required fields marked with *"),g(!1);return}const _=parseFloat(I.price);if(isNaN(_)||_<=0){x("Please enter a valid price"),g(!1);return}let fe;_>=1e7?fe=`₹${(_/1e7).toFixed(2)} Cr`:_>=1e5?fe=`₹${(_/1e5).toFixed(2)} Lac`:fe=`₹${_.toLocaleString("en-IN")}`;const ge=u.find(oe=>oe.areaId.toString()===I.areaId);if(!ge){x("Invalid area selected. Please try again."),g(!1);return}const q={title:I.title,type:I.type,city:I.city,address:I.address||`${ge.areaName}, ${I.city}`,imageUrl:I.imageUrl,description:I.description,price:_,priceDisplay:fe,areaSqft:I.areaSqft?parseFloat(I.areaSqft):null,bedrooms:parseInt(I.bedrooms),bathrooms:parseInt(I.bathrooms),balconies:parseInt(I.balconies||"0"),amenities:I.amenities||null,listingType:I.listingType,status:"available",isFeatured:t?.isFeatured||!1,isActive:!0,ownerType:I.ownerType,isReadyToMove:I.isReadyToMove,isVerified:I.isVerified||!1,area:ge,user:{id:s.id}};console.log("📤 Updating property data:",q);try{const oe=await fetch(`${$e}/api/properties/${t.id||t.propertyId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!oe.ok){const ae=await oe.text();throw new Error("Failed to update property: "+ae)}const X=await oe.json();console.log("✅ Property updated successfully:",X),alert("✅ Property updated successfully!"),a&&a(),r()}catch(oe){console.error("❌ Error updating property:",oe),x(oe.message||"Failed to update property. Please try again.")}finally{g(!1)}};return o.createElement("div",{style:Te.backdrop,onClick:r},o.createElement("div",{style:Te.modal,onClick:W=>W.stopPropagation()},o.createElement("button",{onClick:r,style:Te.closeBtn},"×"),o.createElement("h2",{style:Te.title},"✏️ Edit Your Property"),h&&o.createElement("div",{style:Te.error},"❌ ",h),o.createElement("form",{onSubmit:Re,style:Te.form},o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"Property Title *"),o.createElement("input",{type:"text",name:"title",value:I.title,onChange:J,placeholder:"e.g., Spacious 2BHK Apartment",style:Te.input,required:!0})),o.createElement("div",{style:Te.row},o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"Property Type *"),o.createElement("select",{name:"type",value:I.type,onChange:J,style:Te.select,required:!0},o.createElement("option",null,"Apartment"),o.createElement("option",null,"Villa"),o.createElement("option",null,"House"),o.createElement("option",null,"Plot"),o.createElement("option",null,"Commercial"),o.createElement("option",null,"Penthouse"),o.createElement("option",null,"Studio"),o.createElement("option",null,"Duplex"))),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"Listing Type *"),o.createElement("select",{name:"listingType",value:I.listingType,onChange:J,style:Te.select,required:!0},o.createElement("option",{value:"sale"},"🏠 For Sale"),o.createElement("option",{value:"rent"},"🔑 For Rent")))),o.createElement("div",{style:Te.row},o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"👤 Posted By *"),o.createElement("select",{name:"ownerType",value:I.ownerType,onChange:J,style:Te.select,required:!0},o.createElement("option",{value:"owner"},"Owner"),o.createElement("option",{value:"broker"},"Broker/Agent"))),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.checkboxLabel},o.createElement("input",{type:"checkbox",name:"isReadyToMove",checked:I.isReadyToMove,onChange:J,style:Te.checkbox}),o.createElement("span",{style:Te.checkboxText},"✅ Ready to Move")))),s&&s.role==="ADMIN"&&o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.checkboxLabel},o.createElement("input",{type:"checkbox",name:"isVerified",checked:I.isVerified,onChange:J,style:Te.checkbox}),o.createElement("span",{style:Te.checkboxText},"✅ Verified Property (Admin Only)"))),o.createElement("div",{style:Te.row},o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"City *"),o.createElement("input",{type:"text",name:"city",value:I.city,onChange:J,style:Te.input,required:!0})),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"📍 Area *"," ",b&&o.createElement("span",{style:{color:"#f59e0b"}}," (Loading...)")),o.createElement("select",{name:"areaId",value:I.areaId,onChange:J,style:Te.select,required:!0,disabled:b||u.length===0},o.createElement("option",{value:""},"-- Select Area --"),u.map(W=>o.createElement("option",{key:W.areaId,value:W.areaId},W.areaName," (",W.pincode,")"))))),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"Complete Address (Optional)"),o.createElement("input",{type:"text",name:"address",value:I.address,onChange:J,placeholder:"House/Plot number, Street name",style:Te.input})),o.createElement("div",{style:{...Te.imageSection,border:"2px solid #3b82f6",background:"#f0f9ff"}},o.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#1e40af",fontWeight:"700"}},"📁 Property Image *"),I.imageUrl&&o.createElement("div",{style:{textAlign:"center",marginBottom:"12px"}},o.createElement("img",{src:I.imageUrl,alt:"Current",style:Te.imagePreview})),o.createElement("input",{type:"file",accept:"image/*",onChange:Ie,disabled:C,style:{display:"block",width:"100%",padding:"16px",border:"3px dashed #3b82f6",borderRadius:"8px",backgroundColor:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#1e40af"}}),C&&o.createElement("div",{style:{marginTop:"12px"}},o.createElement("div",{style:{width:"100%",height:"10px",background:"#e0e7ff",borderRadius:"5px"}},o.createElement("div",{style:{width:`${O}%`,height:"100%",background:"#3b82f6",borderRadius:"5px",transition:"width 0.3s"}})),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#3b82f6",fontWeight:"600"}},"Uploading ",O,"%"))),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"Description *"),o.createElement("textarea",{name:"description",value:I.description,onChange:J,placeholder:"Describe your property...",style:{...Te.input,minHeight:"100px",resize:"vertical"},required:!0})),o.createElement("div",{style:Te.row3},o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"🛏️ Bedrooms *"),o.createElement("input",{type:"number",name:"bedrooms",value:I.bedrooms,onChange:J,min:"0",max:"20",style:Te.input,required:!0})),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"🚿 Bathrooms *"),o.createElement("input",{type:"number",name:"bathrooms",value:I.bathrooms,onChange:J,min:"0",max:"20",style:Te.input,required:!0})),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"🏠 Balconies"),o.createElement("input",{type:"number",name:"balconies",value:I.balconies,onChange:J,min:"0",max:"10",style:Te.input}))),o.createElement("div",{style:Te.row},o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"📐 Area (sqft)"),o.createElement("input",{type:"number",name:"areaSqft",value:I.areaSqft,onChange:J,placeholder:"1200",style:Te.input})),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"💰 Expected Price (₹) *"),o.createElement("input",{type:"number",name:"price",value:I.price,onChange:J,placeholder:"5000000",style:Te.input,required:!0}))),o.createElement("div",{style:Te.field},o.createElement("label",{style:Te.label},"✨ Amenities (comma-separated)"),o.createElement("input",{type:"text",name:"amenities",value:I.amenities,onChange:J,placeholder:"Parking, Gym, Swimming Pool",style:Te.input})),o.createElement("div",{style:{display:"flex",gap:"12px"}},o.createElement("button",{type:"button",onClick:r,style:Te.cancelBtn},"Cancel"),o.createElement("button",{type:"submit",disabled:m||C,style:{...Te.submitBtn,opacity:m||C?.6:1,cursor:m||C?"not-allowed":"pointer"}},m?"⏳ Updating...":"✅ Update Property")))))}const Te={backdrop:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{background:"white",padding:"2rem",borderRadius:"16px",width:"750px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},closeBtn:{position:"absolute",top:"15px",right:"15px",background:"#ef4444",color:"white",border:"none",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},title:{textAlign:"center",marginBottom:"1rem",fontSize:"28px",color:"#1e293b",fontWeight:"800"},form:{display:"flex",flexDirection:"column",gap:"1rem"},field:{display:"flex",flexDirection:"column"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},row3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},label:{marginBottom:"6px",fontWeight:"700",fontSize:"14px",color:"#1e293b"},checkboxLabel:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#f0f9ff",borderRadius:"8px",cursor:"pointer",border:"2px solid #bfdbfe"},checkbox:{width:"20px",height:"20px",cursor:"pointer"},checkboxText:{fontSize:"14px",fontWeight:"600",color:"#1e40af"},input:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.3s"},select:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontFamily:"inherit",backgroundColor:"white"},imageSection:{padding:"16px",borderRadius:"12px"},imagePreview:{marginTop:"12px",maxWidth:"100%",maxHeight:"200px",borderRadius:"8px",border:"2px solid #e2e8f0"},error:{background:"#fee2e2",border:"2px solid #fecaca",borderRadius:"8px",padding:"12px",marginBottom:"1rem",textAlign:"center",color:"#dc3545",fontWeight:"600",fontSize:"14px"},submitBtn:{padding:"16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",flex:1,boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},cancelBtn:{padding:"16px",background:"#6b7280",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",flex:1}},aT=({dealId:t,onClose:r,onSuccess:a})=>{const[s,c]=w.useState(null),[u,p]=w.useState(!1),[m,g]=w.useState(null),h=C=>{const M=C.target.files[0];if(M){if(M.size>10*1024*1024){g("File size must be less than 10MB");return}c(M),g(null)}},x=async()=>{if(!s){g("Please select a file");return}p(!0),g(null);try{const C=`https://s3.amazonaws.com/deals/doc_${t}_${Date.now()}.pdf`;(await(await fetch(`${$e}/api/deals/${t}/upload-document`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({docUrl:C})})).json()).success?(alert("✅ Document uploaded successfully"),a(),r()):g("Upload failed")}catch{g("Error uploading document")}finally{p(!1)}},b={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},v={backgroundColor:"white",padding:"30px",borderRadius:"12px",width:"400px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)"};return o.createElement("div",{style:b,onClick:r},o.createElement("div",{style:v,onClick:C=>C.stopPropagation()},o.createElement("h2",{style:{marginTop:0}},"📄 Upload Document"),m&&o.createElement("div",{style:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"12px",borderRadius:"6px",marginBottom:"15px"}},m),o.createElement("div",{style:{padding:"30px",border:"2px dashed #3b82f6",borderRadius:"8px",textAlign:"center",cursor:"pointer",backgroundColor:"#f0f9ff",marginBottom:"15px"}},o.createElement("input",{type:"file",onChange:h,accept:".pdf,.doc,.docx",style:{display:"none"},id:"fileInput"}),o.createElement("label",{htmlFor:"fileInput",style:{cursor:"pointer"}},o.createElement("div",{style:{fontSize:"32px",marginBottom:"8px"}},"📁"),o.createElement("div",{style:{fontWeight:"600",color:"#1e40af"}},s?s.name:"Click to upload document"),o.createElement("div",{style:{fontSize:"12px",color:"#64748b"}},"PDF, DOC, DOCX (Max 10MB)"))),o.createElement("div",{style:{display:"flex",gap:"12px"}},o.createElement("button",{onClick:r,style:{flex:1,padding:"10px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600"}},"Cancel"),o.createElement("button",{onClick:x,disabled:!s||u,style:{flex:1,padding:"10px",backgroundColor:u?"#ccc":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer",fontWeight:"600"}},u?"⏳ Uploading...":"✅ Upload"))))},iT=({deal:t,onStageChange:r,isEditable:a=!1})=>{const s=[{stage:"INQUIRY",label:"🔍 Inquiry",order:1},{stage:"SHORTLIST",label:"⭐ Shortlist",order:2},{stage:"NEGOTIATION",label:"💬 Negotiation",order:3},{stage:"AGREEMENT",label:"✅ Agreement",order:4},{stage:"REGISTRATION",label:"📋 Registration",order:5},{stage:"PAYMENT",label:"💰 Payment",order:6},{stage:"COMPLETED",label:"🎉 Completed",order:7}],[c,u]=w.useState(!1),[p,m]=w.useState(""),[g,h]=w.useState(!1),x=()=>s.findIndex(Q=>Q.stage===t.stage||Q.stage===t.currentStage),b=()=>(x()+1)/s.length*100,v=x(),C=async Q=>{if(a){h(!0);try{const J=await fetch(`${$e}/api/deals/${t.id||t.dealId}/stage`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({stage:Q,notes:p})});if(J.ok){const Ie=await J.json();r&&r(Q,Ie),u(!1),m(""),alert("✅ Deal stage updated")}else alert("❌ Failed to update stage")}catch(J){console.error("Error updating stage:",J),alert("❌ Error updating deal")}finally{h(!1)}}},M={padding:"24px",backgroundColor:"#f8fafc",borderRadius:"12px",marginBottom:"24px",border:"1px solid #e2e8f0"},O={display:"flex",justifyContent:"space-between",marginBottom:"24px",position:"relative"},S={position:"absolute",top:"20px",left:"0",right:"0",height:"3px",backgroundColor:"#e2e8f0",zIndex:0},I={position:"absolute",top:"20px",left:"0",height:"3px",backgroundColor:"#10b981",transition:"width 0.3s ease",width:`${b()}%`,zIndex:0},A={display:"flex",flexDirection:"column",alignItems:"center",flex:1,zIndex:1,position:"relative"},U=Q=>({width:"44px",height:"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px",fontWeight:"700",fontSize:"16px",backgroundColor:Q<=v?"#10b981":"#e2e8f0",color:Q<=v?"white":"#64748b",transition:"all 0.3s ease",border:Q===v?"3px solid #059669":"none",boxShadow:Q===v?"0 0 12px rgba(16, 185, 129, 0.4)":"none",cursor:a?"pointer":"default"}),F={fontSize:"11px",fontWeight:"600",color:"#475569",textAlign:"center",maxWidth:"70px"};return o.createElement("div",{style:M},o.createElement("h3",{style:{marginTop:0,marginBottom:"16px",color:"#1e293b",fontSize:"16px"}},"📊 Deal Progress: ",s[v]?.label),o.createElement("div",{style:O},o.createElement("div",{style:S}),o.createElement("div",{style:I}),s.map((Q,J)=>o.createElement("div",{key:Q.stage,style:A,onClick:()=>a&&C(Q.stage),title:a?"Click to move to this stage":""},o.createElement("div",{style:U(J)},J+1),o.createElement("div",{style:F},Q.label)))),a&&o.createElement("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"}},o.createElement("button",{onClick:()=>u(!c),style:{padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},disabled:g},c?"✕ Close":"✏️ Change Stage"),c&&o.createElement("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"8px"}},o.createElement("textarea",{value:p,onChange:Q=>m(Q.target.value),placeholder:"Add notes about this stage change...",style:{width:"100%",padding:"8px",border:"1px solid #e2e8f0",borderRadius:"6px",minHeight:"60px",boxSizing:"border-box"}}),s.map(Q=>o.createElement("button",{key:Q.stage,onClick:()=>C(Q.stage),disabled:g,style:{padding:"10px 16px",backgroundColor:Q.stage===t.stage?"#e0f2fe":"white",color:Q.stage===t.stage?"#0369a1":"#475569",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"}},Q.label," ",Q.stage===t.stage&&"✓")))))},aa=({deal:t,onClose:r,onUpdate:a,userRole:s,showOnlyOverview:c=!1})=>{const[u,p]=w.useState(t||{}),[m,g]=w.useState("overview"),[h,x]=w.useState(!1),[b,v]=w.useState(!1),[C,M]=w.useState(""),[O,S]=w.useState(new Date().toISOString().substring(0,10)),[I,A]=w.useState(()=>t?.currentStage||t?.stage||"INQUIRY"),U=w.useRef(null),F=Tn(),Q=u.id||u.dealId,J=u.currentStage||u.stage||"INQUIRY",Ie=s==="AGENT"||s==="ADMIN",Re=Ie?["overview","timeline","actions"]:["overview"];w.useEffect(()=>{t&&t.dealId?(async()=>{try{const P=await fetch(`${$e}/api/deals/my-deals?userRole=${s}&userId=${t.agentId||t.buyerId||t.sellerId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),K=await P.json();if(P.ok&&K.data){const ue=K.data.find(he=>he.dealId===t.dealId);ue?(p(ue),console.log("✅ Fetched full deal with timeline dates:",ue),console.log("Stage dates:",{inquiryDate:ue.inquiryDate,shortlistDate:ue.shortlistDate,agreementDate:ue.agreementDate})):p(t||{})}else p(t||{})}catch(P){console.warn("Error fetching full deal:",P),p(t||{})}})():p(t||{}),A(t?.currentStage||t?.stage||"INQUIRY"),M(""),S(new Date().toISOString().substring(0,10))},[t,s]);const _=((E={})=>{const P=[{key:"inquiryDate",stage:"INQUIRY",label:"🔍 INQUIRY"},{key:"shortlistDate",stage:"SHORTLIST",label:"⭐ SHORTLIST"},{key:"negotiationDate",stage:"NEGOTIATION",label:"💬 NEGOTIATION"},{key:"agreementDate",stage:"AGREEMENT",label:"✅ AGREEMENT"},{key:"registrationDate",stage:"REGISTRATION",label:"📋 REGISTRATION"},{key:"paymentDate",stage:"PAYMENT",label:"💰 PAYMENT"},{key:"completedDate",stage:"COMPLETED",label:"🎉 COMPLETED"}];let K=[];return P.forEach(ue=>{const he=E[ue.key];he&&K.push({stage:ue.stage,label:ue.label,date:he,formattedDate:new Date(he).toLocaleString()})}),K.sort((ue,he)=>new Date(ue.date)-new Date(he.date)),console.log("=== TIMELINE DEBUG ==="),console.log("Deal object:",E),console.log("Timeline data:",K),console.log("Timeline length:",K.length),K})(u),fe=(E=!0)=>{setTimeout(()=>{U.current&&U.current.scrollIntoView({behavior:E?"smooth":"auto"})},150)},ge=E=>{p(E),z,typeof a=="function"&&a(E)},q=async()=>{if(!O||!C.trim()){alert("❌ Please provide both the Date of Visit/Update and a Matter of Visit/Note.");return}v(!0);try{const E=await fetch(`${$e}/api/deals/${Q}/stage`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({stage:I,notes:C,date:O})}),P=await E.json();E.ok&&P.data?(ge(P.data),M(""),S(new Date().toISOString().substring(0,10)),g("timeline"),fe()):alert("❌ Error: "+(P.message||"Failed to update deal"))}catch(E){alert("Error updating deal: "+E.message)}finally{v(!1)}},oe=async()=>{try{const E=await fetch(`${$e}/api/deals/${Q}/seller-confirm`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({notes:"Seller confirmed - Documents received"})}),P=await E.json();E.ok&&P.data?(ge(P.data),g("timeline"),fe()):alert("❌ Error: "+(P.message||"Failed to confirm deal"))}catch(E){alert("Error confirming deal: "+E.message)}},X=async()=>{try{const E=await fetch(`${$e}/api/deals/${Q}/complete-payment`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),P=await E.json();E.ok&&P.data?(ge(P.data),g("timeline"),fe()):alert("❌ Error: "+(P.message||"Failed to complete payment"))}catch(E){alert("Error completing payment: "+E.message)}},ae=E=>{const P=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT","COMPLETED"],K=Math.max(0,P.indexOf(E));return P.slice(K)},Z=E=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[E]||"#6b7280",T=E=>E?typeof E=="number"?E.toLocaleString("en-IN"):String(E):"TBD",j=()=>{F(`/property/${u.propertyId||u.property?.id}`),r()};return u?o.createElement("div",{style:ie.backdrop,onClick:r},o.createElement("div",{style:ie.modal,onClick:E=>E.stopPropagation()},o.createElement("button",{style:ie.closeBtn,onClick:r},"×"),o.createElement("div",{style:ie.header},o.createElement("h2",{style:ie.title},u.propertyTitle||u.property?.title||"Deal Details"),o.createElement("div",{style:{...ie.stageBadge,backgroundColor:Z(J)}},J)),o.createElement("div",{style:ie.tabContainer},Re.includes("overview")&&o.createElement("button",{onClick:()=>g("overview"),style:{...ie.tab,...m==="overview"?ie.activeTab:{}}},"📋 Overview"),Re.includes("timeline")&&o.createElement("button",{onClick:()=>{g("timeline"),fe()},style:{...ie.tab,...m==="timeline"?ie.activeTab:{}}},"📅 Timeline"),Re.includes("actions")&&o.createElement("button",{onClick:()=>g("actions"),style:{...ie.tab,...m==="actions"?ie.activeTab:{}}},"⚙️ Actions")),o.createElement("div",{style:ie.content},m==="overview"&&o.createElement("div",null,o.createElement(iT,{deal:u,isEditable:Ie,onStageChange:a}),o.createElement("div",{style:ie.gridContainer},o.createElement("div",{style:ie.section},o.createElement("h3",{style:ie.sectionTitle},"🏠 Property"),o.createElement("div",{style:ie.infoBox},o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Title"),o.createElement("span",{style:ie.value},u.propertyTitle||u.property?.title||"Property")),u.propertyPrice&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Listing Price"),o.createElement("span",{style:ie.value},"₹",T(u.propertyPrice))),u.agreedPrice&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Agreed Price"),o.createElement("span",{style:ie.value},"₹",T(u.agreedPrice))),u.propertyCity&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Location"),o.createElement("span",{style:ie.value},u.propertyCity)))),o.createElement("div",{style:ie.section},o.createElement("h3",{style:ie.sectionTitle},"👤 Buyer"),o.createElement("div",{style:ie.infoBox},o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Name"),o.createElement("span",{style:ie.value},u.buyerName||"N/A")),u.buyerEmail&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Email"),o.createElement("span",{style:ie.value},u.buyerEmail)),u.buyerMobile&&Ie&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Phone"),o.createElement("span",{style:ie.value},u.buyerMobile)))),o.createElement("div",{style:ie.section},o.createElement("h3",{style:ie.sectionTitle},"🏢 Seller"),o.createElement("div",{style:ie.infoBox},o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Name"),o.createElement("span",{style:ie.value},u.sellerName||"N/A")),u.sellerEmail&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Email"),o.createElement("span",{style:ie.value},u.sellerEmail)),u.sellerMobile&&Ie&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Phone"),o.createElement("span",{style:ie.value},u.sellerMobile)))),o.createElement("div",{style:ie.section},o.createElement("h3",{style:ie.sectionTitle},"📊 Agent"),o.createElement("div",{style:ie.infoBox},o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Name"),o.createElement("span",{style:ie.value},u.agentName||"Not Assigned")),u.agentEmail&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Email"),o.createElement("span",{style:ie.value},u.agentEmail)),u.agentMobile&&Ie&&o.createElement("div",{style:ie.infoRow},o.createElement("span",{style:ie.label},"Phone"),o.createElement("span",{style:ie.value},u.agentMobile)))),u.notes&&o.createElement("div",{style:{...ie.section,gridColumn:"1 / -1"}},o.createElement("h3",{style:ie.sectionTitle},"📝 Notes"),o.createElement("div",{style:ie.notesBox},u.notes)),o.createElement("div",{style:{...ie.section,gridColumn:"1 / -1"}},o.createElement("h3",{style:ie.sectionTitle},"📅 Important Dates"),o.createElement("div",{style:ie.datesGrid},o.createElement("div",{style:ie.dateItem},o.createElement("span",{style:ie.label},"Created"),o.createElement("span",{style:ie.value},u.createdAt?new Date(u.createdAt).toLocaleDateString():"N/A")),o.createElement("div",{style:ie.dateItem},o.createElement("span",{style:ie.label},"Last Updated"),o.createElement("span",{style:ie.value},u.updatedAt?new Date(u.updatedAt).toLocaleDateString():"N/A")))))),m==="timeline"&&Re.includes("timeline")&&o.createElement("div",null,_.length>0?o.createElement("div",{style:ie.timelineContainer},_.map((E,P)=>o.createElement("div",{key:E.stage,style:ie.timelineEntry},o.createElement("div",{style:ie.timelinePin}),o.createElement("div",{style:ie.timelineStage},E.label),o.createElement("div",{style:ie.timelineDate},E.formattedDate))),o.createElement("div",{ref:U})):o.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#64748b"}},"📅 No timeline events yet. Update the deal stage to start tracking.")),m==="actions"&&Re.includes("actions")&&o.createElement("div",null,J==="REGISTRATION"&&!u.sellerConfirmed&&o.createElement("div",{style:ie.successAlert},"🎉 Registration Completed! Please confirm with seller."),(J==="COMPLETED"||J==="PAYMENT"&&u.paymentCompleted)&&o.createElement("div",{style:ie.warningAlert},"🎉 Deal Completed Successfully! Congratulations!"),s==="AGENT"&&J!=="COMPLETED"&&o.createElement("div",{style:ie.actionCard},o.createElement("h3",{style:ie.actionTitle},"📋 Update Deal Stage"),o.createElement("div",{style:ie.formGroup},o.createElement("label",{style:ie.label},"Next Stage:"),o.createElement("select",{value:I,onChange:E=>A(E.target.value),style:ie.input},ae(J).map(E=>o.createElement("option",{key:E,value:E},E)))),o.createElement("div",{style:ie.formGroup},o.createElement("label",{style:ie.label},"Date of Visit/Update:"),o.createElement("input",{type:"date",value:O,onChange:E=>S(E.target.value),style:ie.input})),o.createElement("div",{style:ie.formGroup},o.createElement("label",{style:ie.label},"Matter/Notes:"),o.createElement("textarea",{value:C,onChange:E=>M(E.target.value),style:{...ie.input,minHeight:"100px",resize:"vertical"}})),o.createElement("button",{onClick:q,disabled:b,style:ie.primaryBtn},b?"⏳ Updating...":"✓ Update Stage")),J==="REGISTRATION"&&!u.sellerConfirmed&&s==="SELLER"&&o.createElement("button",{onClick:oe,style:ie.successBtn},"✓ Confirm Registration"),J==="PAYMENT"&&!u.paymentCompleted&&s==="AGENT"&&o.createElement("button",{onClick:X,style:ie.warningBtn},"💰 Complete Payment"),o.createElement("div",{style:ie.actionCard},o.createElement("button",{onClick:()=>x(!0),style:ie.secondaryBtn},"📄 Upload/View Documents")))),o.createElement("div",{style:ie.footer},o.createElement("button",{onClick:j,style:ie.viewPropertyBtn,onMouseEnter:E=>E.target.style.backgroundColor="#059669",onMouseLeave:E=>E.target.style.backgroundColor="#10b981"},"🏠 View Property"),o.createElement("button",{onClick:r,style:ie.closeBottomBtn,onMouseEnter:E=>E.target.style.backgroundColor="#4b5563",onMouseLeave:E=>E.target.style.backgroundColor="#6b7280"},"Close"))),h&&o.createElement(aT,{deal:u,onClose:()=>x(!1)})):null},ie={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10001,overflowY:"auto",padding:"20px"},modal:{backgroundColor:"white",borderRadius:"16px",width:"100%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px rgba(0,0,0,0.3)",padding:"32px"},closeBtn:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",padding:0,width:"40px",height:"40px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"},title:{fontSize:"28px",fontWeight:"800",color:"#1e293b",margin:0},stageBadge:{padding:"8px 16px",borderRadius:"20px",color:"white",fontWeight:"600",fontSize:"14px"},tabContainer:{display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e5e7eb",paddingBottom:"12px"},tab:{padding:"10px 20px",background:"#f8fafc",color:"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},activeTab:{backgroundColor:"#3b82f6",color:"white"},content:{marginBottom:"24px"},gridContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},section:{padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},sectionTitle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},infoBox:{display:"flex",flexDirection:"column",gap:"12px"},infoRow:{display:"flex",flexDirection:"column",gap:"4px"},label:{fontSize:"12px",fontWeight:"600",color:"#64748b"},value:{fontSize:"14px",fontWeight:"600",color:"#1e293b"},notesBox:{padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",color:"#475569",lineHeight:"1.6"},datesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},dateItem:{padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0"},timelineContainer:{borderLeft:"3px solid #e2e8f0",paddingLeft:"20px",marginTop:"16px",marginBottom:"16px",maxHeight:"400px",overflowY:"auto"},timelineEntry:{marginBottom:"15px",position:"relative",paddingBottom:"5px",padding:"8px",borderRadius:"8px"},timelinePin:{position:"absolute",left:"-28px",top:"12px",height:"12px",width:"12px",backgroundColor:"#3b82f6",borderRadius:"50%",border:"2px solid white"},timelineStage:{fontWeight:"700",color:"#1f2937",fontSize:"15px"},timelineDate:{fontSize:"12px",color:"#64748b",marginTop:"4px"},actionCard:{padding:"20px",backgroundColor:"#f1f5f9",borderRadius:"8px",marginBottom:"16px"},actionTitle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},formGroup:{marginBottom:"12px"},input:{width:"100%",padding:"8px 12px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",marginTop:"4px",boxSizing:"border-box"},successAlert:{padding:"20px",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #bbf7d0",textAlign:"center",fontWeight:"600",color:"#059669",marginBottom:"16px"},warningAlert:{padding:"20px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fde68a",textAlign:"center",fontWeight:"600",color:"#b45309",marginBottom:"16px"},primaryBtn:{padding:"10px 18px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer"},successBtn:{padding:"10px 18px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",marginBottom:"16px"},warningBtn:{padding:"10px 18px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",marginBottom:"16px"},secondaryBtn:{width:"100%",padding:"10px 18px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer"},footer:{display:"flex",gap:"12px",borderTop:"1px solid #e2e8f0",paddingTop:"20px"},viewPropertyBtn:{flex:1,padding:"12px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},closeBottomBtn:{flex:1,padding:"12px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"}},sT=()=>{const{user:t}=Gt(),[r,a]=w.useState({}),[s,c]=w.useState([]),[u,p]=w.useState(null),[m,g]=w.useState(!0),[h,x]=w.useState("all"),[b,v]=w.useState(null);w.useEffect(()=>{t?.id&&C()},[t?.id]);const C=async()=>{try{v(null);const P={Authorization:`Bearer ${localStorage.getItem("authToken")}`};console.log("🔍 Fetching admin deals for user:",t?.id);const K=[],ue={};console.log("📊 Fetching admin dashboard data...");const he=await fetch(`${$e}/api/deals/admin/dashboard?userId=${t.id}`,{headers:P});if(he.ok){const Le=await he.json();if(console.log("✅ Admin dashboard response:",Le),Le.success&&Le.data?.agentPerformance){console.log(`Found ${Le.data.agentPerformance.length} agents`);for(const Ee of Le.data.agentPerformance){console.log(`📥 Fetching deals for agent: ${Ee.agentName} (ID: ${Ee.agentId})`);const Ye=await fetch(`${$e}/api/deals/admin/agent/${Ee.agentId}?userId=${t.id}`,{headers:P});if(Ye.ok){const Ue=await Ye.json();console.log(`Response for ${Ee.agentName}:`,Ue);let Ke=[];if(Array.isArray(Ue)?Ke=Ue:(Ue.data&&Array.isArray(Ue.data)||Ue.success&&Array.isArray(Ue.data))&&(Ke=Ue.data),console.log(`✅ Got ${Ke.length} deals for agent ${Ee.agentName}`),Ke.length>0){const ye=`${Ee.agentId}-${Ee.agentName}`;ue[ye]={agentId:Ee.agentId,agentName:Ee.agentName,agentEmail:Ee.agentEmail,agentMobile:Ee.agentMobile,totalDeals:Ee.totalDeals,completedDeals:Ee.completedDeals,deals:Ke},K.push(...Ke)}}else console.warn(`⚠️ Failed to fetch deals for agent ${Ee.agentName}`)}}}else console.error("❌ Failed to fetch admin dashboard:",he.status),v(`Failed to load admin dashboard (${he.status})`);console.log(`✅ Total deals loaded: ${K.length}`),console.log("Deals by agent:",ue),c(K),a(ue)}catch(P){console.error("❌ Error fetching deals:",P),v(`Error loading deals: ${P.message}`)}finally{g(!1)}},M=()=>{const P={};return Object.keys(r).forEach(K=>{const ue=r[K];let he=ue.deals;h!=="all"&&(he=he.filter(Le=>Le.stage===h)),he.length>0&&(P[K]={...ue,deals:he})}),P},O={maxWidth:"1600px",margin:"0 auto",padding:"24px",marginTop:"160px"},S={fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},I={fontSize:"16px",color:"#64748b",marginBottom:"24px"},A={display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"12px",overflowX:"auto"},U=P=>({padding:"10px 20px",backgroundColor:P?"#3b82f6":"#f8fafc",color:P?"white":"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap"}),F={backgroundColor:"#f9fafb",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"2px solid #e2e8f0"},Q={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #e2e8f0"},J={fontSize:"22px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},Ie={display:"flex",gap:"16px",flexWrap:"wrap",fontSize:"13px",color:"#64748b"},Re={display:"flex",gap:"12px"},W={backgroundColor:"white",padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",textAlign:"center"},_={fontSize:"11px",color:"#64748b",fontWeight:"600",marginBottom:"4px"},fe={fontSize:"18px",fontWeight:"700",color:"#3b82f6"},ge={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},q={padding:"16px",backgroundColor:"#f3f4f6",borderRadius:"12px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.08), 0 0 12px rgba(59, 130, 246, 0.1)",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)"},oe={display:"inline-block",padding:"4px 8px",backgroundColor:"#f59e0b",color:"white",borderRadius:"4px",fontSize:"11px",fontWeight:"600",marginBottom:"8px",boxShadow:"0 2px 4px rgba(245, 158, 11, 0.3)"},X={margin:"0 0 12px 0",color:"#1e293b",fontWeight:"600",fontSize:"14px"},ae={width:"100%",padding:"8px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"12px"};if(m)return o.createElement("div",{style:O},o.createElement("h2",null,"⏳ Loading deals..."));if(!t)return o.createElement("div",{style:O},o.createElement("h2",null,"❌ Please log in to view deals"));const Z=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT"],T={};Z.forEach(P=>{T[P]=s.filter(K=>K.stage===P).length});const j=M(),E=Object.keys(r).length;return o.createElement("div",{style:O},o.createElement("h1",{style:S},"⚙️ Admin Dashboard - Deal Management"),o.createElement("p",{style:I},E," Agent",E!==1?"s":""," • ",s.length," ","Total Deals"),b&&o.createElement("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",border:"1px solid #fecaca"}},"❌ ",b),o.createElement("div",{style:A},o.createElement("button",{style:U(h==="all"),onClick:()=>x("all")},"All Deals (",s.length,")"),Z.map(P=>o.createElement("button",{key:P,style:U(h===P),onClick:()=>x(P)},P," (",T[P],")"))),Object.keys(j).length===0?o.createElement("div",{style:{textAlign:"center",padding:"60px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"12px"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},"🔍"),o.createElement("p",{style:{margin:0,fontSize:"16px",fontWeight:"600"}},"No deals found")):o.createElement("div",null,Object.entries(j).map(([P,K])=>o.createElement("div",{key:P,style:F},o.createElement("div",{style:Q},o.createElement("div",null,o.createElement("h2",{style:J},"📊 ",K.agentName),o.createElement("div",{style:Ie},o.createElement("span",null,o.createElement("strong",null,"🆔 ID:")," ",K.agentId),o.createElement("span",null,o.createElement("strong",null,"📧 Email:")," ",K.agentEmail||"N/A"),o.createElement("span",null,o.createElement("strong",null,"📞 Phone:")," ",K.agentMobile||"N/A"))),o.createElement("div",{style:Re},o.createElement("div",{style:W},o.createElement("div",{style:_},"Total Deals"),o.createElement("div",{style:fe},K.totalDeals)),o.createElement("div",{style:W},o.createElement("div",{style:_},"Completed"),o.createElement("div",{style:fe},K.completedDeals)),o.createElement("div",{style:W},o.createElement("div",{style:_},"Filtered"),o.createElement("div",{style:fe},K.deals.length)))),o.createElement("div",{style:ge},K.deals.map(ue=>{const he=ue.buyer,Le=ue.property?.user;return o.createElement("div",{key:ue.id,style:q,onClick:()=>p(ue),onMouseEnter:Ee=>{Ee.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",Ee.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:Ee=>{Ee.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",Ee.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:oe},ue.stage),o.createElement("h4",{style:X},"🏠 ",ue.propertyTitle||ue.property?.title),ue.agreedPrice&&o.createElement("div",{style:{padding:"8px",backgroundColor:"#dcfce7",borderRadius:"6px",marginBottom:"10px",fontSize:"14px",fontWeight:"700",color:"#065f46"}},"💰 ₹",ue.agreedPrice.toLocaleString("en-IN")),he&&o.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}},"👤 Buyer: ",he?.firstName," ",he?.lastName),he?.mobileNumber&&o.createElement("div",{style:{color:"#64748b",fontSize:"11px"}},"📞 ",he.mobileNumber)),Le&&o.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}},"🏢 Seller: ",Le.firstName," ",Le.lastName),Le.mobileNumber&&o.createElement("div",{style:{color:"#64748b",fontSize:"11px"}},"📞 ",Le.mobileNumber)),o.createElement("p",{style:{margin:"8px 0 12px 0",fontSize:"11px",color:"#64748b"}},"📅 ",new Date(ue.createdAt).toLocaleDateString()),o.createElement("button",{style:ae,onClick:Ee=>{Ee.stopPropagation(),p(ue)}},"View & Manage Deal"))}))))),u&&o.createElement(aa,{deal:u,onClose:()=>p(null),onUpdate:()=>{p(null),C()},userRole:"ADMIN"}))},lT=()=>{const{user:t}=Gt(),r=Tn(),[a,s]=w.useState([]),[c,u]=w.useState([]),[p,m]=w.useState(!0),[g,h]=w.useState(""),[x,b]=w.useState("all"),[v,C]=w.useState(null),[M,O]=w.useState([]),[S,I]=w.useState(!1),[A,U]=w.useState(null),[F,Q]=w.useState(!1),[J,Ie]=w.useState(null);w.useEffect(()=>{if(t?.role!=="ADMIN"){r("/");return}Re()},[t,r]);const Re=async()=>{m(!0);try{const T=await fetch(`${$e}/api/users`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(T.ok){const j=await T.json(),E=j.success?j.data||[]:Array.isArray(j)?j:[];s(E),_(E,g,x)}}catch(T){console.error("Error fetching users:",T)}finally{m(!1)}},W=async T=>{I(!0);try{let j=[];if(T.role==="AGENT"){console.log("Fetching agent deals for agent ID:",T.id);const E=await fetch(`${$e}/api/deals/admin/agent/${T.id}?userId=${t.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("Agent deals response status:",E.status),E.ok){const P=await E.json();console.log("Agent deals response:",P);const K=P.success?P.data||[]:Array.isArray(P)?P:[];j=[...j,...K]}else console.warn("Agent deals response not ok:",E.status)}else if(T.role==="USER"){console.log("Fetching buyer deals for user ID:",T.id);const E=await fetch(`${$e}/api/deals/user/${T.id}/role/BUYER`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("Buyer deals response status:",E.status),E.ok){const P=await E.json();console.log("Buyer deals response:",P);const K=P.success?P.data||[]:Array.isArray(P)?P:[];j=[...j,...K]}else console.warn("Buyer deals response not ok:",E.status)}console.log("Total deals loaded for user:",j.length),O(j)}catch(j){console.error("Error fetching user deals:",j),O([])}finally{I(!1)}},_=(T,j,E)=>{let P=T;E!=="all"&&(P=P.filter(K=>K.role===E)),j&&(P=P.filter(K=>K.firstName?.toLowerCase().includes(j.toLowerCase())||K.lastName?.toLowerCase().includes(j.toLowerCase())||K.email?.toLowerCase().includes(j.toLowerCase())||K.mobileNumber?.includes(j))),u(P)},fe=T=>{h(T),_(a,T,x)},ge=T=>{b(T),_(a,g,T)},q=T=>{C(T),W(T)},oe=T=>{U({...T}),Q(!0)},X=async()=>{try{const T=await fetch(`${$e}/api/users/${A.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(A)});if(T.ok){const E=(await T.json()).data||A;s(a.map(P=>P.id===A.id?E:P)),_(a.map(P=>P.id===A.id?E:P),g,x),C(E),Q(!1),U(null),alert("User updated successfully!")}else alert("Failed to update user")}catch(T){console.error("Error updating user:",T),alert("Error updating user")}},ae=async T=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`${$e}/api/users/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok?(s(a.filter(E=>E.id!==T)),_(a.filter(E=>E.id!==T),g,x),C(null),O([]),alert("User deleted successfully!")):alert("Failed to delete user")}catch(j){console.error("Error deleting user:",j),alert("Error deleting user")}},Z=T=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[T]||"#6b7280";return p?o.createElement("div",{style:ee.container},o.createElement("div",{style:ee.loading},"⏳ Loading users...")):o.createElement("div",{style:ee.container},o.createElement("div",{style:ee.header},o.createElement("h1",{style:ee.title},"👨‍💼 User Management"),o.createElement("p",{style:ee.subtitle},"Manage all users - view, edit, and modify user details")),o.createElement("div",{style:ee.controlsSection},o.createElement("div",{style:ee.searchBox},o.createElement("input",{type:"text",placeholder:"Search by name, email, or phone...",value:g,onChange:T=>fe(T.target.value),style:ee.searchInput})),o.createElement("div",{style:ee.filterButtons},o.createElement("button",{onClick:()=>ge("all"),style:{...ee.filterBtn,...x==="all"?ee.activeFilter:{}}},"All Users (",a.length,")"),o.createElement("button",{onClick:()=>ge("USER"),style:{...ee.filterBtn,...x==="USER"?ee.activeFilter:{}}},"Buyers/Sellers (",a.filter(T=>T.role==="USER").length,")"),o.createElement("button",{onClick:()=>ge("AGENT"),style:{...ee.filterBtn,...x==="AGENT"?ee.activeFilter:{}}},"Agents (",a.filter(T=>T.role==="AGENT").length,")"),o.createElement("button",{onClick:()=>ge("ADMIN"),style:{...ee.filterBtn,...x==="ADMIN"?ee.activeFilter:{}}},"Admins (",a.filter(T=>T.role==="ADMIN").length,")"))),o.createElement("div",{style:ee.mainContent},o.createElement("div",{style:ee.usersList},o.createElement("div",{style:ee.usersHeader},o.createElement("h3",null,"Users (",c.length,")")),c.length===0?o.createElement("div",{style:ee.emptyState},o.createElement("p",null,"🔍 No users found")):o.createElement("div",{style:ee.usersGrid},c.map(T=>o.createElement("div",{key:T.id,style:{...ee.userCard,backgroundColor:v?.id===T.id?"#dbeafe":"white",borderColor:v?.id===T.id?"#3b82f6":"#e2e8f0",cursor:"pointer"},onClick:()=>q(T)},o.createElement("div",{style:ee.userCardHeader},o.createElement("div",null,o.createElement("h4",{style:ee.userName},T.firstName," ",T.lastName),o.createElement("p",{style:ee.userEmail},T.email)),o.createElement("span",{style:{...ee.roleBadge,backgroundColor:Nh(T.role)}},T.role)),o.createElement("div",{style:ee.userInfo},o.createElement("p",null,"📱 ",T.mobileNumber||"N/A"),o.createElement("p",null,"📅 ",new Date(T.createdAt).toLocaleDateString())))))),o.createElement("div",{style:ee.userDetails},v?o.createElement(o.Fragment,null,o.createElement("div",{style:ee.detailsCard},o.createElement("h2",{style:ee.detailsTitle},"User Details"),o.createElement("div",{style:ee.detailsGrid},o.createElement("div",null,o.createElement("p",{style:ee.label},"First Name"),o.createElement("p",{style:ee.value},v.firstName)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Last Name"),o.createElement("p",{style:ee.value},v.lastName)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Email"),o.createElement("p",{style:ee.value},v.email)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Phone"),o.createElement("p",{style:ee.value},v.mobileNumber||"N/A")),o.createElement("div",null,o.createElement("p",{style:ee.label},"Role"),o.createElement("span",{style:{...ee.roleBadge,backgroundColor:Nh(v.role)}},v.role)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Member Since"),o.createElement("p",{style:ee.value},new Date(v.createdAt).toLocaleDateString()))),v.address&&o.createElement("div",{style:ee.addressSection},o.createElement("p",{style:ee.label},"Address"),o.createElement("p",{style:ee.value},v.address)),o.createElement("div",{style:ee.actionButtons},o.createElement("button",{onClick:()=>oe(v),style:ee.editBtn},"✏️ Edit User"),o.createElement("button",{onClick:()=>ae(v.id),style:ee.deleteBtn},"🗑️ Delete User"))),o.createElement("div",{style:ee.dealsSection},o.createElement("h3",{style:ee.dealsTitle},"Deals (",M.length,")"),S?o.createElement("div",{style:ee.loading},"⏳ Loading deals..."):M.length===0?o.createElement("div",{style:ee.emptyDeals},o.createElement("p",null,"No deals for this user")):o.createElement("div",{style:ee.dealsGrid},M.map(T=>o.createElement("div",{key:T.id||T.dealId,style:ee.dealCard,onClick:()=>Ie(T),onMouseEnter:j=>{j.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",j.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:j=>{j.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)",j.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{...ee.dealStageBadge,backgroundColor:Z(T.stage||T.currentStage)}},T.stage||T.currentStage),o.createElement("h4",{style:ee.dealTitle},T.property?.title||T.propertyTitle),T.property?.city&&o.createElement("p",{style:ee.dealMeta},"📍 ",T.property.city),T.seller&&o.createElement("p",{style:ee.dealMeta},"🏠 Seller: ",T.seller.firstName," ",T.seller.lastName),T.agreedPrice&&o.createElement("p",{style:ee.dealPrice},"💰 ₹",T.agreedPrice.toLocaleString("en-IN")),o.createElement("p",{style:ee.dealDate},"📅 ",new Date(T.createdAt).toLocaleDateString()),o.createElement("button",{onClick:j=>{j.stopPropagation(),Ie(T)},style:ee.viewDealDetailsBtn},"View Deal Details")))))):o.createElement("div",{style:ee.emptyDetails},o.createElement("p",null,"👈 Select a user to view details and deals")))),J&&o.createElement("div",{style:ee.modal},o.createElement("div",{style:ee.modalContent},o.createElement("div",{style:ee.modalHeader},o.createElement("h3",null,"Deal Details"),o.createElement("button",{onClick:()=>Ie(null),style:ee.closeBtn},"✕")),o.createElement("div",{style:ee.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:ee.label},"Deal Stage"),o.createElement("div",{style:{display:"inline-block",padding:"6px 12px",backgroundColor:Z(J.stage||J.currentStage),color:"white",borderRadius:"6px",fontWeight:"600",fontSize:"13px"}},J.stage||J.currentStage)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Created Date"),o.createElement("p",{style:ee.value},new Date(J.createdAt).toLocaleDateString()))),o.createElement("div",{style:ee.sectionDivider},o.createElement("h4",{style:ee.sectionTitle},"Property Details"),o.createElement("div",{style:ee.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:ee.label},"Property Title"),o.createElement("p",{style:ee.value},J.property?.title||J.propertyTitle)),J.property?.city&&o.createElement("div",null,o.createElement("p",{style:ee.label},"Location"),o.createElement("p",{style:ee.value},J.property.city)),J.property?.price&&o.createElement("div",null,o.createElement("p",{style:ee.label},"Property Price"),o.createElement("p",{style:ee.value},"₹",J.property.price.toLocaleString("en-IN"))))),J.agreedPrice&&o.createElement("div",{style:ee.sectionDivider},o.createElement("h4",{style:ee.sectionTitle},"Agreed Price"),o.createElement("p",{style:{fontSize:"18px",fontWeight:"700",color:"#10b981"}},"₹",J.agreedPrice.toLocaleString("en-IN"))),J.seller&&o.createElement("div",{style:ee.sectionDivider},o.createElement("h4",{style:ee.sectionTitle},"Seller Information"),o.createElement("div",{style:ee.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:ee.label},"Name"),o.createElement("p",{style:ee.value},J.seller.firstName," ",J.seller.lastName)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Email"),o.createElement("p",{style:ee.value},J.seller.email)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Phone"),o.createElement("p",{style:ee.value},J.seller.mobileNumber)))),J.agent&&o.createElement("div",{style:ee.sectionDivider},o.createElement("h4",{style:ee.sectionTitle},"Agent Information"),o.createElement("div",{style:ee.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:ee.label},"Name"),o.createElement("p",{style:ee.value},J.agent.firstName," ",J.agent.lastName)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Email"),o.createElement("p",{style:ee.value},J.agent.email)),o.createElement("div",null,o.createElement("p",{style:ee.label},"Phone"),o.createElement("p",{style:ee.value},J.agent.mobileNumber)))),o.createElement("div",{style:ee.modalButtons},o.createElement("button",{onClick:()=>Ie(null),style:ee.cancelBtn},"Close")))),F&&A&&o.createElement("div",{style:ee.modal},o.createElement("div",{style:ee.modalContent},o.createElement("div",{style:ee.modalHeader},o.createElement("h3",null,"Edit User"),o.createElement("button",{onClick:()=>Q(!1),style:ee.closeBtn},"✕")),o.createElement("div",{style:ee.formGroup},o.createElement("label",null,"First Name"),o.createElement("input",{type:"text",value:A.firstName||"",onChange:T=>U({...A,firstName:T.target.value}),style:ee.input})),o.createElement("div",{style:ee.formGroup},o.createElement("label",null,"Last Name"),o.createElement("input",{type:"text",value:A.lastName||"",onChange:T=>U({...A,lastName:T.target.value}),style:ee.input})),o.createElement("div",{style:ee.formGroup},o.createElement("label",null,"Email"),o.createElement("input",{type:"email",value:A.email||"",onChange:T=>U({...A,email:T.target.value}),style:ee.input})),o.createElement("div",{style:ee.formGroup},o.createElement("label",null,"Phone"),o.createElement("input",{type:"tel",value:A.mobileNumber||"",onChange:T=>U({...A,mobileNumber:T.target.value}),style:ee.input})),o.createElement("div",{style:ee.formGroup},o.createElement("label",null,"Role"),o.createElement("select",{value:A.role||"USER",onChange:T=>U({...A,role:T.target.value}),style:ee.input},o.createElement("option",{value:"USER"},"User"),o.createElement("option",{value:"AGENT"},"Agent"),o.createElement("option",{value:"ADMIN"},"Admin"))),o.createElement("div",{style:ee.formGroup},o.createElement("label",null,"Address"),o.createElement("textarea",{value:A.address||"",onChange:T=>U({...A,address:T.target.value}),style:ee.textarea})),o.createElement("div",{style:ee.modalButtons},o.createElement("button",{onClick:X,style:ee.saveBtn},"💾 Save Changes"),o.createElement("button",{onClick:()=>Q(!1),style:ee.cancelBtn},"Cancel")))))},Nh=t=>({USER:"#3b82f6",AGENT:"#10b981",ADMIN:"#f59e0b"})[t]||"#6b7280",ee={container:{maxWidth:1800,margin:"0 auto",padding:"24px 32px",minHeight:"100vh",backgroundColor:"#f8fafc",marginTop:"160px"},header:{marginBottom:"32px"},title:{fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b",margin:0},loading:{textAlign:"center",padding:"80px 20px",fontSize:"18px",color:"#64748b"},controlsSection:{marginBottom:"24px"},searchBox:{marginBottom:"16px"},searchInput:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box"},filterButtons:{display:"flex",gap:"12px",flexWrap:"wrap"},filterBtn:{padding:"10px 16px",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.2s"},activeFilter:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},mainContent:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"24px"},usersList:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",height:"fit-content"},usersHeader:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #e2e8f0"},usersGrid:{display:"flex",flexDirection:"column",gap:"12px"},userCard:{padding:"12px",borderRadius:"8px",border:"1px solid",transition:"all 0.2s"},userCardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},userName:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},userEmail:{fontSize:"12px",color:"#64748b",margin:"4px 0 0 0"},roleBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600"},userInfo:{fontSize:"12px",color:"#64748b",margin:0},userDetails:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",overflowY:"auto",maxHeight:"calc(100vh - 200px)"},detailsCard:{marginBottom:"24px",paddingBottom:"24px",borderBottom:"2px solid #e2e8f0"},detailsTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"16px"},label:{fontSize:"12px",color:"#64748b",margin:"0 0 4px 0",fontWeight:"600"},value:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},addressSection:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px"},actionButtons:{display:"flex",gap:"12px",marginTop:"16px"},editBtn:{flex:1,padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},deleteBtn:{flex:1,padding:"10px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},dealsSection:{marginTop:"24px"},dealsTitle:{fontSize:"18px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},dealsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},dealCard:{padding:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},dealStageBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600",marginBottom:"8px"},dealTitle:{fontSize:"13px",fontWeight:"700",color:"#1e293b",margin:"0 0 8px 0"},dealMeta:{fontSize:"11px",color:"#64748b",margin:"4px 0"},dealPrice:{fontSize:"12px",fontWeight:"700",color:"#10b981",margin:"8px 0 4px 0"},dealDate:{fontSize:"10px",color:"#94a3b8",margin:"4px 0"},viewDealDetailsBtn:{width:"100%",marginTop:"8px",padding:"6px 10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"11px",transition:"background 0.2s"},emptyDeals:{textAlign:"center",padding:"20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0",fontSize:"13px"},emptyDetails:{textAlign:"center",padding:"60px 20px",color:"#64748b"},emptyState:{textAlign:"center",padding:"40px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #e2e8f0"},closeBtn:{backgroundColor:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},dealDetailsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"12px"},sectionDivider:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},sectionTitle:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},formGroup:{marginBottom:"16px"},input:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",fontFamily:"inherit"},textarea:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",minHeight:"100px",fontFamily:"inherit"},modalButtons:{display:"flex",gap:"12px",marginTop:"20px"},saveBtn:{flex:1,padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},cancelBtn:{flex:1,padding:"10px 16px",backgroundColor:"#e2e8f0",color:"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"}};function cT({onLoginClick:t,onSignupClick:r,onPostPropertyClick:a,onProfileClick:s}){const{isAuthenticated:c,user:u,logout:p}=Gt(),[m,g]=w.useState(null),[h,x]=w.useState(!1),[b,v]=w.useState(0),C=Tn(),M=w.useRef(null);w.useEffect(()=>()=>{M.current&&clearTimeout(M.current)},[]),w.useEffect(()=>{c&&u&&(u.role==="AGENT"||u.role==="ADMIN")?console.log("User role detected:",u.role):v(0)},[c,u]);const O=()=>{C("/my-properties"),g(null),x(!1)},S=()=>{console.log("Navigating to admin deals..."),C("/admin-deals"),g(null),x(!1)},I=()=>{console.log("Navigating to view agents..."),C("/admin-agents"),g(null),x(!1)},A=()=>{console.log("Navigating to view users..."),C("/admin-users"),g(null),x(!1)},U=()=>{u?.role==="ADMIN"?C("/admin-deals"):C("/agent-dashboard"),g(null),x(!1)},F=()=>{C("/my-agreements"),x(!1)},Q=q=>{M.current&&clearTimeout(M.current),g(q)},J=()=>{M.current=setTimeout(()=>g(null),300)},Ie=()=>{M.current&&clearTimeout(M.current)},Re=(q,oe)=>{const X=new URLSearchParams({propertyType:q,listingType:oe});C(`/search?${X.toString()}`),g(null)},W=(q,oe)=>{const X=new URLSearchParams({minPrice:q.min,maxPrice:q.max,listingType:oe});C(`/search?${X.toString()}`),g(null)},_=q=>{const oe=new URLSearchParams(q.params||{});C(`/search?${oe.toString()}`),g(null)},fe=q=>{q.type==="navigate"?(C(q.path),g(null),x(!1)):q.type==="action"&&q.key==="postProperty"&&(a(),g(null),x(!1))},ge={buy:{popularChoices:[{label:"Owner Properties",params:{listingType:"sale",ownerType:"owner"}},{label:"Verified Properties",params:{listingType:"sale",isVerified:!0}},{label:"Ready to Move",params:{listingType:"sale",isReadyToMove:!0}},{label:"Broker Properties",params:{listingType:"sale",ownerType:"broker"}}],propertyTypes:[{label:"Apartments",value:"Apartment"},{label:"Villas",value:"Villa"},{label:"Houses",value:"House"},{label:"Plots",value:"Plot"},{label:"Commercial",value:"Commercial"}],budget:[{label:"Under ₹50 Lac",min:0,max:5e6},{label:"₹50 Lac - ₹1 Cr",min:5e6,max:1e7},{label:"₹1 Cr - ₹2 Cr",min:1e7,max:2e7},{label:"Above ₹2 Cr",min:2e7,max:999999999}]},rent:{popularChoices:[{label:"Owner Properties",params:{listingType:"rent"}},{label:"Verified Properties",params:{listingType:"rent"}},{label:"Furnished Homes",params:{listingType:"rent"}},{label:"Bachelor Friendly",params:{listingType:"rent"}}],propertyTypes:[{label:"Apartments",value:"Apartment"},{label:"Houses",value:"House"},{label:"Villas",value:"Villa"},{label:"PG",value:"PG"}],budget:[{label:"Under ₹10,000",min:0,max:1e4},{label:"₹10,000 - ₹20,000",min:1e4,max:2e4},{label:"₹20,000 - ₹40,000",min:2e4,max:4e4},{label:"Above ₹40,000",min:4e4,max:999999}]},sell:{actions:[{label:"Post Free Property Ad",type:"action",key:"postProperty"},{label:"Owner Plans",type:"navigate",path:"/owner-plans"}],dashboard:{label:"My Properties",type:"navigate",path:"/my-properties"},assistance:[{label:"Rental Agreement",type:"navigate",path:"/rental-agreement"},{label:"Home Interior/Renovation",type:"navigate",path:"/home-renovation"}]}};return console.log("Header rendered - User:",u,"Role:",u?.role,"Is Admin:",u?.role==="ADMIN"),o.createElement("header",{style:B.header},o.createElement("div",{style:B.headerContent},o.createElement("div",null,o.createElement("div",{onClick:()=>C("/"),style:B.logo},o.createElement("span",{style:B.logoIcon},"🏡"),"PropertyDeals"),o.createElement("div",{style:B.dropdowns},o.createElement("div",{style:B.navItem,onClick:()=>C("/")},o.createElement("span",{style:B.navText},"Home")),o.createElement("div",{style:B.navItem,onMouseEnter:()=>Q("buy"),onMouseLeave:J},o.createElement("span",{style:B.navText},"Buy ▾"),m==="buy"&&o.createElement("div",{style:B.dropdown,onMouseEnter:Ie,onMouseLeave:J},o.createElement("div",{style:B.dropdownSection},o.createElement("h4",{style:B.dropdownTitle},"Popular Choices"),ge.buy.popularChoices.map(q=>o.createElement("div",{key:q.label,style:B.dropdownItem,onClick:()=>_(q)},q.label))),o.createElement("div",{style:B.dropdownSection},o.createElement("h4",{style:B.dropdownTitle},"Property Types"),ge.buy.propertyTypes.map(q=>o.createElement("div",{key:q.value,style:B.dropdownItem,onClick:()=>Re(q.value,"sale")},q.label))),o.createElement("div",{style:B.dropdownSection},o.createElement("h4",{style:B.dropdownTitle},"Budget"),ge.buy.budget.map(q=>o.createElement("div",{key:q.label,style:B.dropdownItem,onClick:()=>W(q,"sale")},q.label))))),o.createElement("div",{style:B.navItem,onMouseEnter:()=>Q("rent"),onMouseLeave:J},o.createElement("span",{style:B.navText},"Rent ▾"),m==="rent"&&o.createElement("div",{style:{...B.dropdown,minWidth:"700px"},onMouseEnter:Ie,onMouseLeave:J},o.createElement("div",{style:B.dropdownSection},o.createElement("h4",{style:B.dropdownTitle},"Popular Choices"),ge.rent.popularChoices.map(q=>o.createElement("div",{key:q.label,style:B.dropdownItem,onClick:()=>_(q)},q.label))),o.createElement("div",{style:B.dropdownSection},o.createElement("h4",{style:B.dropdownTitle},"Property Types"),ge.rent.propertyTypes.map(q=>o.createElement("div",{key:q.value,style:B.dropdownItem,onClick:()=>Re(q.value,"rent")},q.label))),o.createElement("div",{style:B.dropdownSection},o.createElement("h4",{style:B.dropdownTitle},"Budget"),ge.rent.budget.map(q=>o.createElement("div",{key:q.label,style:B.dropdownItem,onClick:()=>W(q,"rent")},q.label))))),o.createElement("div",{style:B.navItem,onMouseEnter:()=>Q("sell"),onMouseLeave:J},o.createElement("span",{style:B.navText},"Sell ▾"),m==="sell"&&o.createElement("div",{style:{...B.dropdown,minWidth:"300px",left:"auto",right:0,transform:"none"},onMouseEnter:Ie,onMouseLeave:J},o.createElement("div",{style:B.dropdownSection},ge.sell.actions.map(q=>o.createElement("div",{key:q.label,style:B.dropdownItem,onClick:()=>fe(q)},q.label)),c&&o.createElement("div",{style:B.dropdownItem,onClick:()=>fe(ge.sell.dashboard)},ge.sell.dashboard.label),o.createElement("hr",{style:{border:0,borderTop:"1px solid #eee",margin:"12px 0"}}),o.createElement("h4",{style:B.dropdownTitle},"Assistance"),ge.sell.assistance.map(q=>o.createElement("div",{key:q.label,style:B.dropdownItem,onClick:()=>fe(q)},q.label))))))),o.createElement("nav",{style:B.nav}," ",o.createElement("div",null,c?o.createElement("div",{style:B.authSection},o.createElement("div",{style:B.loginSignup},o.createElement("button",{onClick:a,style:{...B.postBtn,marginLeft:"10px"}},o.createElement("span",{style:B.btnIcon},"📝")," Post Property"),o.createElement("div",{style:{position:"relative"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},o.createElement("div",{style:B.userSection,className:"userSection"},o.createElement("span",{style:B.userIcon},"👤"),o.createElement("span",{style:B.userName},u?.firstName||"User"," ▾"),u&&(u.role==="AGENT"||u.role==="ADMIN")&&o.createElement("span",{style:{fontSize:"12px",marginLeft:"8px",backgroundColor:"rgba(255,255,255,0.3)",padding:"2px 8px",borderRadius:"4px"}},u.role==="ADMIN"?"⚙️ Admin":"📊 Agent")),h&&o.createElement("div",{style:B.profileDropdown},o.createElement("div",{style:B.profileDropdownItem,onClick:()=>{s(),x(!1)}},"View Profile"),o.createElement("div",{style:B.profileDropdownItem,onClick:F},"My Agreements"),o.createElement("div",{style:B.profileDropdownItem,onClick:O},"My Properties"),u&&(u.role==="AGENT"||u.role==="ADMIN")&&o.createElement("div",{style:B.profileDropdownItem,onClick:U},u.role==="ADMIN"?"⚙️ Admin Dashboard":"📊 Agent Dashboard"),u&&u.role==="USER"&&o.createElement("div",{style:B.profileDropdownItem,onClick:()=>{C("/my-deals"),x(!1)}},"My Deals"),o.createElement("hr",{style:{border:0,borderTop:"1px solid #eee",margin:"8px 0"}}),o.createElement("div",{style:{...B.profileDropdownItem,color:"#dc3545"},onClick:p},"Logout")))),o.createElement("div",null,o.createElement("button",{onClick:O,style:{color:"white",backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"12px 20px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"14px"}},"My Properties"),u&&u.role==="ADMIN"&&o.createElement(o.Fragment,null,o.createElement("button",{onClick:S,style:{color:"white",backgroundColor:"rgba(34, 197, 94, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #22c55e",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px"}},"📋 View Deals"),o.createElement("button",{onClick:I,style:{color:"white",backgroundColor:"rgba(59, 130, 246, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #3b82f6",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px"}},"👥 View Agents"),o.createElement("button",{onClick:A,style:{color:"white",backgroundColor:"rgba(139, 92, 246, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #8b5cf6",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px"}},"👨‍💼 View Users")),u&&u.role==="AGENT"&&o.createElement("button",{onClick:U,style:{color:"white",backgroundColor:"rgba(34, 197, 94, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #22c55e",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px",position:"relative"}},"📊 Agent Dashboard",b>0&&o.createElement("span",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"700"}},b)))):o.createElement("div",{style:B.authButtons},o.createElement("button",{onClick:t,style:B.loginBtn},o.createElement("span",{style:B.btnIcon},"🔐")," Login"),o.createElement("button",{onClick:r,style:B.signupBtn},o.createElement("span",{style:B.btnIcon},"✨")," Sign Up"))))))}const R0=`${$e}/api`,uT=async()=>(await fetch(`${R0}/properties/featured`)).json(),dT=async t=>(await fetch(`${R0}/properties/${t}`)).json(),I0=({deal:t,onClose:r})=>{const a=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT","COMPLETED"],s=b=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[b]||"#6b7280",c=()=>{const b=t?.stage||t?.currentStage||"INQUIRY";return(a.indexOf(b)+1)/a.length*100};if(!t)return null;const u=t.stage||t.currentStage||"INQUIRY",p=t.buyer?`${t.buyer.firstName} ${t.buyer.lastName}`:"N/A",m=t.seller?`${t.seller.firstName} ${t.seller.lastName}`:"N/A",g=t.agent?`${t.agent.firstName} ${t.agent.lastName}`:"Not Assigned",h=t.property?.title||"Property",x=t.agreedPrice||t.property?.price||"TBD";return o.createElement("div",{style:xe.backdrop,onClick:r},o.createElement("div",{style:xe.modal,onClick:b=>b.stopPropagation()},o.createElement("button",{style:xe.closeBtn,onClick:r},"×"),o.createElement("div",{style:xe.header},o.createElement("h2",{style:xe.title},"📋 Deal Details"),o.createElement("div",{style:{...xe.stageBadge,backgroundColor:s(u)}},u)),o.createElement("div",{style:xe.progressContainer},o.createElement("div",{style:xe.progressBar},o.createElement("div",{style:{...xe.progressFill,width:`${c()}%`,backgroundColor:s(u)}})),o.createElement("p",{style:xe.progressText},"Progress: ",c().toFixed(0),"%")),o.createElement("div",{style:xe.contentGrid},o.createElement("div",{style:{...xe.section,gridColumn:"1 / -1",textAlign:"center"}},o.createElement("h3",{style:xe.sectionTitle},"📊 Current Deal Stage"),o.createElement("p",{style:{...xe.stageBadge,backgroundColor:s(u),display:"inline-block",fontSize:"16px"}},u)),o.createElement("div",{style:xe.section},o.createElement("h3",{style:xe.sectionTitle},"🏠 Property"),o.createElement("div",{style:xe.infoBox},o.createElement("p",{style:xe.label},"Title"),o.createElement("p",{style:xe.value},h),o.createElement("p",{style:xe.label},"Price"),o.createElement("p",{style:xe.value},"₹",typeof x=="number"?x.toLocaleString("en-IN"):x),t.property?.bedrooms&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Bedrooms"),o.createElement("p",{style:xe.value},t.property.bedrooms)),t.property?.areaSqft&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Area"),o.createElement("p",{style:xe.value},t.property.areaSqft," sqft")))),o.createElement("div",{style:xe.section},o.createElement("h3",{style:xe.sectionTitle},"👤 Buyer"),o.createElement("div",{style:xe.infoBox},o.createElement("p",{style:xe.label},"Name"),o.createElement("p",{style:xe.value},p),t.buyer?.email&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Email"),o.createElement("p",{style:xe.value},t.buyer.email)),t.buyer?.mobileNumber&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Phone"),o.createElement("p",{style:xe.value},t.buyer.mobileNumber)))),o.createElement("div",{style:xe.section},o.createElement("h3",{style:xe.sectionTitle},"🏢 Seller"),o.createElement("div",{style:xe.infoBox},o.createElement("p",{style:xe.label},"Name"),o.createElement("p",{style:xe.value},m),t.seller?.email&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Email"),o.createElement("p",{style:xe.value},t.seller.email)),t.seller?.mobileNumber&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Phone"),o.createElement("p",{style:xe.value},t.seller.mobileNumber)))),o.createElement("div",{style:xe.section},o.createElement("h3",{style:xe.sectionTitle},"📊 Agent"),o.createElement("div",{style:xe.infoBox},o.createElement("p",{style:xe.label},"Agent Name"),o.createElement("p",{style:xe.value},g),t.agent?.email&&o.createElement(o.Fragment,null,o.createElement("p",{style:xe.label},"Email"),o.createElement("p",{style:xe.value},t.agent.email)))),o.createElement("div",{style:{...xe.section,gridColumn:"1 / -1"}},o.createElement("h3",{style:xe.sectionTitle},"📅 Timeline"),o.createElement("div",{style:xe.timelineGrid},o.createElement("div",{style:xe.timelineItem},o.createElement("p",{style:xe.label},"Created"),o.createElement("p",{style:xe.value},t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A")),t.shortlistDate&&o.createElement("div",{style:xe.timelineItem},o.createElement("p",{style:xe.label},"Shortlisted"),o.createElement("p",{style:xe.value},new Date(t.shortlistDate).toLocaleDateString())),t.agreementDate&&o.createElement("div",{style:xe.timelineItem},o.createElement("p",{style:xe.label},"Agreement"),o.createElement("p",{style:xe.value},new Date(t.agreementDate).toLocaleDateString())),t.registrationDate&&o.createElement("div",{style:xe.timelineItem},o.createElement("p",{style:xe.label},"Registration"),o.createElement("p",{style:xe.value},new Date(t.registrationDate).toLocaleDateString())))),o.createElement("div",{style:{...xe.section,gridColumn:"1 / -1"}},o.createElement("h3",{style:xe.sectionTitle},"✅ Status Checklist"),o.createElement("div",{style:xe.checklistGrid},o.createElement("div",{style:xe.checklistItem},o.createElement("span",{style:t.buyerDocUploaded?xe.checkYes:xe.checkNo},t.buyerDocUploaded?"✅":"❌"),o.createElement("span",null,"Buyer Document Uploaded")),o.createElement("div",{style:xe.checklistItem},o.createElement("span",{style:t.sellerConfirmed?xe.checkYes:xe.checkNo},t.sellerConfirmed?"✅":"❌"),o.createElement("span",null,"Seller Confirmed")),o.createElement("div",{style:xe.checklistItem},o.createElement("span",{style:t.adminVerified?xe.checkYes:xe.checkNo},t.adminVerified?"✅":"❌"),o.createElement("span",null,"Admin Verified")),o.createElement("div",{style:xe.checklistItem},o.createElement("span",{style:t.paymentInitiated?xe.checkYes:xe.checkNo},t.paymentInitiated?"✅":"❌"),o.createElement("span",null,"Payment Initiated")),o.createElement("div",{style:xe.checklistItem},o.createElement("span",{style:t.paymentCompleted?xe.checkYes:xe.checkNo},t.paymentCompleted?"✅":"❌"),o.createElement("span",null,"Payment Completed"))))),o.createElement("button",{onClick:r,style:xe.closeBottomBtn},"Close")))},xe={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10001,overflowY:"auto",backdropFilter:"blur(3px)",padding:"20px"},modal:{backgroundColor:"white",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px rgba(0,0,0,0.3)",animation:"slideUp 0.3s ease-out"},closeBtn:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",padding:0,width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"},title:{fontSize:"28px",fontWeight:"800",color:"#1e293b",margin:0},stageBadge:{padding:"8px 16px",borderRadius:"20px",color:"white",fontWeight:"600",fontSize:"14px"},progressContainer:{marginBottom:"24px"},progressBar:{width:"100%",height:"12px",backgroundColor:"#e5e7eb",borderRadius:"6px",overflow:"hidden",marginBottom:"8px"},progressFill:{height:"100%",transition:"width 0.3s ease"},progressText:{fontSize:"12px",color:"#64748b",margin:0},contentGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"24px"},section:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},sectionTitle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",marginBottom:"12px",marginTop:0},infoBox:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"12px",fontWeight:"600",color:"#64748b",margin:0,marginTop:"8px"},value:{fontSize:"14px",fontWeight:"600",color:"#1e293b",margin:0},timelineGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},timelineItem:{padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0"},checklistGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},checklistItem:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"},checkYes:{color:"#10b981"},checkNo:{color:"#ef4444"},closeBottomBtn:{width:"100%",padding:"12px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",marginTop:"16px"}},pT=()=>{const{id:t}=Kh(),r=Tn(),{user:a}=Gt(),[s,c]=w.useState(null),[u,p]=w.useState(!0),[m,g]=w.useState(null),[h,x]=w.useState(0),[b,v]=w.useState(null),[C,M]=w.useState(!1),[O,S]=w.useState(!1),[I,A]=w.useState(!1),[U,F]=w.useState(null),[Q,J]=w.useState("");w.useEffect(()=>{Ie()},[t]),w.useEffect(()=>{(s?.id||s?.propertyId)&&Re()},[s?.id,s?.propertyId,a?.id]);const Ie=async()=>{try{const Z=await dT(t);c(Z),p(!1)}catch(Z){console.error("Error fetching property details:",Z),g("Failed to load property details."),p(!1)}},Re=async()=>{if(!a?.id){console.log("❌ No user ID for checking deals");return}S(!0);try{const Z=s?.id||s?.propertyId;console.log("🔍 Checking for deals with propertyId:",Z),console.log("👤 User ID:",a.id);try{const T=await fetch(`${$e}/api/deals/property/${Z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("📊 Property deals endpoint response status:",T.status),T.ok){const j=await T.json();console.log("📥 Property deals response:",j);let E=[];if(Array.isArray(j)?E=j:(j.success&&Array.isArray(j.data)||j.data&&Array.isArray(j.data))&&(E=j.data),E.length>0){console.log("✅ Deal found via property endpoint:",E[0]),v(E[0]),S(!1);return}}}catch(T){console.log("⚠️ Property deals endpoint error:",T.message)}console.log("📄 Trying fallback - fetching agent deals...");try{const T=await fetch(`${$e}/api/deals/agent/${a.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("📊 Agent deals endpoint response status:",T.status),T.ok){const j=await T.json();console.log("📥 Agent deals response:",j);let E=[];Array.isArray(j)?E=j:(j.success&&Array.isArray(j.data)||j.data&&Array.isArray(j.data))&&(E=j.data),console.log(`📋 Total agent deals found: ${E.length}`);const P=E.find(K=>{const ue=K.property?.id||K.propertyId,he=ue===Z||ue==Z;return console.log(`Comparing deal property ${ue} with current property ${Z}: ${he}`),he});P?(console.log("✅ Deal found via agent deals endpoint:",P),v(P)):(console.log("❌ No deal found for this property in agent deals"),v(null))}else console.log("❌ Agent deals endpoint failed with status:",T.status),v(null)}catch(T){console.error("❌ Error fetching agent deals:",T),v(null)}}catch(Z){console.error("❌ Error in checkForExistingDeal:",Z),v(null)}finally{S(!1)}},W=async()=>{if(F(null),!Q||Q.length!==10){F("Please enter a valid 10-digit buyer phone number");return}A(!0);try{console.log("🔍 Searching for buyer with phone:",Q);const Z=await fetch(`${$e}/api/users/search?phone=${Q}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!Z.ok){F("Error searching for buyer"),A(!1);return}const T=await Z.json(),j=T.success?T.data:T;if(console.log("👤 Buyer search result:",j),!j||!j.id){F("Buyer not found. Please check the phone number."),A(!1);return}console.log("✅ Buyer found:",j.id);const E=await fetch(`${$e}/api/deals/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({propertyId:s.id||s.propertyId,buyerId:j.id,agentId:a.id})}),P=await E.json();console.log("📤 Deal creation response:",P),P.success||E.ok?(console.log("✅ Deal created successfully"),alert("✅ Deal created successfully!"),J(""),F(null),setTimeout(()=>{Re()},500)):(console.log("❌ Deal creation failed:",P),F(P.message||"Failed to create deal"))}catch(Z){console.error("❌ Error creating deal:",Z),F("Error: "+Z.message)}finally{A(!1)}},_=()=>{M(!1),Re()},fe=Z=>{if(!Z)return"Price on request";const T=typeof Z=="number"?Z:parseFloat(Z);return T>=1e7?`₹${(T/1e7).toFixed(2)} Cr`:T>=1e5?`₹${(T/1e5).toFixed(2)} Lac`:`₹${T.toLocaleString("en-IN")}`};if(u)return o.createElement("div",{style:be.loading},o.createElement("div",{style:be.spinner},"⏳"),o.createElement("p",null,"Loading property details..."));if(m||!s)return o.createElement("div",{style:be.error},o.createElement("h2",null,m||"Property not found"),o.createElement("button",{onClick:()=>r("/"),style:be.backButton},"Go back to home"));const ge=s.imageUrl?[s.imageUrl]:[],q=s.amenities?s.amenities.split(",").map(Z=>Z.trim()):[],oe=s.propertyType?.typeName||s.type||"N/A",X=s.user?`${s.user.firstName} ${s.user.lastName}`:"N/A",ae=a&&(a.role==="AGENT"||a.role==="ADMIN");return o.createElement("div",{style:be.container},o.createElement("button",{onClick:()=>r(-1),style:be.backButton},"← Back"),o.createElement("div",{style:be.detailsContainer},o.createElement("div",{style:be.imageSection},o.createElement("div",{style:be.mainImage},o.createElement("img",{src:ge[0]||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800",alt:s.title,style:be.largeImage}))),o.createElement("div",{style:be.infoSection},o.createElement("div",{style:be.priceSection},o.createElement("div",{style:be.price},fe(s.price||s.expectedPrice),s.listingType==="rent"&&o.createElement("span",{style:be.perMonth},"/month")),s.isFeatured&&o.createElement("span",{style:be.featuredBadge},"⭐ Featured")),o.createElement("h1",{style:be.title},s.title),o.createElement("div",{style:be.typeTag},s.listingType?.toLowerCase()==="sale"?"FOR SALE":"FOR RENT"),o.createElement("div",{style:be.location},"📍 ",s.areaName||s.city||"Hyderabad",s.pincode&&` - ${s.pincode}`),o.createElement("div",{style:be.keyDetails},o.createElement("div",{style:be.detailCard},o.createElement("span",{style:be.detailIcon},"🛏️"),o.createElement("div",null,o.createElement("div",{style:be.detailLabel},"Bedrooms"),o.createElement("div",{style:be.detailValue},s.bedrooms||"N/A"))),o.createElement("div",{style:be.detailCard},o.createElement("span",{style:be.detailIcon},"🚿"),o.createElement("div",null,o.createElement("div",{style:be.detailLabel},"Bathrooms"),o.createElement("div",{style:be.detailValue},s.bathrooms||"N/A"))),s.areaSqft&&o.createElement("div",{style:be.detailCard},o.createElement("span",{style:be.detailIcon},"📐"),o.createElement("div",null,o.createElement("div",{style:be.detailLabel},"Area"),o.createElement("div",{style:be.detailValue},s.areaSqft," sqft"))),o.createElement("div",{style:be.detailCard},o.createElement("span",{style:be.detailIcon},"🏠"),o.createElement("div",null,o.createElement("div",{style:be.detailLabel},"Type"),o.createElement("div",{style:be.detailValue},oe)))),o.createElement("div",{style:be.contactSection},s.user&&o.createElement("div",{style:be.ownerInfo},"Dear ",o.createElement("div",{style:be.ownerName},X)),o.createElement("h3",{style:be.contactTitle},"Contact Agent"),o.createElement("div",{style:be.contactButtons},o.createElement("button",{style:be.contactOwnerBtn},"Contact Agent"),o.createElement("button",{style:be.getPhoneBtn},"Get Phone No.")),ae&&o.createElement("div",{style:be.dealSection},o.createElement("div",{style:be.dealSectionTitle},"📋 Deal Management"),O?o.createElement("div",{style:be.loadingDeal},"⏳ Checking for deals..."):b?o.createElement(o.Fragment,null,o.createElement("div",{style:be.dealExistsBadge},o.createElement("strong",null,"✅ Deal Already Created")),o.createElement("div",{style:be.dealStageInfo},o.createElement("div",{style:be.dealStageBadge},"Stage:"," ",o.createElement("strong",null,b.stage||b.currentStage||"INQUIRY")),o.createElement("div",{style:be.dealCreatedDate},"Created:"," ",new Date(b.createdAt).toLocaleDateString())),o.createElement("button",{onClick:()=>M(!0),style:be.viewDealBtn},"👁️ View & Manage Deal")):o.createElement(o.Fragment,null,o.createElement("div",{style:be.noDealInfo},"No deals created yet for this property"),o.createElement("div",{style:be.buyerInputContainer},o.createElement("input",{type:"tel",placeholder:"Enter buyer phone (10 digits)",value:Q,onChange:Z=>{const T=Z.target.value.replace(/\D/g,"");J(T.slice(0,10)),F(null)},maxLength:"10",style:be.buyerInput,disabled:I}),o.createElement("button",{onClick:W,disabled:I||Q.length!==10,style:{...be.createDealBtn,opacity:I||Q.length!==10?.6:1,cursor:I||Q.length!==10?"not-allowed":"pointer"}},I?"⏳ Creating...":"➕ Create Deal")),U&&o.createElement("div",{style:be.errorMessage},U)))))),o.createElement("div",{style:be.moreDetails},o.createElement("h2",{style:be.sectionTitle},"More Details"),o.createElement("div",{style:be.detailsGrid},o.createElement("div",{style:be.detailRow},o.createElement("span",{style:be.detailRowLabel},"Price Breakup:"),o.createElement("span",{style:be.detailRowValue},fe(s.price||s.expectedPrice))),s.address&&o.createElement("div",{style:be.detailRow},o.createElement("span",{style:be.detailRowLabel},"Address:"),o.createElement("span",{style:be.detailRowValue},s.address))),s.description&&o.createElement("div",{style:be.descriptionSection},o.createElement("h3",{style:be.subSectionTitle},"Description"),o.createElement("p",{style:be.description},s.description)),q.length>0&&o.createElement("div",{style:be.amenitiesSection},o.createElement("h3",{style:be.subSectionTitle},"Amenities"),o.createElement("div",{style:be.amenitiesGrid},q.map((Z,T)=>o.createElement("div",{key:T,style:be.amenityItem},"✓ ",Z))))),C&&b&&o.createElement(I0,{deal:b,onClose:_}))},be={container:{maxWidth:1200,margin:"0 auto",padding:24,backgroundColor:"#fff"},loading:{textAlign:"center",padding:"4rem 2rem"},spinner:{fontSize:"3rem",marginBottom:"1rem"},error:{textAlign:"center",padding:"4rem 2rem"},backButton:{padding:"10px 20px",borderRadius:8,background:"#6b7280",color:"white",border:"none",cursor:"pointer",marginBottom:20,fontSize:14,fontWeight:500},detailsContainer:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:30,marginBottom:40},imageSection:{display:"flex",flexDirection:"column",gap:12},mainImage:{width:"100%",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},largeImage:{width:"100%",height:450,objectFit:"cover"},infoSection:{display:"flex",flexDirection:"column",gap:20},priceSection:{display:"flex",justifyContent:"space-between",alignItems:"center"},price:{fontSize:32,fontWeight:700,color:"#3b82f6"},perMonth:{fontSize:16,fontWeight:500,color:"#6b7280"},featuredBadge:{backgroundColor:"#f59e0b",color:"white",padding:"8px 16px",borderRadius:20,fontSize:14,fontWeight:600},title:{fontSize:28,fontWeight:700,color:"#111827",margin:0},typeTag:{display:"inline-block",padding:"8px 16px",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:8,fontSize:14,fontWeight:600,width:"fit-content"},location:{fontSize:16,color:"#6b7280"},keyDetails:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16,marginTop:10},detailCard:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#f9fafb",borderRadius:10,border:"1px solid #e5e7eb"},detailIcon:{fontSize:28},detailLabel:{fontSize:12,color:"#6b7280",marginBottom:4},detailValue:{fontSize:18,fontWeight:600,color:"#111827"},contactSection:{backgroundColor:"#f9fafb",padding:20,borderRadius:12,border:"1px solid #e5e7eb",marginTop:10},contactTitle:{fontSize:18,fontWeight:600,marginBottom:12,marginTop:0},ownerInfo:{marginBottom:16},ownerName:{fontSize:16,fontWeight:600,marginBottom:8},contactButtons:{display:"flex",gap:12,marginBottom:12},contactOwnerBtn:{flex:1,padding:"12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14},getPhoneBtn:{flex:1,padding:"12px",backgroundColor:"white",color:"#ef4444",border:"2px solid #ef4444",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14},dealSection:{marginTop:16,paddingTop:16,borderTop:"2px solid #e5e7eb",backgroundColor:"#fef3c7",padding:16,borderRadius:8,border:"1px solid #fcd34d"},dealSectionTitle:{fontSize:14,fontWeight:700,color:"#92400e",marginBottom:12,marginTop:0},dealExistsBadge:{padding:"12px",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:6,fontSize:13,fontWeight:600,marginBottom:12,border:"1px solid #6ee7b7",textAlign:"center"},dealStageInfo:{marginBottom:12,padding:"12px",backgroundColor:"#f3f4f6",borderRadius:8,border:"1px solid #e5e7eb"},dealStageBadge:{fontSize:14,fontWeight:600,color:"#1e40af",marginBottom:8},dealCreatedDate:{fontSize:12,color:"#64748b",fontStyle:"italic"},noDealInfo:{padding:"12px",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:6,fontSize:13,fontWeight:600,marginBottom:12,border:"1px solid #fcd34d",textAlign:"center"},loadingDeal:{padding:"12px",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:6,fontSize:13,fontWeight:600,textAlign:"center"},errorMessage:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"12px",borderRadius:6,fontSize:13,fontWeight:600,marginTop:12,border:"1px solid #fecaca",textAlign:"center"},buyerInputContainer:{display:"flex",gap:8,marginBottom:12},buyerInput:{flex:1,padding:"10px 12px",border:"2px solid #e2e8f0",borderRadius:6,fontSize:13,fontWeight:500,boxSizing:"border-box",transition:"border-color 0.2s"},createDealBtn:{padding:"10px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:6,fontWeight:600,cursor:"pointer",fontSize:13,transition:"background 0.2s",whiteSpace:"nowrap"},viewDealBtn:{width:"100%",padding:"12px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14,transition:"background 0.2s"},moreDetails:{backgroundColor:"#fff",padding:30,borderRadius:12,border:"1px solid #e5e7eb"},sectionTitle:{fontSize:24,fontWeight:700,marginBottom:20},detailsGrid:{display:"flex",flexDirection:"column",gap:16},detailRow:{display:"flex",justifyContent:"space-between",paddingBottom:16,borderBottom:"1px solid #e5e7eb"},detailRowLabel:{fontSize:14,color:"#6b7280",fontWeight:500},detailRowValue:{fontSize:14,color:"#111827",fontWeight:600},descriptionSection:{marginTop:30},subSectionTitle:{fontSize:18,fontWeight:600,marginBottom:12},description:{fontSize:14,lineHeight:1.8,color:"#374151"},amenitiesSection:{marginTop:30},amenitiesGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},amenityItem:{padding:"10px 12px",backgroundColor:"#f9fafb",borderRadius:8,fontSize:14,color:"#374151"}},P0=({property:t,onPropertyUpdated:r,onPropertyDeleted:a})=>{const s=Tn(),{user:c}=Gt(),[u,p]=w.useState(!1),[m,g]=w.useState(!1);console.log("🔍 PropertyCard Debug:",{propertyId:t.id||t.propertyId,propertyUser:t.user,currentUser:c,hasUser:!!c,hasPropertyUser:!!t.user,userMatch:c&&t.user?c.id===t.user.id:!1});const h=c&&t.user&&c.id===t.user.id;console.log("👤 Is Owner:",h);const x=S=>{if(!S)return t.priceDisplay||"Price on request";const I=typeof S=="number"?S:parseFloat(S);return I>=1e7?`₹${(I/1e7).toFixed(2)} Cr`:I>=1e5?`₹${(I/1e5).toFixed(2)} Lac`:I>=1e3?`₹${(I/1e3).toFixed(0)} K`:`₹${I.toLocaleString("en-IN")}`},b=()=>"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop",v=S=>{if(S.target.closest("button"))return;const I=t.id||t.propertyId;s(`/property/${I}`)},C=S=>{S.stopPropagation(),console.log("✏️ Edit clicked for property:",t.id),p(!0)},M=async S=>{if(S.stopPropagation(),!!window.confirm("⚠️ Are you sure you want to delete this property?")){g(!0);try{const I=t.id||t.propertyId;console.log("🗑️ Deleting property:",I),(await fetch(`${$e}/api/properties/${I}`,{method:"DELETE"})).ok?(alert("✅ Property deleted successfully!"),a&&a()):alert("❌ Failed to delete property")}catch(I){console.error("❌ Error deleting property:",I),alert("❌ Error deleting property")}finally{g(!1)}}},O=()=>{console.log("✅ Property updated successfully"),p(!1),r&&r()};return o.createElement(o.Fragment,null,o.createElement("div",{style:lt.card,onClick:v,className:"property-card"},o.createElement("div",{style:lt.badgeContainer},t.isFeatured&&o.createElement("span",{style:lt.badge},"⭐ Featured"),t.isVerified&&o.createElement("span",{style:lt.verifiedBadge},"✅ Verified"),t.isReadyToMove&&o.createElement("span",{style:lt.readyBadge},"🏠 Ready to Move")),o.createElement("div",{style:lt.imageContainer},o.createElement("img",{src:t.imageUrl||b(),alt:t.title,style:lt.image,onError:S=>{S.target.src=b()}}),o.createElement("div",{style:lt.imageOverlay})),o.createElement("div",{style:lt.content},o.createElement("div",{style:lt.typeTag},t.listingType==="sale"||t.listingType==="SALE"?"FOR SALE":"FOR RENT"),o.createElement("h3",{style:lt.title},t.title),o.createElement("div",{style:lt.location},"📍 ",t.areaName||t.city||"Location",",",t.cityName||"Hyderabad",t.pincode&&` - ${t.pincode}`),o.createElement("div",{style:lt.price},x(t.price),(t.listingType==="rent"||t.listingType==="RENT")&&o.createElement("span",{style:lt.perMonth},"/month")),o.createElement("div",{style:lt.propertyType},o.createElement("strong",null,t.propertyType||t.type),t.ownerType&&o.createElement("span",{style:lt.ownerTypeBadge},t.ownerType==="owner"?"👤 Owner":"🏢 Broker")),o.createElement("div",{style:lt.details},t.areaSqft&&o.createElement("div",{style:lt.detail},o.createElement("span",{style:lt.detailIcon},"📐"),o.createElement("span",null,t.areaSqft," sqft")),t.bedrooms>0&&o.createElement("div",{style:lt.detail},o.createElement("span",{style:lt.detailIcon},"🛏️"),o.createElement("span",null,t.bedrooms," Beds")),t.bathrooms>0&&o.createElement("div",{style:lt.detail},o.createElement("span",{style:lt.detailIcon},"🚿"),o.createElement("span",null,t.bathrooms," Baths"))),t.amenities&&o.createElement("div",{style:lt.amenities},o.createElement("strong",null,"✨ Amenities:")," ",t.amenities.split(",").slice(0,3).join(", "),t.amenities.split(",").length>3&&"..."),t.user&&o.createElement("div",{style:lt.postedBy},"👤 Posted by: ",t.user.firstName," ",t.user.lastName),h&&o.createElement("div",{style:lt.actionButtons},o.createElement("button",{onClick:C,style:lt.editBtn},"✏️ Edit"),o.createElement("button",{onClick:M,style:lt.deleteBtn,disabled:m},m?"⏳":"🗑️"," Delete")),c&&o.createElement("div",{style:lt.debugInfo},o.createElement("small",null,"Debug: User ID=",c.id," | Property User=",t.user?.id," | IsOwner=",h?"✅":"❌")))),u&&o.createElement(oT,{property:t,onClose:()=>p(!1),onPropertyUpdated:O}))},lt={card:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"20px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.08)",transition:"all 0.3s ease",cursor:"pointer",position:"relative",border:"1px solid rgba(255,255,255,0.2)"},badgeContainer:{position:"absolute",top:"1rem",right:"1rem",display:"flex",flexDirection:"column",gap:"8px",zIndex:2},badge:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},verifiedBadge:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},readyBadge:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},imageContainer:{position:"relative",overflow:"hidden"},image:{width:"100%",height:"220px",objectFit:"cover",transition:"transform 0.3s ease"},imageOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.1) 100%)"},content:{padding:"24px"},typeTag:{display:"inline-block",padding:"0.4rem 1rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"white",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"700",marginBottom:"1rem",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.3)"},title:{fontSize:"20px",marginBottom:"12px",fontWeight:"700",color:"#1e293b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},location:{color:"#64748b",fontSize:"14px",marginBottom:"1rem",fontWeight:"500"},price:{fontSize:"28px",fontWeight:"800",color:"#059669",marginBottom:"1rem"},perMonth:{fontSize:"14px",fontWeight:"500",color:"#64748b"},propertyType:{background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",padding:"0.75rem 1rem",borderRadius:"12px",marginBottom:"1rem",fontSize:"14px",color:"#475569",fontWeight:"600",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},ownerTypeBadge:{fontSize:"12px",padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"6px",fontWeight:"600"},details:{display:"flex",gap:"1.5rem",paddingTop:"1rem",borderTop:"2px solid #f1f5f9",color:"#64748b",fontSize:"14px",marginBottom:"1rem"},detail:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500"},detailIcon:{fontSize:"16px"},amenities:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px solid #f1f5f9",fontSize:"13px",color:"#64748b",lineHeight:"1.5"},postedBy:{fontSize:"13px",color:"#475569",marginTop:"12px",fontWeight:"600",padding:"8px 12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},actionButtons:{display:"flex",gap:"12px",marginTop:"16px",paddingTop:"16px",borderTop:"2px solid #f1f5f9"},editBtn:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"700",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"transform 0.2s"},deleteBtn:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"700",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)",transition:"transform 0.2s"},debugInfo:{marginTop:"12px",padding:"8px",background:"#fef3c7",borderRadius:"6px",fontSize:"11px",color:"#92400e",fontFamily:"monospace"}},Td=({properties:t,loading:r,onPropertyUpdated:a,onPropertyDeleted:s})=>r?o.createElement("div",{style:Er.loading},o.createElement("div",{style:Er.spinner},"🔍"),o.createElement("h3",{style:Er.loadingText},"Finding Amazing Properties..."),o.createElement("p",{style:Er.loadingSubtext},"Please wait while we search the best matches")):!t||t.length===0?o.createElement("div",{style:Er.empty},o.createElement("div",{style:Er.emptyIcon},"🏚️"),o.createElement("h3",{style:Er.emptyTitle},"No properties found"),o.createElement("p",{style:Er.emptySubtitle},"Try adjusting your search criteria or browse different areas")):o.createElement("div",{style:Er.grid},t.map(c=>o.createElement(P0,{key:c.propertyId||c.id,property:c,onPropertyUpdated:a,onPropertyDeleted:s}))),Er={loading:{textAlign:"center",padding:"5rem 2rem",color:"#64748b",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderRadius:"20px",margin:"2rem 0"},spinner:{fontSize:"4rem",marginBottom:"1.5rem",animation:"pulse 2s infinite"},loadingText:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem",color:"#1e293b"},loadingSubtext:{fontSize:"1rem",color:"#64748b",fontWeight:"500"},empty:{textAlign:"center",padding:"4rem 2rem",color:"#64748b",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderRadius:"20px",margin:"2rem 0"},emptyIcon:{fontSize:"5rem",marginBottom:"1.5rem",opacity:"0.7"},emptyTitle:{fontSize:"1.75rem",fontWeight:"700",marginBottom:"0.5rem",color:"#1e293b"},emptySubtitle:{fontSize:"1.1rem",color:"#64748b",fontWeight:"500"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"2rem",marginTop:"1rem"}};if(typeof window<"u"){const t=document.createElement("style");t.textContent=`
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }
  `,document.head.appendChild(t)}const Dh=()=>{const{listingType:t,propertyType:r,areaName:a}=Kh(),s=Tn(),[c,u]=w.useState([]),[p,m]=w.useState(!0),[g,h]=w.useState(null);w.useEffect(()=>{x()},[t,r,a]);const x=async()=>{m(!0),h(null),console.log("🔍 Fetching properties with:",{listingType:t,propertyType:r,areaName:a});try{const M=await fetch(`${$e}/api/properties`);if(!M.ok)throw new Error(`Failed to fetch properties: ${M.status}`);const O=await M.json();console.log("✅ All properties from API:",O);let S=[];Array.isArray(O)?S=O:O&&Array.isArray(O.data)?S=O.data:S=[],console.log(`📊 Total properties found: ${S.length}`);const I=S.filter(A=>{let U=!0;if(t&&A.listingType){const F=A.listingType.toLowerCase(),Q=t.toLowerCase();U=U&&F===Q,console.log(`Listing type check: ${F} === ${Q} = ${U}`)}if(r&&A.type){const F=r.replace(/-/g," ").toLowerCase(),Q=A.type.toLowerCase();console.log(`Type check: "${Q}" vs "${F}"`);const J=Q===F,Ie=Q.includes(F)||F.includes(Q),Re=b(Q,F);U=U&&(J||Ie||Re),console.log(`Type match result: ${U}`)}if(a&&A.areaName){const F=a.replace(/-/g," ").toLowerCase(),Q=A.areaName.toLowerCase();U=U&&Q.includes(F),console.log(`Area check: ${Q} includes ${F} = ${U}`)}return console.log(`Property "${A.title}" - matches: ${U}`),U});console.log(`✅ Filtered properties found: ${I.length}`),u(I)}catch(M){console.error("❌ Error fetching properties:",M),h("Failed to load properties. Please check if the backend is running."),u([])}finally{m(!1)}},b=(M,O)=>{const S={apartment:["flat","apartments"],flat:["apartment","apartments"],villa:["house","independent house","bungalow"],house:["villa","independent house","bungalow"],plot:["land","empty plot"]};if(S[O])return S[O].includes(M);for(const[I,A]of Object.entries(S))if(A.includes(O)&&M===I)return!0;return!1};if(p)return o.createElement("div",{style:pn.loading},o.createElement("div",{style:pn.spinner},"⏳"),o.createElement("p",null,"Loading properties..."));if(g)return o.createElement("div",{style:pn.error},o.createElement("h2",null,"Something went wrong"),o.createElement("p",null,g),o.createElement("button",{onClick:x,style:pn.retryButton},"Try Again"));const v=M=>M.replace(/-/g," ").replace(/\b\w/g,O=>O.toUpperCase()),C=a?`Properties in ${v(a)}`:`${v(r)} for ${t==="sale"?"Sale":"Rent"}`;return o.createElement("div",{style:pn.container},o.createElement("button",{onClick:()=>s(-1),style:pn.backButton},"← Back"),o.createElement("h1",{style:pn.title},C),o.createElement("p",{style:pn.count},c.length," properties found"),o.createElement(Td,{properties:c,loading:p}),c.length===0&&!p&&o.createElement("div",{style:pn.emptyContainer},o.createElement("div",{style:pn.emptyIcon},"🏠"),o.createElement("h3",{style:pn.emptyTitle},"No properties found"),o.createElement("p",{style:pn.emptyText},"We couldn't find any ",v(r)," properties for"," ",t==="sale"?"sale":"rent",a&&` in ${v(a)}`,"."),o.createElement("div",{style:pn.buttonGroup},o.createElement("button",{onClick:()=>s("/"),style:pn.browseButton},"Browse All Properties"),o.createElement("button",{onClick:x,style:pn.retryButton},"Refresh Search"))))},pn={container:{maxWidth:1200,margin:"0 auto",padding:"24px"},loading:{textAlign:"center",padding:"80px 20px"},spinner:{fontSize:"64px",marginBottom:"24px"},error:{textAlign:"center",padding:"80px 20px",backgroundColor:"#fef2f2",borderRadius:"16px",border:"2px solid #fecaca"},buttonGroup:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px",flexWrap:"wrap"},retryButton:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer"},backButton:{padding:"10px 20px",borderRadius:"8px",background:"#6b7280",color:"white",border:"none",cursor:"pointer",marginBottom:"20px",fontSize:"14px",fontWeight:500},title:{fontSize:"32px",fontWeight:"700",color:"#111827",marginBottom:"8px"},count:{fontSize:"16px",color:"#6b7280",marginBottom:"24px"},emptyContainer:{textAlign:"center",padding:"80px 20px",backgroundColor:"#f9fafb",borderRadius:"16px",border:"2px dashed #e5e7eb"},emptyIcon:{fontSize:"64px",marginBottom:"24px"},emptyTitle:{fontSize:"24px",fontWeight:700,color:"#111827",marginBottom:"12px"},emptyText:{fontSize:"16px",color:"#6b7280",marginBottom:"24px",maxWidth:"500px",margin:"0 auto 24px"},browseButton:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer"}},fT=({onSearchResults:t,onSearchStart:r,onReset:a})=>{const[s,c]=w.useState({propertyType:"",minPrice:"",maxPrice:"",city:"Hyderabad",area:"",listingType:"",minBedrooms:"",maxBedrooms:""}),[u,p]=w.useState([]),[m,g]=w.useState([]),[h,x]=w.useState(!1),[b,v]=w.useState({types:"loading...",areas:"loading..."});w.useEffect(()=>{C(),M()},[]);const C=async()=>{console.log("🔍 Loading property types...");try{const A=await fetch(`${$e}/api/property-types`);if(console.log("Response status:",A.status),!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const U=await A.json();console.log("✅ Property Types Response:",U),U&&U.success&&U.data?(console.log("✅ Setting",U.data.length,"property types"),p(U.data),v(F=>({...F,types:`Loaded ${U.data.length} types`}))):(console.error("❌ Invalid response structure:",U),v(F=>({...F,types:"Invalid response"})))}catch(A){console.error("❌ Error loading property types:",A),v(U=>({...U,types:`Error: ${A.message}`}))}},M=async()=>{console.log("🔍 Loading areas...");try{const A=await fetch(`${$e}/api/areas?city=Hyderabad`);if(console.log("Response status:",A.status),!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const U=await A.json();console.log("✅ Areas Response:",U),U&&U.success&&U.data?(console.log("✅ Setting",U.data.length,"areas"),g(U.data),v(F=>({...F,areas:`Loaded ${U.data.length} areas`}))):(console.error("❌ Invalid response structure:",U),v(F=>({...F,areas:"Invalid response"})))}catch(A){console.error("❌ Error loading areas:",A),v(U=>({...U,areas:`Error: ${A.message}`}))}},O=A=>{const{name:U,value:F}=A.target;c(Q=>({...Q,[U]:F}))},S=async A=>{A.preventDefault(),x(!0),r();try{const U={...s,minPrice:s.minPrice?parseFloat(s.minPrice):null,maxPrice:s.maxPrice?parseFloat(s.maxPrice):null,minBedrooms:s.minBedrooms?parseInt(s.minBedrooms):null,maxBedrooms:s.maxBedrooms?parseInt(s.maxBedrooms):null,propertyType:s.propertyType||null,area:s.area||null,listingType:s.listingType||null},F=await fetch(`${$e}/api/properties/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const Q=await F.json();Q.success&&t(Q.data)}catch(U){console.error("Error searching properties:",U),t([])}finally{x(!1)}},I=()=>{c({propertyType:"",minPrice:"",maxPrice:"",city:"Hyderabad",area:"",listingType:"",minBedrooms:"",maxBedrooms:""}),a()};return o.createElement("div",{style:Xe.container},o.createElement("div",{style:Xe.header},o.createElement("h2",{style:Xe.title},"🔍 Find Your Perfect Property"),o.createElement("p",{style:Xe.subtitle},"Search through thousands of properties in Hyderabad")),o.createElement("form",{onSubmit:S,style:Xe.form},o.createElement("div",{style:Xe.grid},o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"🏠"),"Property Type (",u.length," types loaded)"),o.createElement("select",{name:"propertyType",value:s.propertyType,onChange:O,style:Xe.select},o.createElement("option",{value:""},"All Types"),u.map(A=>o.createElement("option",{key:A.propertyTypeId,value:A.typeName},A.typeName)))),o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"📋"),"Listing Type"),o.createElement("select",{name:"listingType",value:s.listingType,onChange:O,style:Xe.select},o.createElement("option",{value:""},"All Listings"),o.createElement("option",{value:"sale"},"For Sale"),o.createElement("option",{value:"rent"},"For Rent"))),o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"📍"),"Area (",m.length," areas loaded)"),o.createElement("select",{name:"area",value:s.area,onChange:O,style:Xe.select},o.createElement("option",{value:""},"All Areas"),m.map(A=>o.createElement("option",{key:A.areaId,value:A.areaName},A.areaName," (",A.pincode,")")))),o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"💰"),"Min Price (₹)"),o.createElement("input",{type:"number",name:"minPrice",placeholder:"Minimum Price",value:s.minPrice,onChange:O,style:Xe.input,min:"0"})),o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"💰"),"Max Price (₹)"),o.createElement("input",{type:"number",name:"maxPrice",placeholder:"500000000",value:s.maxPrice,onChange:O,style:Xe.input,min:"0"})),o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"🛏️"),"Min Bedrooms"),o.createElement("input",{type:"number",name:"minBedrooms",placeholder:"1",value:s.minBedrooms,onChange:O,style:Xe.input,min:"0",max:"10"})),o.createElement("div",{style:Xe.formGroup},o.createElement("label",{style:Xe.label},o.createElement("span",{style:Xe.labelIcon},"🛏️"),"Max Bedrooms"),o.createElement("input",{type:"number",name:"maxBedrooms",placeholder:"2",value:s.maxBedrooms,onChange:O,style:Xe.input,min:"0",max:"10"}))),o.createElement("div",{style:Xe.actions},o.createElement("button",{type:"button",onClick:I,style:Xe.resetButton},o.createElement("span",{style:Xe.buttonIcon},"🔄"),"Reset Filters"),o.createElement("button",{type:"submit",style:Xe.searchButton,disabled:h},o.createElement("span",{style:Xe.buttonIcon},h?"⏳":"🔍"),h?"Searching...":"Search Properties"))))},Xe={container:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"2.5rem",borderRadius:"24px",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",marginBottom:"3rem",border:"1px solid rgba(255,255,255,0.2)"},header:{textAlign:"center",marginBottom:"2rem"},title:{fontSize:"2rem",marginBottom:"0.5rem",color:"#1e293b",fontWeight:"800"},subtitle:{fontSize:"1.1rem",color:"#64748b",fontWeight:"500"},form:{width:"100%"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},formGroup:{display:"flex",flexDirection:"column"},label:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"14px",fontWeight:"700",color:"#374151"},labelIcon:{fontSize:"16px"},input:{padding:"14px 16px",borderRadius:"12px",border:"2px solid #e2e8f0",fontSize:"15px",background:"white",fontWeight:"500"},select:{padding:"14px 16px",borderRadius:"12px",border:"2px solid #e2e8f0",fontSize:"15px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},actions:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},resetButton:{padding:"14px 28px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",fontSize:"15px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},searchButton:{padding:"14px 32px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"white",fontSize:"15px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},buttonIcon:{fontSize:"16px"}},N0=({onDealCreated:t,onClose:r})=>{const{user:a}=Gt(),[s,c]=w.useState(1),[u,p]=w.useState(""),[m,g]=w.useState(null),[h,x]=w.useState([]),[b,v]=w.useState(null),[C,M]=w.useState(""),[O,S]=w.useState(!1),[I,A]=w.useState(null),[U,F]=w.useState(!1),[Q,J]=w.useState({}),[Ie,Re]=w.useState(null);w.useEffect(()=>{if(a?.role!=="AGENT"&&a?.role!=="ADMIN"){A("❌ Only agents can create deals"),setTimeout(r,2e3);return}const ae=document.createElement("style");return ae.textContent=`
      @keyframes slideUp {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .deal-modal-backdrop { animation: fadeIn 0.3s ease-out; }
      .deal-modal-content { animation: slideUp 0.4s ease-out; }
    `,document.head.appendChild(ae),()=>document.head.removeChild(ae)},[a,r]);const W=async ae=>{if(!(!ae||ae.length!==10)){F(!0);try{const Z=await fetch(`${$e}/api/users/search?phone=${ae}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(Z.ok){const T=await Z.json(),j=T.success?T.data:T;if(j&&j.id){g(j);const P=await(await fetch(`${$e}/api/properties`)).json(),K=Array.isArray(P)?P:P.data||[];x(K),await _(j.id),c(2)}else A("Buyer not found with this phone number.")}else A("Error searching for buyer. Please try again.")}catch(Z){A("Error: "+Z.message)}finally{F(!1)}}},_=async ae=>{try{const Z=await fetch(`${$e}/api/deals/buyer/${ae}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(Z.ok){const T=await Z.json();let j=[];Array.isArray(T)?j=T:(T.success&&Array.isArray(T.data)||T.data&&Array.isArray(T.data))&&(j=T.data);const E={};j.forEach(P=>{const K=P.property?.id||P.propertyId;K&&(E[K]=P)}),J(E)}}catch(Z){console.error("Error fetching existing deals:",Z),J({})}},fe=ae=>{const Z=ae.target.value.replace(/\D/g,"");p(Z),A(null),Z.length===10&&W(Z)},ge=async ae=>{if(!m||!ae||!C){A("Please enter deal price");return}S(!0),A(null);try{const Z=await fetch(`${$e}/api/deals/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({propertyId:ae,buyerId:m.id,agentId:a.id,agreedPrice:parseFloat(C)})}),T=await Z.json();T.success||Z.ok?(alert("✅ Deal created successfully!"),t&&t(),r()):A(T.message||"Failed to create deal")}catch(Z){A("Error: "+Z.message)}finally{S(!1)}},q=ae=>Q[ae]||Q[ae?.toString()],oe=()=>{Re(null),m?.id&&_(m.id)},X=ae=>ae?Number(ae).toLocaleString("en-IN"):"0";return a?.role!=="AGENT"&&a?.role!=="ADMIN"?o.createElement("div",{style:He.backdrop,onClick:r},o.createElement("div",{style:He.container,onClick:ae=>ae.stopPropagation()},o.createElement("button",{style:He.closeBtn,onClick:r},"×"),o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#dc2626"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"❌"),o.createElement("h2",null,"Access Denied"),o.createElement("p",null,"Only agents can create deals")))):o.createElement(o.Fragment,null,Ie&&o.createElement(I0,{deal:Ie,onClose:oe}),o.createElement("div",{style:He.backdrop,className:"deal-modal-backdrop",onClick:r},o.createElement("div",{style:He.container,className:"deal-modal-content",onClick:ae=>ae.stopPropagation()},o.createElement("button",{style:He.closeBtn,onClick:r},"×"),o.createElement("h1",{style:He.title},"📋 Create New Deal"),o.createElement("div",{style:He.agentInfo},o.createElement("span",{style:{fontWeight:"600"}},"📊 Agent ID: ",a?.id)),I&&o.createElement("div",{style:He.error},"❌ ",I),s===2&&b&&q(b.id||b.propertyId)&&o.createElement("div",{style:He.dealExistsError},"❌ Deal already exists for this property and buyer"),s===1?o.createElement("div",{style:He.step1},o.createElement("div",{style:He.section},o.createElement("h2",{style:He.sectionTitle},"Step 1: Find Buyer"),o.createElement("p",{style:He.sectionSubtitle},"Enter the buyer's mobile number to search for them"),o.createElement("div",{style:He.formGroup},o.createElement("label",{style:He.label},"📱 Buyer Mobile Number *"),o.createElement("input",{type:"tel",placeholder:"Enter 10-digit mobile number",value:u,onChange:fe,maxLength:"10",pattern:"[0-9]{10}",style:He.input})),o.createElement("div",{style:He.hint},"ℹ️ The buyer must be registered in the system with this phone number."))):o.createElement("div",{style:He.step2},o.createElement("div",{style:He.buyerInfo},o.createElement("h3",{style:He.buyerName},"✅ ",m?.firstName," ",m?.lastName),o.createElement("p",{style:He.buyerPhone},"📱 ",m?.mobileNumber),o.createElement("p",{style:He.buyerEmail},"📧 ",m?.email||"N/A"),o.createElement("button",{onClick:()=>{c(1),g(null),x([]),v(null),p(""),M("")},style:He.changeBuyerBtn},"🔄 Change Buyer")),o.createElement("h2",{style:He.sectionTitle},"Step 2: Select Property & Price"),o.createElement("p",{style:He.sectionSubtitle},"Choose a property and enter deal price (",h.length," available)"),h.length>0?o.createElement("div",{style:He.propertiesGrid},h.map(ae=>{const Z=ae.id||ae.propertyId,T=b?.id===Z||b?.propertyId===Z,j=q(Z);return o.createElement("div",{key:Z,style:{...He.propertyItem,borderColor:T?"#3b82f6":"#e2e8f0",backgroundColor:T?"#eff6ff":"white",boxShadow:T?"0 4px 12px rgba(59, 130, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",opacity:j?.7:1},onClick:()=>!j&&v(ae)},o.createElement("img",{src:ae.imageUrl||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",alt:ae.title,style:He.propertyImage}),o.createElement("div",{style:He.propertyDetails},o.createElement("h4",{style:He.propertyTitle},ae.title),o.createElement("p",{style:He.propertyPrice},"💰 ₹",X(ae.price)),o.createElement("p",{style:He.propertySpecs},"🛏️ ",ae.bedrooms," | 🚿 ",ae.bathrooms," | 📐 ",ae.areaSqft||"N/A"," sqft"),o.createElement("p",{style:He.propertyLocation},"📍 ",ae.areaName||ae.city),ae.user&&o.createElement("div",{style:He.sellerInfo},o.createElement("p",{style:He.sellerLabel},"🏠 Seller: ",ae.user.firstName," ",ae.user.lastName),o.createElement("p",{style:He.sellerPhone},"📱 ",ae.user.mobileNumber||"N/A")),o.createElement("div",{style:He.agentInfoSmall},o.createElement("p",{style:He.agentLabel},"📊 Agent ID: ",a.id)),j?o.createElement(o.Fragment,null,o.createElement("div",{style:He.dealExistsBadge},"✅ Deal exists - Stage: ",j.stage),o.createElement("button",{onClick:E=>{E.stopPropagation(),Re(j)},style:He.viewDealBtn},"👁️ View Deal")):T?o.createElement(o.Fragment,null,o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"4px",color:"#1e293b"}},"💰 Deal Price (₹) *"),o.createElement("input",{type:"number",placeholder:"Enter agreed price",value:C,onChange:E=>M(E.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}}),C&&o.createElement("div",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"}},"₹",X(C))),o.createElement("button",{onClick:E=>{E.stopPropagation(),ge(Z)},disabled:O||!C,style:{...He.selectBtn,opacity:O||!C?.6:1}},O?"⏳ Creating...":"✅ Create Deal")):null))})):o.createElement("div",{style:He.noProperties},o.createElement("p",null,"🔭 No properties available to create a deal"))),s===1&&o.createElement("div",{style:He.buttonGroup},o.createElement("button",{onClick:r,style:{...He.secondaryButton,flex:"0 1 auto"}},"Cancel"),o.createElement("button",{onClick:()=>{u.length===10?W(u):A("Please enter a valid 10-digit phone number")},disabled:O||U||u.length!==10,style:{...He.primaryButton,opacity:O||U||u.length!==10?.6:1}},U?"🔍 Searching...":"🔍 Search Buyer")),o.createElement("div",{style:He.noteBox},o.createElement("strong",null,"ℹ️ REQUIREMENT:")," Only agents can create deals. This deal will show:",o.createElement("ul",{style:{margin:"8px 0",paddingLeft:"20px"}},o.createElement("li",null,"✅ Agent ID: ",a?.id),o.createElement("li",null,"✅ Buyer Mobile: From Step 1"),o.createElement("li",null,"✅ Seller Mobile: From property details"),o.createElement("li",null,"✅ Deal Price: From Step 2"))))))},He={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,overflowY:"auto",backdropFilter:"blur(2px)"},container:{backgroundColor:"white",borderRadius:"16px",padding:"32px",width:"90%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px rgba(0,0,0,0.3)",marginTop:"20px",marginBottom:"20px"},closeBtn:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",transition:"color 0.2s",padding:0,width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},title:{fontSize:"28px",fontWeight:"800",color:"#1e293b",marginBottom:"12px",marginTop:0},agentInfo:{padding:"12px 16px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fcd34d",marginBottom:"16px",fontSize:"13px",color:"#92400e"},error:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fecaca",fontWeight:"500"},dealExistsError:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"2px solid #fecaca",fontWeight:"600",fontSize:"15px",textAlign:"center"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",marginBottom:"8px",marginTop:0},sectionSubtitle:{fontSize:"14px",color:"#64748b",marginBottom:"16px",marginTop:0},formGroup:{marginBottom:"16px"},label:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#1e293b"},input:{width:"100%",padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",transition:"border-color 0.2s"},hint:{padding:"12px",backgroundColor:"#fef3c7",borderRadius:"8px",fontSize:"13px",color:"#92400e",marginBottom:"16px",border:"1px solid #fcd34d"},buttonGroup:{display:"flex",gap:"12px",marginTop:"20px"},primaryButton:{flex:1,padding:"14px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"background 0.2s, transform 0.2s",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},secondaryButton:{padding:"14px 20px",backgroundColor:"#f1f5f9",color:"#475569",border:"1px solid #e2e8f0",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},buyerInfo:{padding:"20px",backgroundColor:"#d1fae5",border:"2px solid #10b981",borderRadius:"12px",marginBottom:"24px"},buyerName:{margin:0,marginBottom:"8px",fontSize:"18px",fontWeight:"700",color:"#065f46"},buyerPhone:{margin:"0 0 4px 0",fontSize:"14px",color:"#047857",fontWeight:"600"},buyerEmail:{margin:"0 0 12px 0",fontSize:"14px",color:"#047857"},changeBuyerBtn:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"background 0.2s"},propertiesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",marginTop:"16px"},propertyItem:{border:"2px solid #e2e8f0",borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"all 0.2s"},propertyImage:{width:"100%",height:"180px",objectFit:"cover"},propertyDetails:{padding:"16px"},propertyTitle:{margin:0,marginBottom:"8px",fontSize:"14px",fontWeight:"700",color:"#1e293b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},propertyPrice:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"700",color:"#10b981"},propertySpecs:{margin:"0 0 4px 0",fontSize:"12px",color:"#64748b"},propertyLocation:{margin:"0 0 12px 0",fontSize:"12px",color:"#64748b"},sellerInfo:{padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"6px",border:"1px solid #bae6fd",marginBottom:"8px"},sellerLabel:{margin:"0 0 4px 0",fontSize:"12px",fontWeight:"600",color:"#0369a1"},sellerPhone:{margin:0,fontSize:"12px",color:"#0369a1"},agentInfoSmall:{padding:"8px 12px",backgroundColor:"#fef3c7",borderRadius:"6px",border:"1px solid #fcd34d",marginBottom:"12px"},agentLabel:{margin:0,fontSize:"11px",fontWeight:"600",color:"#92400e"},dealExistsBadge:{padding:"8px 12px",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:"6px",fontSize:"12px",fontWeight:"600",marginBottom:"12px",border:"1px solid #6ee7b7",textAlign:"center"},selectBtn:{width:"100%",padding:"10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"13px",transition:"background 0.2s"},viewDealBtn:{width:"100%",padding:"10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"13px",transition:"background 0.2s"},noProperties:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0"},step1:{marginTop:"16px"},step2:{marginTop:"16px"},noteBox:{backgroundColor:"#fef3c7",border:"1px solid #fcd34d",padding:"12px 16px",borderRadius:"8px",fontSize:"13px",color:"#92400e",marginTop:"20px"}};function mT(){const{isAuthenticated:t,user:r}=Gt(),[a,s]=w.useState([]),[c,u]=w.useState([]),[p,m]=w.useState([]),[g,h]=w.useState([]),[x,b]=w.useState([]),[v,C]=w.useState(!1),[M,O]=w.useState(!1),[S,I]=w.useState("featured"),[A,U]=w.useState(null),[F,Q]=w.useState(!1),[J,Ie]=w.useState(null),Re=Tn(),W=[{name:"Gachibowli",emoji:"🏢"},{name:"HITEC City",emoji:"🏢"},{name:"Madhapur",emoji:"🌆"},{name:"Kondapur",emoji:"🏙️"},{name:"Kukatpally",emoji:"🏘️"},{name:"Miyapur",emoji:"🌇"},{name:"Jubilee Hills",emoji:"🛒"}],_=ye=>{if(!ye)return[];if(ye.success){const je=ye.data;if(Array.isArray(je))return je;if(je&&typeof je=="object")return[je]}return Array.isArray(ye)?ye:[]},fe=async()=>{try{const ye=await uT();if(ye&&ye.success){let je=ye.data;t&&r?.id&&(je=je.sort((Mn,yn)=>{const An=Mn.user?.id===r.id,it=yn.user?.id===r.id;return An&&!it?-1:!An&&it?1:0})),s(je),C(!1)}}catch(ye){console.error("Error loading properties:",ye)}},ge=async()=>{if(!t||!r?.id){u([]);return}try{const ye=await fetch(`${$e}/api/properties/user/${r.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(ye.ok){const je=await ye.json(),yn=(Array.isArray(je)?je:je.data||[]).filter(An=>An.user?.id===r.id);u(yn)}else u([])}catch(ye){console.error("Error loading my properties:",ye),u([])}},q=async()=>{if(!t||!r?.id){console.log("Not authenticated, clearing deals"),h([]);return}try{console.log("Starting fetchMyDeals for user:",r.id,"Role:",r.role);const ye=[],je=new Set,Mn=localStorage.getItem("authToken"),yn=(it,Vt)=>{if(!Array.isArray(it)){console.log(`No deals from ${Vt} (not an array)`);return}console.log(`Adding ${it.length} deals from ${Vt}`),it.forEach(Ze=>{const Pt=Ze.dealId||Ze.id;Pt&&!je.has(Pt)&&(ye.push(Ze),je.add(Pt))})};try{console.log(`Fetching deals for role: ${r.role}, userId: ${r.id}`);const it=await fetch(`${$e}/api/deals/my-deals?userRole=${r.role}&userId=${r.id}`,{headers:{Authorization:`Bearer ${Mn}`}});if(it.ok){const Vt=await it.json();console.log(`Role response for ${r.role}:`,Vt);const Ze=_(Vt);yn(Ze,`role ${r.role}`)}else console.error(`Failed to fetch ${r.role} deals:`,it.status)}catch(it){console.error("Error fetching role-based deals:",it)}if(r.role!=="AGENT"&&r.role!=="ADMIN")try{console.log("Starting fetchMyDeals for user:",r.id,"Role:",r.role);const it=[],Vt=new Set,Ze=localStorage.getItem("authToken"),Pt=(ct,Yt)=>{if(!Array.isArray(ct)){console.log(`No deals from ${Yt} (not an array)`);return}console.log(`Adding ${ct.length} deals from ${Yt}`),ct.forEach(Xt=>{const Qr=Xt.dealId||Xt.id;Qr&&!Vt.has(Qr)&&(it.push(Xt),Vt.add(Qr))})};try{console.log(`Fetching deals for role: ${r.role}, userId: ${r.id}`);const ct=await fetch(`${$e}/api/deals/my-deals?userRole=${r.role}&userId=${r.id}`,{headers:{Authorization:`Bearer ${Ze}`}});if(ct.ok){const Yt=await ct.json();console.log(`Role response for ${r.role}:`,Yt);const Xt=_(Yt);Pt(Xt,`role ${r.role}`)}else console.error(`Failed to fetch ${r.role} deals:`,ct.status)}catch(ct){console.error("Error fetching role-based deals:",ct)}if(r.role!=="AGENT"&&r.role!=="ADMIN"){try{console.log("Fetching deals as BUYER");const ct=await fetch(`${$e}/api/deals/my-deals?userRole=BUYER&userId=${r.id}`,{headers:{Authorization:`Bearer ${Ze}`}});if(ct.ok){const Yt=await ct.json();console.log("Buyer response:",Yt);const Xt=_(Yt);Pt(Xt,"BUYER")}else console.error("Failed to fetch BUYER deals:",ct.status)}catch(ct){console.error("Error fetching buyer deals:",ct)}try{console.log("Fetching deals as SELLER");const ct=await fetch(`${$e}/api/deals/my-deals?userRole=SELLER&userId=${r.id}`,{headers:{Authorization:`Bearer ${Ze}`}});if(ct.ok){const Yt=await ct.json();console.log("Seller response:",Yt);const Xt=_(Yt);Pt(Xt,"SELLER")}else console.error("Failed to fetch SELLER deals:",ct.status)}catch(ct){console.error("Error fetching seller deals:",ct)}}console.log(`Total deals after all fetches: ${it.length}`),h(it)}catch(it){console.error("Error loading deals:",it),h([])}const An=async()=>{if(!t||!r?.id){m([]);return}try{console.log("Fetching deals as SELLER");const it=await fetch(`${$e}/api/deals/my-deals?userRole=SELLER&userId=${r.id}`,{headers:{Authorization:`Bearer ${Mn}`}});if(it.ok){const Vt=await it.json();console.log("Seller response:",Vt);const Ze=_(Vt);yn(Ze,"SELLER")}else console.error("Failed to fetch SELLER deals:",it.status)}catch(it){console.error("Error fetching seller deals:",it)}};console.log(`Total deals after all fetches: ${ye.length}`),h(ye)}catch(ye){console.error("Error loading deals:",ye),h([])}},oe=async()=>{if(!t||!r?.id){m([]);return}try{const ye=await fetch(`${$e}/api/properties/user/${r.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!ye.ok){m([]);return}const je=await ye.json(),Mn=Array.isArray(je)?je:je.data||[],yn=new Set(Mn.filter(Ze=>Ze.user?.id===r.id).map(Ze=>Ze.id||Ze.propertyId));if(yn.size===0){m([]);return}let An=[];if(r.role==="AGENT"||r.role==="ADMIN")try{const Ze=await fetch(`${$e}/api/deals/agent/${r.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(Ze.ok){const Pt=await Ze.json(),ct=Array.isArray(Pt)?Pt:Pt.data||[];An=[...An,...ct]}}catch(Ze){console.warn("Error fetching agent deals:",Ze)}const it=[],Vt=new Set;An.forEach(Ze=>{const Pt=Ze.property?.id||Ze.propertyId;Pt&&yn.has(Pt)&&!Vt.has(Pt)&&Ze.property&&(Vt.add(Pt),it.push({...Ze.property,dealStage:Ze.stage,dealId:Ze.id,dealCreatedAt:Ze.createdAt,buyerName:Ze.buyer?`${Ze.buyer.firstName} ${Ze.buyer.lastName}`:"N/A",buyerPhone:Ze.buyer?.mobileNumber||"N/A"}))}),m(it)}catch(ye){console.error("Error loading deals properties:",ye),m([])}};w.useEffect(()=>{fe(),t&&r?.id?(ge(),q(),oe()):(u([]),h([]),m([]),I("featured"))},[t,r?.id,r?.role]);const X=ye=>{b(ye),C(!0),O(!1),I("featured"),U(null)},ae=()=>{O(!0)},Z=()=>{C(!1),b([]),I("featured"),U(null),fe()},T=ye=>{U(ye.name),C(!1),I("featured")},j=()=>A?a.filter(ye=>{const je=(ye.areaName||ye.area?.areaName||"").toLowerCase(),Mn=A.toLowerCase();return je.includes(Mn)}):a,E=()=>{fe(),t&&r?.id&&(ge(),q(),oe())},P=()=>{fe(),t&&r?.id&&(ge(),q(),oe())},K=()=>{Q(!0)},ue=S==="my-deals"&&t&&r&&(r.role==="AGENT"||r.role==="ADMIN"),he=v?x:A?j():S==="my-properties"?c:S==="my-deals"?g:S==="property-deals"?p:a,Le=p.length,Ee=g.length,Ye=ye=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[ye]||"#6b7280",Ue=ye=>ye?typeof ye=="number"?ye.toLocaleString("en-IN"):String(ye):"N/A",Ke={banner:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"60px 40px",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"80px",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.15)",borderRadius:20,marginBottom:"20px",maxWidth:"1400px"},bannerContent:{flex:1},bannerTitle:{fontSize:"48px",fontWeight:"900",margin:"0 0 16px 0",lineHeight:"1.2",color:"white",fontFamily:"'Poppins', sans-serif"},bannerSubtitle:{fontSize:"16px",opacity:.95,margin:"0 0 24px 0",color:"rgba(255, 255, 255, 0.95)",fontFamily:"'Inter', sans-serif",lineHeight:"1.6"},bannerFeatures:{display:"flex",flexDirection:"column",gap:"14px"},bannerFeature:{display:"flex",alignItems:"flex-start",gap:"12px",fontSize:"15px",fontFamily:"'Inter', sans-serif",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},checkmark:{fontSize:"20px",fontWeight:"bold",marginTop:"2px",flexShrink:0},bannerIllustration:{flex:1,fontSize:"200px",textAlign:"center",opacity:.85,display:"flex",alignItems:"center",justifyContent:"center",animation:"logoFloat .5s ease-in-out infinite"}};return o.createElement(o.Fragment,null,o.createElement("div",{style:B.container},o.createElement("section",{style:Ke.banner},o.createElement("div",{style:Ke.bannerContent},o.createElement("h2",{style:Ke.bannerTitle},"How PropertyDeals Works"),o.createElement("p",{style:Ke.bannerSubtitle},"Simple, transparent, and hassle-free property deals"),o.createElement("div",{style:Ke.bannerFeatures},o.createElement("div",{style:Ke.bannerFeature},o.createElement("span",{style:Ke.checkmark},"✓"),o.createElement("span",null,o.createElement("strong",null,"No Subscription Required")," - Connect for free, no hidden charges")),o.createElement("div",{style:Ke.bannerFeature},o.createElement("span",{style:Ke.checkmark},"✓"),o.createElement("span",null,o.createElement("strong",null,"Buyer Connects to Agent")," - Direct connection, transparent communication")),o.createElement("div",{style:Ke.bannerFeature},o.createElement("span",{style:Ke.checkmark},"✓"),o.createElement("span",null,o.createElement("strong",null,"End-to-End Documentation")," - Agent handles all legal paperwork & registration")),o.createElement("div",{style:Ke.bannerFeature},o.createElement("span",{style:Ke.checkmark},"✓"),o.createElement("span",null,o.createElement("strong",null,"Only 0.5% Fee")," - Charged equally from both buyer and seller, that's it!")))),o.createElement("div",{style:Ke.bannerIllustration},"🤝")),o.createElement("section",{style:B.heroSection},o.createElement("div",{style:B.heroContent},o.createElement("h1",{style:B.mainTitle},"Find Your ",o.createElement("span",{style:B.titleGradient}," Dream Home ")," ","🏡"),o.createElement("p",{style:B.heroSubtitle},"Discover the perfect property that matches your lifestyle and budget.")),o.createElement("div",{style:B.heroGraphics},o.createElement("div",{style:B.floatingElement1},"✨"),o.createElement("div",{style:B.floatingElement2},"🏠"),o.createElement("div",{style:B.floatingElement3},"🌆"))),o.createElement("section",{style:B.searchSection},o.createElement(fT,{onSearchResults:X,onSearchStart:ae,onReset:Z})),o.createElement("section",{style:B.section},o.createElement("h2",{style:B.sectionTitle},o.createElement("span",{style:B.sectionIcon},"📍")," Popular Areas in Hyderabad"),o.createElement("div",{style:B.areasGrid},W.map(ye=>o.createElement("button",{key:ye.name,onClick:()=>T(ye),style:{...B.areaButton,backgroundColor:A===ye.name?"#667eea":"white",color:A===ye.name?"white":"#334155",borderColor:A===ye.name?"#667eea":"#e2e8f0",boxShadow:A===ye.name?"0 4px 12px rgba(102, 126, 234, 0.3)":"none"}},o.createElement("span",{style:B.areaEmoji},ye.emoji),ye.name)))),o.createElement("section",{style:B.propertiesSection},t&&!v&&!A&&o.createElement("div",{style:B.tabContainer},o.createElement("button",{onClick:()=>I("featured"),style:{...B.tab,...S==="featured"?B.activeTab:{}}},"⭐ Featured Properties (",a.length,")"),c.length>0&&o.createElement("button",{onClick:()=>I("my-properties"),style:{...B.tab,...S==="my-properties"?B.activeTab:{}}},"📄 My Uploaded Properties (",c.length,")"),Ee>0&&o.createElement("button",{onClick:()=>I("my-deals"),style:{...B.tab,...S==="my-deals"?B.activeTab:{}}},"📊 My Deals (",Ee,")"),Le>0&&o.createElement("button",{onClick:()=>I("property-deals"),style:{...B.tab,...S==="property-deals"?B.activeTab:{}}},"🏠 Deals on My Properties (",Le,")")),o.createElement("div",{style:B.sectionHeader},o.createElement("h2",{style:B.sectionTitle},o.createElement("span",{style:B.sectionIcon},v?"🔍":A?"📍":S==="my-properties"?"📄":S==="my-deals"?"📊":S==="property-deals"?"🏠":"⭐"),v?`Search Results (${x.length} found)`:A?`Properties in ${A} (${j().length} found)`:S==="my-properties"?`My Uploaded Properties (${c.length} found)`:S==="my-deals"?`My Deals (${g.length} found)`:S==="property-deals"?`Deals on My Properties (${p.length} found)`:`Featured Properties (${a.length} found)`),o.createElement("div",{style:{display:"flex",gap:"12px",alignItems:"center"}},(v||A)&&o.createElement("button",{onClick:Z,style:B.clearSearchBtn},"✕ Clear Filter"),ue&&o.createElement("button",{onClick:K,style:{padding:"12px 24px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.2s, transform 0.2s",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"}},"➕ Create New Deal"))),S==="my-deals"&&g.length===0?o.createElement("div",{style:B.emptyState},o.createElement("div",{style:B.emptyIcon},"🔭"),o.createElement("h3",{style:B.emptyTitle},"No Deals Yet"),o.createElement("p",{style:B.emptyText},"You don't have any deals yet.")):S==="my-deals"?o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"}},g.map(ye=>o.createElement("div",{key:ye.dealId||ye.id,style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.2s"},onClick:()=>Re(`/property/${ye.propertyId||ye.property?.id}`),onMouseEnter:je=>{je.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",je.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:je=>{je.currentTarget.style.boxShadow="none",je.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"12px",backgroundColor:Ye(ye.stage||ye.currentStage)}},ye.stage||ye.currentStage),o.createElement("h4",{style:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"}},ye.propertyTitle||"Property"),ye.propertyCity&&o.createElement("p",{style:{fontSize:"13px",color:"#64748b",margin:"4px 0"}},"📍 ",ye.propertyCity),ye.propertyPrice&&o.createElement("p",{style:{color:"#667eea",fontWeight:"700",margin:"8px 0"}},"💵 ₹",Ue(ye.propertyPrice)),ye.agreedPrice&&o.createElement("p",{style:{color:"#10b981",fontWeight:"700",margin:"4px 0"}},"✅ Agreed: ₹",Ue(ye.agreedPrice)),o.createElement("div",{style:{borderTop:"1px solid #e2e8f0",margin:"12px 0",paddingTop:"12px"}},o.createElement("p",{style:{fontSize:"12px",color:"#64748b",margin:"4px 0"}},"👤 Buyer: ",ye.buyerName||"N/A"),o.createElement("p",{style:{fontSize:"12px",color:"#64748b",margin:"4px 0"}},"🏠 Seller: ",ye.sellerName||"N/A"),o.createElement("p",{style:{fontSize:"12px",color:"#64748b",margin:"4px 0"}},"📊 Agent: ",ye.agentName||"N/A")),o.createElement("p",{style:{fontSize:"11px",color:"#94a3b8",margin:"12px 0 0 0"}},new Date(ye.createdAt).toLocaleDateString()),o.createElement("button",{onClick:je=>{je.stopPropagation(),Ie(ye)},style:{width:"100%",marginTop:"12px",padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:je=>je.target.style.backgroundColor="#059669",onMouseLeave:je=>je.target.style.backgroundColor="#10b981"},"📋 View Deal Details")))):S==="property-deals"&&p.length===0?o.createElement("div",{style:B.emptyState},o.createElement("div",{style:B.emptyIcon},"🔭"),o.createElement("h3",{style:B.emptyTitle},"No Deals on Your Properties"),o.createElement("p",{style:B.emptyText},"No one has shown interest in your properties yet.")):o.createElement(Td,{properties:he,loading:M,onPropertyUpdated:E,onPropertyDeleted:P})),o.createElement("section",{style:B.statsSection},o.createElement("div",{style:B.statsGrid},o.createElement("div",{style:B.statCard},o.createElement("div",{style:B.statIcon},"🏠"),o.createElement("div",{style:B.statNumber},"10,000+"),o.createElement("div",{style:B.statLabel},"Properties Listed")),o.createElement("div",{style:B.statCard},o.createElement("div",{style:B.statIcon},"👥"),o.createElement("div",{style:B.statNumber},"50,000+"),o.createElement("div",{style:B.statLabel},"Happy Customers")),o.createElement("div",{style:B.statCard},o.createElement("div",{style:B.statIcon},"🏙️"),o.createElement("div",{style:B.statNumber},"25+"),o.createElement("div",{style:B.statLabel},"Areas Covered")),o.createElement("div",{style:B.statCard},o.createElement("div",{style:B.statIcon},"⭐"),o.createElement("div",{style:B.statNumber},"4.8/5"),o.createElement("div",{style:B.statLabel},"Customer Rating"))))),F&&o.createElement(N0,{onClose:()=>Q(!1),onDealCreated:()=>{Q(!1),fe(),q(),oe(),I("my-deals")}}),J&&o.createElement(aa,{deal:J,onClose:()=>Ie(null),onUpdate:()=>{Ie(null),q()},userRole:r?.role,showOnlyOverview:r?.role==="BUYER"||r?.role==="SELLER"}))}function gT(){const[t,r]=w.useState([]),[a,s]=w.useState(!0),c=Tn(),u=Kr();w.useEffect(()=>{const g=new URLSearchParams(u.search),h=Object.fromEntries(g.entries());p(h)},[u.search]);const p=async g=>{s(!0);try{const h={propertyType:g.propertyType||null,minPrice:g.minPrice?parseFloat(g.minPrice):null,maxPrice:g.maxPrice?parseFloat(g.maxPrice):null,city:g.city||null,area:g.area||null,listingType:g.listingType||null,minBedrooms:g.minBedrooms?parseInt(g.minBedrooms):null,maxBedrooms:g.maxBedrooms?parseInt(g.maxBedrooms):null,isVerified:g.isVerified==="true"?!0:null,ownerType:g.ownerType||null,isReadyToMove:g.isReadyToMove==="true"?!0:null,sortBy:"createdAt",sortOrder:"DESC",page:0,size:50},x=await fetch(`${$e}/api/properties/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const b=await x.json();b.success?r(b.data||[]):r([])}catch(h){console.error("Error fetching properties:",h),r([])}finally{s(!1)}},m=()=>{const g=new URLSearchParams(u.search),h=g.get("propertyType"),x=g.get("listingType"),b=g.get("area");return b?`Properties in ${b}`:h&&x?`${h}s for ${x==="sale"?"Sale":"Rent"}`:x?`Properties for ${x==="sale"?"Sale":"Rent"}`:"Search Results"};return o.createElement("div",{style:B.container},o.createElement("button",{onClick:()=>c("/"),style:B.backButton},o.createElement("span",{style:B.backIcon},"←")," Back to Home"),o.createElement("div",{style:B.pageHeader},o.createElement("h1",{style:B.pageTitle},m()),o.createElement("p",{style:B.pageSubtitle},a?"Searching...":`${t.length} ${t.length===1?"property":"properties"} found`)),!a&&t.length===0?o.createElement("div",{style:B.emptyState},o.createElement("div",{style:B.emptyIcon},"🏚️"),o.createElement("h3",{style:B.emptyTitle},"No properties found"),o.createElement("p",{style:B.emptyText},"Try adjusting your search or browse all properties"),o.createElement("button",{onClick:()=>c("/"),style:B.postBtn},"Browse All Properties")):o.createElement(Td,{properties:t,loading:a}))}function Bh({onPostPropertyClick:t}){const{user:r}=Gt(),[a,s]=w.useState([]),[c,u]=w.useState(!0),[p,m]=w.useState(null),g=Tn();w.useEffect(()=>{if(!r?.id){console.log("❌ No user ID, redirecting to home"),g("/");return}h()},[r,g]);const h=async()=>{if(!r?.id){console.log("❌ Cannot fetch: No user ID"),u(!1);return}u(!0),m(null),console.log("📥 Fetching properties for user ID:",r.id);try{const v=await fetch(`${$e}/api/properties/user/${r.id}`);if(console.log("Response status:",v.status),!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const C=await v.json();console.log("✅ Received data:",C);const M=Array.isArray(C)?C:C.data||[];console.log(`✅ Found ${M.length} properties for user`),s(M)}catch(v){console.error("❌ No properties posted yet!:",v),m(v.message),s([])}finally{u(!1)}},x=()=>{console.log("🔄 Property updated, refreshing list..."),h()},b=()=>{console.log("🔄 Property deleted, refreshing list..."),h()};return c?o.createElement("div",{style:B.container},o.createElement("div",{style:B.loadingContainer},o.createElement("div",{style:B.spinner},"⏳"),o.createElement("h3",null,"Loading your properties..."))):p?o.createElement("div",{style:B.container},o.createElement("div",{style:B.errorContainer},o.createElement("h2",null,"❌ No Properties Posted Yet"),o.createElement("p",null,p),o.createElement("button",{onClick:h,style:B.retryBtn},"Try Again"))):o.createElement("div",{style:B.container},o.createElement("div",{style:B.pageHeader},o.createElement("h1",{style:B.pageTitle},"📁 My Posted Properties"),o.createElement("p",{style:B.pageSubtitle},"Manage and track the properties you've listed")),a.length>0?o.createElement(o.Fragment,null,o.createElement("div",{style:B.statsBar},o.createElement("div",{style:B.statItem},o.createElement("span",{style:B.statLabel},"Total Properties:"),o.createElement("span",{style:B.statValue},a.length)),o.createElement("div",{style:B.statItem},o.createElement("span",{style:B.statLabel},"For Sale:"),o.createElement("span",{style:B.statValue},a.filter(v=>v.listingType==="sale").length)),o.createElement("div",{style:B.statItem},o.createElement("span",{style:B.statLabel},"For Rent:"),o.createElement("span",{style:B.statValue},a.filter(v=>v.listingType==="rent").length)),o.createElement("div",{style:B.statItem},o.createElement("span",{style:B.statLabel},"Verified:"),o.createElement("span",{style:B.statValue},a.filter(v=>v.isVerified).length))),o.createElement("div",{style:B.grid},a.map(v=>o.createElement(P0,{key:v.propertyId||v.id,property:v,onPropertyUpdated:x,onPropertyDeleted:b})))):o.createElement("div",{style:B.emptyState},o.createElement("div",{style:B.emptyIcon},"📭"),o.createElement("h3",{style:B.emptyTitle},"No Properties Posted Yet"),o.createElement("p",{style:B.emptyText},"Start by posting your first property to see it here"),o.createElement("button",{onClick:t,style:B.postBtn},o.createElement("span",{style:B.btnIcon},"📝")," Post Your First Property")))}const Mh=({title:t})=>o.createElement("div",{style:{...B.container,textAlign:"center",padding:"80px 32px"}},o.createElement("h1",{style:B.pageTitle},t),o.createElement("p",{style:B.pageSubtitle},"This page is currently under construction. 🏗️ Please check back later!")),hT=()=>{const{user:t,isAuthenticated:r}=Gt(),a=Tn(),[s,c]=w.useState([]),[u,p]=w.useState([]),[m,g]=w.useState({}),[h,x]=w.useState(!0),[b,v]=w.useState(null),[C,M]=w.useState(!1),[O,S]=w.useState(null),[I,A]=w.useState("active");w.useEffect(()=>{if(!r||!t||t.role!=="AGENT"&&t.role!=="ADMIN"){console.log("❌ Access Denied: Not an agent or admin"),a("/");return}console.log("✅ Agent Dashboard: User authenticated and authorized"),console.log("User Role:",t.role),U()},[t,r,a]);const U=async()=>{x(!0),v(null);const _={Authorization:`Bearer ${localStorage.getItem("authToken")}`};try{console.log("📥 Fetching agent data for user:",t.id);const fe=await fetch(`${$e}/api/deals/agent/${t.id}`,{headers:_});if(fe.ok){const oe=await fe.json();console.log("✅ Full deals response:",oe);let X=[];Array.isArray(oe)?X=oe:(oe.success&&Array.isArray(oe.data)||oe.data&&Array.isArray(oe.data))&&(X=oe.data),console.log("✅ Deals loaded:",X.length),c(X)}else console.error("❌ Deals response not ok:",fe.status),v("Failed to load deals"),c([]);const ge=await fetch(`${$e}/api/agents/${t.id}/all-properties`,{headers:_}).catch(()=>({ok:!1}));if(ge.ok){const oe=await ge.json();console.log("✅ Properties loaded:",oe),p(oe.success?oe.data:Array.isArray(oe)?oe:[])}else console.log("⚠️ Properties endpoint failed"),p([]);const q=await fetch(`${$e}/api/agents/${t.id}/stats`,{headers:_}).catch(()=>({ok:!1}));if(q.ok){const oe=await q.json();console.log("✅ Stats loaded:",oe),g(oe.success?oe.data:{})}else console.log("⚠️ Stats endpoint failed"),g({})}catch(fe){console.error("❌ Error fetching agent data:",fe),v("Failed to load dashboard data")}finally{x(!1)}},F=()=>{console.log("➕ Opening create deal modal"),M(!0)},Q=s.filter(W=>W.stage!=="COMPLETED").length,J=s.filter(W=>W.stage==="COMPLETED").length,Ie=I==="active"?s.filter(W=>W.stage!=="COMPLETED"):I==="completed"?s.filter(W=>W.stage==="COMPLETED"):I==="total"?s:[],Re=()=>{switch(I){case"active":return`📈 Active Deals (${Q})`;case"completed":return`✅ Completed Deals (${J})`;case"properties":return`🏠 Properties Managed (${u.length})`;case"total":return`📊 Total Deals (${s.length})`;default:return"Deals"}};return r?h?o.createElement("div",{style:ze.container},o.createElement("div",{style:ze.loading},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"⏳"),o.createElement("h3",null,"Loading dashboard..."))):o.createElement("div",{style:ze.container},o.createElement("div",{style:ze.header},o.createElement("h1",{style:ze.title},"📊 Agent Dashboard"),o.createElement("p",{style:ze.subtitle},"Manage your deals and properties")),b&&o.createElement("div",{style:ze.error},"❌ ",b),o.createElement("div",{style:ze.statsGrid},o.createElement("div",{style:ze.statCard,onClick:()=>A("active")},o.createElement("div",{style:ze.statIcon},"📈"),o.createElement("div",{style:ze.statLabel},"Active Deals"),o.createElement("div",{style:ze.statValue},Q)),o.createElement("div",{style:ze.statCard,onClick:()=>A("completed")},o.createElement("div",{style:ze.statIcon},"✅"),o.createElement("div",{style:ze.statLabel},"Completed Deals"),o.createElement("div",{style:ze.statValue},J)),o.createElement("div",{style:ze.statCard,onClick:()=>A("properties")},o.createElement("div",{style:ze.statIcon},"🏠"),o.createElement("div",{style:ze.statLabel},"Properties Managed"),o.createElement("div",{style:ze.statValue},u.length)),o.createElement("div",{style:ze.statCard,onClick:()=>A("total")},o.createElement("div",{style:ze.statIcon},"📊"),o.createElement("div",{style:ze.statLabel},"Total Deals"),o.createElement("div",{style:ze.statValue},s.length))),o.createElement("div",{style:ze.createDealSection},o.createElement("div",null,o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1e40af",marginBottom:"4px"}},"➕ Create New Deal"),o.createElement("div",{style:{fontSize:"12px",color:"#64748b"}},"Create a deal for a buyer interested in a property")),o.createElement("button",{onClick:F,style:ze.newDealBtn},"+ New Deal")),o.createElement("div",{style:ze.section},o.createElement("div",{style:ze.tabContainer},o.createElement("button",{onClick:()=>A("active"),style:{...ze.tab,...I==="active"?ze.activeTab:{}}},"📈 Active Deals (",Q,")"),o.createElement("button",{onClick:()=>A("completed"),style:{...ze.tab,...I==="completed"?ze.activeTab:{}}},"✅ Completed Deals (",J,")"),o.createElement("button",{onClick:()=>A("properties"),style:{...ze.tab,...I==="properties"?ze.activeTab:{}}},"🏠 Managed Properties (",u.length,")"),o.createElement("button",{onClick:()=>A("total"),style:{...ze.tab,...I==="total"?ze.activeTab:{}}},"📊 Total Deals (",s.length,")")),o.createElement("h2",{style:ze.sectionTitle},Re()),I!=="properties"?Ie.length>0?o.createElement("div",{style:ze.dealsGrid},Ie.map(W=>o.createElement("div",{key:W.id||W.dealId,style:ze.dealCard},o.createElement("div",{style:{...ze.stageBadge,backgroundColor:zh(W.stage)}},W.stage),o.createElement("h3",{style:ze.dealTitle},W.property?.title||"Property"),o.createElement("div",{style:ze.dealMeta},o.createElement("p",{style:ze.metaItem},"📍 ",W.property?.city||"Location"),o.createElement("p",{style:ze.metaItem},"👤 Buyer: ",W.buyer?.firstName||"N/A"," ",W.buyer?.lastName||""),W.agreedPrice&&o.createElement("p",{style:ze.metaItem},"💰 ₹",W.agreedPrice.toLocaleString("en-IN")),o.createElement("p",{style:ze.metaItem},"📅 ",new Date(W.createdAt).toLocaleDateString())),o.createElement("div",{style:ze.progressBar},o.createElement("div",{style:{...ze.progressFill,width:`${yT(W.stage)}%`,backgroundColor:zh(W.stage)}})),o.createElement("button",{onClick:()=>S(W),style:ze.viewDealBtn},"📋 View & Manage Deal")))):o.createElement("div",{style:ze.emptyState},o.createElement("p",null,I==="active"?"📭 No active deals yet. Create one to get started!":I==="completed"?"📭 No completed deals yet.":"📭 No deals found.")):u.length>0?o.createElement("div",{style:ze.dealsGrid},u.map(W=>o.createElement("div",{key:W.id||W.propertyId,style:ze.propertyCard},o.createElement("img",{src:W.imageUrl||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",alt:W.title,style:{...ze.propertyImage,cursor:"pointer"},onClick:()=>a(`/property/${W.id||W.propertyId}`)}),o.createElement("h3",{style:{...ze.dealTitle,padding:"12px 16px 0 16px",marginBottom:"12px"}},W.title),o.createElement("div",{style:{...ze.dealMeta,padding:"0 16px"}},o.createElement("p",{style:ze.metaItem},"💰 ₹",(W.price||0).toLocaleString("en-IN")),o.createElement("p",{style:ze.metaItem},"🛏️ ",W.bedrooms," Bed | 🚿 ",W.bathrooms," Bath"),o.createElement("p",{style:ze.metaItem},"📐 ",W.areaSqft||"N/A"," sqft"),o.createElement("p",{style:ze.metaItem},"📍 ",W.areaName||W.city)),W.isFeatured&&o.createElement("div",{style:{...ze.stageBadge,backgroundColor:"#f59e0b",marginTop:"12px",marginLeft:"16px"}},"⭐ Featured")))):o.createElement("div",{style:ze.emptyState},o.createElement("p",null,"📭 No properties managed yet."))),C&&o.createElement(N0,{onClose:()=>{console.log("Closing modal"),M(!1)},onDealCreated:()=>{console.log("Deal created"),M(!1),U()}}),O&&o.createElement(aa,{deal:O,onClose:()=>S(null),onUpdate:()=>{S(null),U()},userRole:t.role})):o.createElement("div",{style:ze.container},o.createElement("h2",null,"Please log in"))},zh=t=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[t]||"#6b7280",yT=t=>{const r=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT","COMPLETED"];return(r.indexOf(t)+1)/r.length*100},ze={container:{maxWidth:1400,margin:"0 auto",padding:"24px 32px",minHeight:"80vh",backgroundColor:"#f9fafb",marginTop:"160px"},header:{marginBottom:"32px",paddingBottom:"24px",borderBottom:"2px solid #e5e7eb"},title:{fontSize:"36px",fontWeight:"800",color:"#1e293b",margin:0,marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b",fontWeight:"500",margin:0},error:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #fca5a5"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},statCard:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",textAlign:"center",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.3s ease"},statIcon:{fontSize:"32px",marginBottom:"12px"},statLabel:{fontSize:"14px",color:"#64748b",marginBottom:"8px"},statValue:{fontSize:"28px",fontWeight:"700",color:"#1e293b"},createDealSection:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"12px",border:"1px solid #bfdbfe",marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},newDealBtn:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",whiteSpace:"nowrap",marginLeft:"12px",transition:"background 0.2s, transform 0.2s",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)"},section:{backgroundColor:"white",padding:"24px",borderRadius:"12px",marginBottom:"32px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},tabContainer:{display:"flex",gap:"12px",marginBottom:"24px",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},tab:{padding:"12px 20px",background:"#f8fafc",color:"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},activeTab:{backgroundColor:"#3b82f6",color:"white"},sectionTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},dealsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},dealCard:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"12px",border:"1px solid #e2e8f0",transition:"all 0.2s"},stageBadge:{display:"inline-block",padding:"6px 12px",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"12px"},dealTitle:{fontSize:"16px",fontWeight:"600",color:"#1e293b",margin:"0 0 12px 0"},dealMeta:{fontSize:"13px",color:"#64748b",marginBottom:"12px"},metaItem:{margin:"4px 0",lineHeight:"1.4"},progressBar:{width:"100%",height:"6px",backgroundColor:"#e2e8f0",borderRadius:"3px",overflow:"hidden",marginBottom:"12px"},progressFill:{height:"100%",transition:"width 0.3s"},viewDealBtn:{width:"100%",padding:"10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},loading:{textAlign:"center",padding:"80px 20px"},emptyState:{textAlign:"center",padding:"40px 20px",color:"#64748b",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px dashed #e2e8f0"},propertyCard:{backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden",transition:"all 0.2s",padding:"0 0 16px 0"},propertyImage:{width:"100%",height:"180px",objectFit:"cover"}},xT=()=>{const{user:t}=Gt(),[r,a]=w.useState([]),[s,c]=w.useState(!0),[u,p]=w.useState(null);w.useEffect(()=>{t?.id&&m()},[t]);const m=async()=>{try{const b=await(await fetch(`${$e}/api/deals/buyer/${t.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();b.success?a(b.data||[]):a(Array.isArray(b)?b:[])}catch(x){console.error("Error fetching buyer deals:",x)}finally{c(!1)}},g=x=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[x]||"#6b7280",h=x=>x?typeof x=="number"?x.toLocaleString("en-IN"):String(x):"N/A";return s?o.createElement("div",{style:{padding:"24px"}},"⏳ Loading your deals..."):o.createElement("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px"}},o.createElement("h1",{style:{fontSize:"28px",fontWeight:"700",marginBottom:"8px"}},"💰 My Purchase Deals"),o.createElement("p",{style:{fontSize:"16px",color:"#64748b",marginBottom:"24px"}},"Track all properties you're interested in purchasing"),r.length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"🔭"),o.createElement("p",null,"You haven't started any deals yet")):o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"}},r.map(x=>o.createElement("div",{key:x.id||x.dealId,onClick:()=>p(x),style:{padding:"20px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-4px)",b.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}},o.createElement("div",{style:{display:"inline-block",padding:"6px 12px",backgroundColor:g(x.stage||x.currentStage),color:"white",borderRadius:"6px",fontSize:"12px",fontWeight:"600",marginBottom:"12px"}},x.stage||x.currentStage),o.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"700",color:"#1e293b"}},x.propertyTitle||x.property?.title),x.agreedPrice&&o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#10b981",backgroundColor:"#ecfdf5",padding:"10px 12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #86efac"}},"💰 ₹",h(x.agreedPrice)),o.createElement("p",{style:{margin:"0 0 12px 0",fontSize:"13px",color:"#64748b"}},"📍 ",x.property?.city||x.propertyCity||"Location"),x.property?.user&&o.createElement("div",{style:{padding:"10px 12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"10px",fontSize:"13px",borderLeft:"3px solid #3b82f6"}},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}},"🏠 Seller"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b",marginTop:"2px"}},x.sellerName||`${x.property.user?.firstName} ${x.property.user?.lastName}`),o.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},"📞"," ",x.sellerMobile||x.property.user?.mobileNumber||"N/A")),x.agent&&o.createElement("div",{style:{padding:"10px 12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"10px",fontSize:"13px",borderLeft:"3px solid #8b5cf6"}},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}},"📊 Agent"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b",marginTop:"2px"}},x.agentName||`${x.agent?.firstName} ${x.agent?.lastName}`),o.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},"📧 ",x.agentEmail||x.agent?.email||"N/A")),o.createElement("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"16px"}},"Created: ",new Date(x.createdAt).toLocaleDateString()),o.createElement("button",{style:{width:"100%",padding:"10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:b=>b.target.style.backgroundColor="#2563eb",onMouseLeave:b=>b.target.style.backgroundColor="#3b82f6"},"📋 View Deal")))),u&&o.createElement(aa,{deal:u,onClose:()=>p(null),onUpdate:()=>{p(null),m()},userRole:"BUYER"}))},ET=()=>{const{user:t}=Gt(),[r,a]=w.useState({}),[s,c]=w.useState([]),[u,p]=w.useState(null),[m,g]=w.useState(!0),[h,x]=w.useState("all"),[b,v]=w.useState(null);w.useEffect(()=>{t?.id&&C()},[t?.id]);const C=async()=>{try{v(null);const P={Authorization:`Bearer ${localStorage.getItem("authToken")}`};console.log("🔍 Fetching admin deals for user:",t?.id);const K=[],ue={},he=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT"];for(const Le of he)try{console.log(`📥 Fetching stage: ${Le}`);const Ee=await fetch(`${$e}/api/deals/stage/${Le}?userId=${t.id}`,{headers:P});if(console.log(`Stage ${Le} response status:`,Ee.status),!Ee.ok){console.warn(`⚠️ Stage ${Le} failed with status ${Ee.status}`);continue}const Ye=await Ee.json();console.log(`Stage ${Le} response:`,Ye);let Ue=[];Array.isArray(Ye)?Ue=Ye:(Ye.success&&Array.isArray(Ye.data)||Ye.data&&Array.isArray(Ye.data))&&(Ue=Ye.data),Ue.length>0&&(console.log(`✅ Found ${Ue.length} deals in ${Le}`),K.push(...Ue),Ue.forEach(Ke=>{const ye=Ke.agent;if(ye){const je=`${ye.id}-${ye.firstName} ${ye.lastName}`;ue[je]||(ue[je]={agentId:ye.id,agentName:`${ye.firstName} ${ye.lastName}`,agentEmail:ye.email,agentMobile:ye.mobileNumber,deals:[]}),ue[je].deals.push(Ke)}}))}catch(Ee){console.error(`❌ Error fetching stage ${Le}:`,Ee)}console.log(`✅ Total deals loaded: ${K.length}`),console.log("Deals by agent:",ue),c(K),a(ue)}catch(P){console.error("❌ Error fetching deals:",P),v(`Error loading deals: ${P.message}`)}finally{g(!1)}},M=()=>{const P={};return Object.keys(r).forEach(K=>{const ue=r[K];let he=ue.deals;h!=="all"&&(he=he.filter(Le=>Le.stage===h)),he.length>0&&(P[K]={...ue,deals:he})}),P},O={maxWidth:"1600px",margin:"0 auto",padding:"24px"},S={fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},I={fontSize:"16px",color:"#64748b",marginBottom:"24px"},A={display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"12px",overflowX:"auto"},U=P=>({padding:"10px 20px",backgroundColor:P?"#3b82f6":"#f8fafc",color:P?"white":"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap"}),F={backgroundColor:"#f9fafb",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"2px solid #e2e8f0"},Q={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #e2e8f0"},J={fontSize:"22px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},Ie={display:"flex",gap:"16px",flexWrap:"wrap",fontSize:"13px",color:"#64748b"},Re={display:"flex",gap:"12px"},W={backgroundColor:"white",padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",textAlign:"center"},_={fontSize:"11px",color:"#64748b",fontWeight:"600",marginBottom:"4px"},fe={fontSize:"18px",fontWeight:"700",color:"#3b82f6"},ge={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},q={padding:"16px",backgroundColor:"#fef3c7",borderRadius:"12px",border:"1px solid #fcd34d",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},oe={display:"inline-block",padding:"4px 8px",backgroundColor:"#f59e0b",color:"white",borderRadius:"4px",fontSize:"11px",fontWeight:"600",marginBottom:"8px"},X={margin:"0 0 12px 0",color:"#1e293b",fontWeight:"600",fontSize:"14px"},ae={width:"100%",padding:"8px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"12px"};if(m)return o.createElement("div",{style:O},o.createElement("h2",null,"⏳ Loading deals..."));if(!t)return o.createElement("div",{style:O},o.createElement("h2",null,"❌ Please log in to view deals"));const Z=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT"],T={};Z.forEach(P=>{T[P]=s.filter(K=>K.stage===P).length});const j=M(),E=Object.keys(r).length;return o.createElement("div",{style:O},o.createElement("h1",{style:S},"⚙️ Admin Dashboard - Deal Management"),o.createElement("p",{style:I},E," Agent",E!==1?"s":""," • ",s.length," ","Total Deals"),b&&o.createElement("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",border:"1px solid #fecaca"}},"❌ ",b),o.createElement("div",{style:A},o.createElement("button",{style:U(h==="all"),onClick:()=>x("all")},"All Deals (",s.length,")"),Z.map(P=>o.createElement("button",{key:P,style:U(h===P),onClick:()=>x(P)},P," (",T[P],")"))),Object.keys(j).length===0?o.createElement("div",{style:{textAlign:"center",padding:"60px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"12px"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},"🔍"),o.createElement("p",{style:{margin:0,fontSize:"16px",fontWeight:"600"}},"No deals found")):o.createElement("div",null,Object.entries(j).map(([P,K])=>o.createElement("div",{key:P,style:F},o.createElement("div",{style:Q},o.createElement("div",null,o.createElement("h2",{style:J},"📊 ",K.agentName),o.createElement("div",{style:Ie},o.createElement("span",null,o.createElement("strong",null,"🆔 ID:")," ",K.agentId),o.createElement("span",null,o.createElement("strong",null,"📧 Email:")," ",K.agentEmail||"N/A"),o.createElement("span",null,o.createElement("strong",null,"📞 Phone:")," ",K.agentMobile||"N/A"))),o.createElement("div",{style:Re},o.createElement("div",{style:W},o.createElement("div",{style:_},"Total Deals"),o.createElement("div",{style:fe},K.deals.length)),o.createElement("div",{style:W},o.createElement("div",{style:_},"Active"),o.createElement("div",{style:fe},K.deals.filter(ue=>ue.stage!=="COMPLETED").length)),o.createElement("div",{style:W},o.createElement("div",{style:_},"Completed"),o.createElement("div",{style:fe},K.deals.filter(ue=>ue.stage==="COMPLETED").length)))),o.createElement("div",{style:ge},K.deals.map(ue=>{const he=ue.buyer,Le=ue.property?.user;return o.createElement("div",{key:ue.id,style:q,onClick:()=>p(ue),onMouseEnter:Ee=>{Ee.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",Ee.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:Ee=>{Ee.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",Ee.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:oe},ue.stage),o.createElement("h4",{style:X},"🏠 ",ue.propertyTitle||ue.property?.title),ue.agreedPrice&&o.createElement("div",{style:{padding:"8px",backgroundColor:"#dcfce7",borderRadius:"6px",marginBottom:"10px",fontSize:"14px",fontWeight:"700",color:"#065f46"}},"💰 ₹",ue.agreedPrice.toLocaleString("en-IN")),he&&o.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}},"👤 Buyer: ",he?.firstName," ",he?.lastName),he?.mobileNumber&&o.createElement("div",{style:{color:"#64748b",fontSize:"11px"}},"📞 ",he.mobileNumber)),Le&&o.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}},"🏢 Seller: ",Le.firstName," ",Le.lastName),Le.mobileNumber&&o.createElement("div",{style:{color:"#64748b",fontSize:"11px"}},"📞 ",Le.mobileNumber)),o.createElement("p",{style:{margin:"8px 0 12px 0",fontSize:"11px",color:"#64748b"}},"📅 ",new Date(ue.createdAt).toLocaleDateString()),o.createElement("button",{style:ae,onClick:Ee=>{Ee.stopPropagation(),p(ue)}},"View & Manage Deal"))}))))),u&&o.createElement(aa,{deal:u,onClose:()=>p(null),onUpdate:()=>{p(null),C()},userRole:"ADMIN"}))},bT=()=>{const{user:t}=Gt(),r=Tn(),[a,s]=w.useState([]),[c,u]=w.useState([]),[p,m]=w.useState(!0),[g,h]=w.useState(""),[x,b]=w.useState(null),[v,C]=w.useState([]),[M,O]=w.useState(!1),[S,I]=w.useState(null),[A,U]=w.useState(null),[F,Q]=w.useState(!1);w.useEffect(()=>{if(t?.role!=="ADMIN"){r("/");return}J()},[t,r]);const J=async()=>{m(!0);try{const X=await fetch(`${$e}/api/users/agents`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(X.ok){const ae=await X.json(),Z=ae.success?ae.data||[]:Array.isArray(ae)?ae:[];s(Z),Re(Z,g)}else console.error("Failed to fetch agents:",X.status),s([])}catch(X){console.error("Error fetching agents:",X),s([])}finally{m(!1)}},Ie=async X=>{O(!0);try{const ae=await fetch(`${$e}/api/deals/admin/agent/${X}?userId=${t.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(ae.ok){const Z=await ae.json(),T=Z.success?Z.data||[]:Array.isArray(Z)?Z:[];C(T)}else console.error("Failed to fetch deals:",ae.status),C([])}catch(ae){console.error("Error fetching deals:",ae),C([])}finally{O(!1)}},Re=(X,ae)=>{let Z=X;ae&&(Z=Z.filter(T=>T.firstName?.toLowerCase().includes(ae.toLowerCase())||T.lastName?.toLowerCase().includes(ae.toLowerCase())||T.email?.toLowerCase().includes(ae.toLowerCase())||T.mobileNumber?.includes(ae))),u(Z)},W=X=>{h(X),Re(a,X)},_=X=>{b(X),Ie(X.id)},fe=X=>{U({...X}),Q(!0)},ge=async()=>{try{const X=await fetch(`${$e}/api/users/${A.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(A)});if(X.ok){const Z=(await X.json()).data||A;s(a.map(T=>T.id===A.id?Z:T)),Re(a.map(T=>T.id===A.id?Z:T),g),b(Z),Q(!1),U(null),alert("Agent updated successfully!")}else alert("Failed to update agent")}catch(X){console.error("Error updating agent:",X),alert("Error updating agent")}},q=async X=>{if(window.confirm("Are you sure you want to delete this agent?"))try{(await fetch(`${$e}/api/users/${X}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok?(s(a.filter(Z=>Z.id!==X)),Re(a.filter(Z=>Z.id!==X),g),b(null),C([]),alert("Agent deleted successfully!")):alert("Failed to delete agent")}catch(ae){console.error("Error deleting agent:",ae),alert("Error deleting agent")}},oe=X=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[X]||"#6b7280";return p?o.createElement("div",{style:re.container},o.createElement("div",{style:re.loading},"⏳ Loading agents...")):o.createElement("div",{style:re.container},o.createElement("div",{style:re.header},o.createElement("h1",{style:re.title},"👥 Agent Management"),o.createElement("p",{style:re.subtitle},"Manage all agents - view, edit, and modify agent details and their deals")),o.createElement("div",{style:re.controlsSection},o.createElement("div",{style:re.searchBox},o.createElement("input",{type:"text",placeholder:"Search by name, email, or phone...",value:g,onChange:X=>W(X.target.value),style:re.searchInput}))),o.createElement("div",{style:re.mainContent},o.createElement("div",{style:re.agentsList},o.createElement("div",{style:re.agentsHeader},o.createElement("h3",null,"Agents (",c.length,")")),c.length===0?o.createElement("div",{style:re.emptyState},o.createElement("p",null,"🔍 No agents found")):o.createElement("div",{style:re.agentsGrid},c.map(X=>o.createElement("div",{key:X.id,style:{...re.agentCard,backgroundColor:x?.id===X.id?"#dbeafe":"white",borderColor:x?.id===X.id?"#3b82f6":"#e2e8f0"},onClick:()=>_(X)},o.createElement("div",{style:re.agentCardHeader},o.createElement("div",null,o.createElement("h4",{style:re.agentName},X.firstName," ",X.lastName),o.createElement("p",{style:re.agentEmail},X.email)),o.createElement("span",{style:re.roleBadge},"AGENT")),o.createElement("div",{style:re.agentInfo},o.createElement("p",null,"📱 ",X.mobileNumber||"N/A"),o.createElement("p",null,"📅 ",new Date(X.createdAt).toLocaleDateString())))))),o.createElement("div",{style:re.rightPanel},x?o.createElement(o.Fragment,null,o.createElement("div",{style:re.detailsCard},o.createElement("h2",{style:re.detailsTitle},"Agent Details"),o.createElement("div",{style:re.detailsGrid},o.createElement("div",null,o.createElement("p",{style:re.label},"First Name"),o.createElement("p",{style:re.value},x.firstName)),o.createElement("div",null,o.createElement("p",{style:re.label},"Last Name"),o.createElement("p",{style:re.value},x.lastName)),o.createElement("div",null,o.createElement("p",{style:re.label},"Email"),o.createElement("p",{style:re.value},x.email)),o.createElement("div",null,o.createElement("p",{style:re.label},"Phone"),o.createElement("p",{style:re.value},x.mobileNumber||"N/A")),o.createElement("div",null,o.createElement("p",{style:re.label},"Username"),o.createElement("p",{style:re.value},x.username||"N/A")),o.createElement("div",null,o.createElement("p",{style:re.label},"Member Since"),o.createElement("p",{style:re.value},new Date(x.createdAt).toLocaleDateString()))),x.address&&o.createElement("div",{style:re.addressSection},o.createElement("p",{style:re.label},"Address"),o.createElement("p",{style:re.value},x.address)),o.createElement("div",{style:re.statusSection},o.createElement("p",{style:re.label},"Status"),o.createElement("span",{style:{...re.statusBadge,backgroundColor:x.isActive?"#10b981":"#ef4444"}},x.isActive?"Active":"Inactive")),o.createElement("div",{style:re.actionButtons},o.createElement("button",{onClick:()=>fe(x),style:re.editBtn},"✏️ Edit Agent"),o.createElement("button",{onClick:()=>q(x.id),style:re.deleteBtn},"🗑️ Delete Agent"))),o.createElement("div",{style:re.dealsSection},o.createElement("h3",{style:re.dealsTitle},"Deals by ",x.firstName," (",v.length,")"),M?o.createElement("div",{style:re.loading},"⏳ Loading deals..."):v.length===0?o.createElement("div",{style:re.emptyDeals},o.createElement("p",null,"No deals created by this agent")):o.createElement("div",{style:re.dealsGrid},v.map(X=>o.createElement("div",{key:X.id||X.dealId,style:re.dealCard,onClick:()=>I(X),onMouseEnter:ae=>{ae.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",ae.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:ae=>{ae.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)",ae.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{...re.dealStageBadge,backgroundColor:oe(X.stage||X.currentStage)}},X.stage||X.currentStage),o.createElement("h4",{style:re.dealTitle},X.property?.title||X.propertyTitle),X.property?.city&&o.createElement("p",{style:re.dealMeta},"📍 ",X.property.city),X.buyer&&o.createElement("p",{style:re.dealMeta},"👤 Buyer: ",X.buyer.firstName," ",X.buyer.lastName),X.property?.user&&o.createElement("p",{style:re.dealMeta},"🏠 Seller: ",X.property.user.firstName," ",X.property.user.lastName),X.agreedPrice&&o.createElement("p",{style:re.dealPrice},"💰 ₹",X.agreedPrice.toLocaleString("en-IN")),o.createElement("p",{style:re.dealDate},"📅 ",new Date(X.createdAt).toLocaleDateString())))))):o.createElement("div",{style:re.emptyDetails},o.createElement("p",null,"👈 Select an agent to view details and deals")))),S&&o.createElement("div",{style:re.modal},o.createElement("div",{style:re.modalContent},o.createElement("div",{style:re.modalHeader},o.createElement("h3",null,"Deal Details"),o.createElement("button",{onClick:()=>I(null),style:re.closeBtn},"✕")),o.createElement("div",{style:re.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:re.label},"Deal Stage"),o.createElement("div",{style:{display:"inline-block",padding:"6px 12px",backgroundColor:oe(S.stage||S.currentStage),color:"white",borderRadius:"6px",fontWeight:"600",fontSize:"13px"}},S.stage||S.currentStage)),o.createElement("div",null,o.createElement("p",{style:re.label},"Created Date"),o.createElement("p",{style:re.value},new Date(S.createdAt).toLocaleDateString()))),o.createElement("div",{style:re.sectionDivider},o.createElement("h4",{style:re.sectionTitle},"Property Details"),o.createElement("div",{style:re.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:re.label},"Property Title"),o.createElement("p",{style:re.value},S.property?.title||S.propertyTitle)),S.property?.city&&o.createElement("div",null,o.createElement("p",{style:re.label},"Location"),o.createElement("p",{style:re.value},S.property.city)),S.property?.price&&o.createElement("div",null,o.createElement("p",{style:re.label},"Property Price"),o.createElement("p",{style:re.value},"₹",S.property.price.toLocaleString("en-IN"))))),S.agreedPrice&&o.createElement("div",{style:re.sectionDivider},o.createElement("h4",{style:re.sectionTitle},"Agreed Price"),o.createElement("p",{style:{fontSize:"18px",fontWeight:"700",color:"#10b981"}},"₹",S.agreedPrice.toLocaleString("en-IN"))),S.buyer&&o.createElement("div",{style:re.sectionDivider},o.createElement("h4",{style:re.sectionTitle},"Buyer Information"),o.createElement("div",{style:re.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:re.label},"Name"),o.createElement("p",{style:re.value},S.buyer.firstName," ",S.buyer.lastName)),o.createElement("div",null,o.createElement("p",{style:re.label},"Email"),o.createElement("p",{style:re.value},S.buyer.email)),o.createElement("div",null,o.createElement("p",{style:re.label},"Phone"),o.createElement("p",{style:re.value},S.buyer.mobileNumber)))),S.property?.user&&o.createElement("div",{style:re.sectionDivider},o.createElement("h4",{style:re.sectionTitle},"Seller Information"),o.createElement("div",{style:re.dealDetailsGrid},o.createElement("div",null,o.createElement("p",{style:re.label},"Name"),o.createElement("p",{style:re.value},S.property.user.firstName," ",S.property.user.lastName)),o.createElement("div",null,o.createElement("p",{style:re.label},"Email"),o.createElement("p",{style:re.value},S.property.user.email)),o.createElement("div",null,o.createElement("p",{style:re.label},"Phone"),o.createElement("p",{style:re.value},S.property.user.mobileNumber)))),S.notes&&o.createElement("div",{style:re.sectionDivider},o.createElement("h4",{style:re.sectionTitle},"Notes"),o.createElement("p",{style:re.value},S.notes)),o.createElement("div",{style:re.modalButtons},o.createElement("button",{onClick:()=>I(null),style:re.cancelBtn},"Close")))),F&&A&&o.createElement("div",{style:re.modal},o.createElement("div",{style:re.modalContent},o.createElement("div",{style:re.modalHeader},o.createElement("h3",null,"Edit Agent"),o.createElement("button",{onClick:()=>Q(!1),style:re.closeBtn},"✕")),o.createElement("div",{style:re.formGroup},o.createElement("label",null,"First Name"),o.createElement("input",{type:"text",value:A.firstName||"",onChange:X=>U({...A,firstName:X.target.value}),style:re.input})),o.createElement("div",{style:re.formGroup},o.createElement("label",null,"Last Name"),o.createElement("input",{type:"text",value:A.lastName||"",onChange:X=>U({...A,lastName:X.target.value}),style:re.input})),o.createElement("div",{style:re.formGroup},o.createElement("label",null,"Email"),o.createElement("input",{type:"email",value:A.email||"",onChange:X=>U({...A,email:X.target.value}),style:re.input})),o.createElement("div",{style:re.formGroup},o.createElement("label",null,"Phone"),o.createElement("input",{type:"tel",value:A.mobileNumber||"",onChange:X=>U({...A,mobileNumber:X.target.value}),style:re.input})),o.createElement("div",{style:re.formGroup},o.createElement("label",null,"Address"),o.createElement("textarea",{value:A.address||"",onChange:X=>U({...A,address:X.target.value}),style:re.textarea})),o.createElement("div",{style:re.formGroup},o.createElement("label",null,"Active Status"),o.createElement("select",{value:A.isActive?"true":"false",onChange:X=>U({...A,isActive:X.target.value==="true"}),style:re.input},o.createElement("option",{value:"true"},"Active"),o.createElement("option",{value:"false"},"Inactive"))),o.createElement("div",{style:re.modalButtons},o.createElement("button",{onClick:ge,style:re.saveBtn},"💾 Save Changes"),o.createElement("button",{onClick:()=>Q(!1),style:re.cancelBtn},"Cancel")))))},re={container:{maxWidth:1800,margin:"0 auto",padding:"24px 32px",minHeight:"100vh",backgroundColor:"#f8fafc",marginTop:"160px"},header:{marginBottom:"32px"},title:{fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b",margin:0},loading:{textAlign:"center",padding:"80px 20px",fontSize:"18px",color:"#64748b"},controlsSection:{marginBottom:"24px"},searchBox:{marginBottom:"16px"},searchInput:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box"},mainContent:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"24px"},agentsList:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",height:"fit-content"},agentsHeader:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #e2e8f0"},agentsGrid:{display:"flex",flexDirection:"column",gap:"12px"},agentCard:{padding:"12px",borderRadius:"8px",border:"1px solid",cursor:"pointer",transition:"all 0.2s"},agentCardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},agentName:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},agentEmail:{fontSize:"12px",color:"#64748b",margin:"4px 0 0 0"},roleBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600",backgroundColor:"#10b981"},agentInfo:{fontSize:"12px",color:"#64748b",margin:0},rightPanel:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",overflowY:"auto",maxHeight:"calc(100vh - 200px)"},detailsCard:{marginBottom:"24px",paddingBottom:"24px",borderBottom:"2px solid #e2e8f0"},detailsTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"16px"},label:{fontSize:"12px",color:"#64748b",margin:"0 0 4px 0",fontWeight:"600"},value:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},addressSection:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px"},statusSection:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px"},statusBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"12px",fontWeight:"600"},actionButtons:{display:"flex",gap:"12px",marginTop:"16px"},editBtn:{flex:1,padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},deleteBtn:{flex:1,padding:"10px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},dealsSection:{marginTop:"24px"},dealsTitle:{fontSize:"18px",fontWeight:"700",color:"#1e293b",marginBottom:"16px",margin:"0 0 16px 0"},dealsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},dealCard:{padding:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s",":hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transform:"translateY(-2px)"}},dealStageBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600",marginBottom:"8px"},dealTitle:{fontSize:"13px",fontWeight:"700",color:"#1e293b",margin:"0 0 8px 0"},dealMeta:{fontSize:"11px",color:"#64748b",margin:"4px 0"},dealPrice:{fontSize:"12px",fontWeight:"700",color:"#10b981",margin:"8px 0 4px 0"},dealDate:{fontSize:"10px",color:"#94a3b8",margin:"4px 0"},dealDetailsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"12px"},sectionDivider:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},sectionTitle:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},emptyDeals:{textAlign:"center",padding:"20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0",fontSize:"13px"},emptyDetails:{textAlign:"center",padding:"60px 20px",color:"#64748b"},emptyState:{textAlign:"center",padding:"40px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #e2e8f0"},closeBtn:{backgroundColor:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},formGroup:{marginBottom:"16px"},input:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",fontFamily:"inherit"},textarea:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",minHeight:"100px",fontFamily:"inherit"},modalButtons:{display:"flex",gap:"12px",marginTop:"20px"},saveBtn:{flex:1,padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},cancelBtn:{flex:1,padding:"10px 16px",backgroundColor:"#e2e8f0",color:"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"}},vT=()=>{const{user:t}=Gt(),[r,a]=w.useState([]),[s,c]=w.useState(!0),[u,p]=w.useState(null),[m,g]=w.useState("active");w.useEffect(()=>{t?.id&&h()},[t]);const h=async()=>{c(!0);try{const I=await(await fetch(`${$e}/api/deals/my-deals?userRole=SELLER`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();I.success?(console.log("✅ Seller deals loaded:",I.data),a(I.data||[])):(console.log("❌ Failed to load seller deals"),a([]))}catch(S){console.error("Error fetching seller deals:",S),a([])}finally{c(!1)}},x=()=>m==="active"?r.filter(S=>(S.stage||S.currentStage)!=="COMPLETED"):m==="completed"?r.filter(S=>(S.stage||S.currentStage)==="COMPLETED"):r,b=S=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[S]||"#6b7280",v=S=>S?typeof S=="number"?S.toLocaleString("en-IN"):String(S):"N/A",C=x(),M=r.filter(S=>(S.stage||S.currentStage)!=="COMPLETED").length,O=r.filter(S=>(S.stage||S.currentStage)==="COMPLETED").length;return s?o.createElement("div",{style:B.container},o.createElement("div",{style:B.loadingContainer},o.createElement("div",{style:B.spinner},"⏳"),o.createElement("h3",null,"Loading deals on your properties..."))):o.createElement("div",{style:B.container},o.createElement("div",{style:B.pageHeader},o.createElement("h1",{style:B.pageTitle},"🏠 Deals on My Properties"),o.createElement("p",{style:B.pageSubtitle},"Monitor all buyer inquiries and deals for your listed properties")),o.createElement("div",{style:Ut.filterTabsStyle},o.createElement("button",{onClick:()=>g("active"),style:{...Ut.tabStyle,...m==="active"?Ut.activeTabStyle:{}}},"📈 Active (",M,")"),o.createElement("button",{onClick:()=>g("completed"),style:{...Ut.tabStyle,...m==="completed"?Ut.activeTabStyle:{}}},"✅ Completed (",O,")"),o.createElement("button",{onClick:()=>g("all"),style:{...Ut.tabStyle,...m==="all"?Ut.activeTabStyle:{}}},"📊 All (",r.length,")")),C.length===0?o.createElement("div",{style:Ut.emptyStateStyle},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"🔭"),o.createElement("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 8px 0"}},"No Deals Yet"),o.createElement("p",{style:{color:"#64748b",margin:0}},m==="active"&&"No active deals on your properties",m==="completed"&&"No completed deals yet",m==="all"&&"No deals have been created for your properties")):o.createElement("div",{style:Ut.gridStyle},C.map(S=>o.createElement("div",{key:S.id||S.dealId,style:Ut.cardStyle,onClick:()=>p(S),onMouseEnter:I=>{I.currentTarget.style.transform="translateY(-4px)",I.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)"},onMouseLeave:I=>{I.currentTarget.style.transform="translateY(0)",I.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}},o.createElement("div",{style:{...Ut.stageBadgeStyle,backgroundColor:b(S.stage||S.currentStage)}},S.stage||S.currentStage),o.createElement("h3",{style:Ut.cardTitleStyle},S.propertyTitle||S.property?.title||"Property"),S.agreedPrice&&o.createElement("div",{style:Ut.priceDisplayStyle},"💰 ₹",v(S.agreedPrice)),S.buyer&&o.createElement("div",{style:Ut.personDetailStyle},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}},"👤 Buyer"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b"}},S.buyerName||`${S.buyer?.firstName} ${S.buyer?.lastName}`),o.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},"📞 ",S.buyerMobile||S.buyer?.mobileNumber||"N/A")),S.property?.user&&o.createElement("div",{style:Ut.personDetailStyle},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}},"🏠 Seller (You)"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b"}},S.sellerName||`${S.property.user?.firstName} ${S.property.user?.lastName}`),o.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},"📞"," ",S.sellerMobile||S.property.user?.mobileNumber||"N/A")),S.agent&&o.createElement("div",{style:Ut.personDetailStyle},o.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}},"📊 Agent"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b"}},S.agentName||`${S.agent?.firstName} ${S.agent?.lastName}`),o.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},"📧 ",S.agentEmail||S.agent?.email||"N/A")),o.createElement("div",{style:Ut.dateStyle},"Created: ",new Date(S.createdAt).toLocaleDateString()),o.createElement("button",{style:Ut.viewBtnStyle,onMouseEnter:I=>I.target.style.backgroundColor="#059669",onMouseLeave:I=>I.target.style.backgroundColor="#10b981"},"📋 View Details")))),u&&o.createElement(aa,{deal:u,onClose:()=>p(null),onUpdate:()=>{p(null),h()},userRole:"SELLER"}))},Ut={filterTabsStyle:{display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"12px",flexWrap:"wrap"},tabStyle:{padding:"10px 20px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",color:"#64748b",transition:"all 0.2s"},activeTabStyle:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},gridStyle:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},cardStyle:{padding:"20px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},stageBadgeStyle:{display:"inline-block",padding:"6px 12px",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"12px"},cardTitleStyle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},priceDisplayStyle:{fontSize:"16px",fontWeight:"700",color:"#10b981",backgroundColor:"#ecfdf5",padding:"10px 12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #86efac"},personDetailStyle:{padding:"10px 12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"10px",fontSize:"13px",display:"flex",flexDirection:"column",gap:"4px",borderLeft:"3px solid #3b82f6"},dateStyle:{fontSize:"12px",color:"#94a3b8",marginBottom:"16px"},viewBtnStyle:{width:"100%",padding:"10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},emptyStateStyle:{textAlign:"center",padding:"60px 20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"2px dashed #e2e8f0"}},de={formContainer:{backgroundColor:"white",padding:"32px",borderRadius:"16px",boxShadow:"0 8px 20px rgba(0,0,0,0.05)",border:"1px solid #e2e8f0",marginTop:"32px"},formGroup:{marginBottom:"20px"},label:{display:"block",fontWeight:600,color:"#475569",marginBottom:"8px",fontSize:"14px"},input:{width:"100%",padding:"12px 16px",fontSize:"16px",border:"1px solid #cbd5e1",borderRadius:"12px",boxSizing:"border-box",color:"#334155"},errorInput:{border:"1px solid #ef4444",boxShadow:"0 0 0 2px #fecaca"},errorMessage:{color:"#dc2626",fontSize:"12px",fontWeight:500,marginTop:"4px"},idGroup:{display:"flex",gap:"12px"},idType:{flex:"1 1 30%"},idNumber:{flex:"1 1 70%"},select:{width:"100%",padding:"12px 16px",fontSize:"16px",border:"1px solid #cbd5e1",borderRadius:"12px",boxSizing:"border-box",color:"#334155",backgroundColor:"white"},buttonGroup:{display:"flex",justifyContent:"space-between",gap:"12px",marginTop:"32px"},primaryButton:{...B.signupBtn,backgroundColor:"#667eea",color:"white",padding:"12px 24px",fontSize:"16px",fontWeight:"600",flex:1},disabledButton:{...B.signupBtn,backgroundColor:"#94a3b8",color:"white",padding:"12px 24px",fontSize:"16px",fontWeight:"600",flex:1,cursor:"not-allowed",opacity:.7},secondaryButton:{...B.loginBtn,backgroundColor:"#f1f5f9",color:"#475569",border:"1px solid #e2e8f0",padding:"12px 24px",fontSize:"16px",fontWeight:"600",flex:1},successMessage:{...B.noPropertiesContainer,border:"2px solid #10b981",backgroundColor:"#f0fdf4",color:"#065f46"},infoBox:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",padding:"16px",borderRadius:"12px",fontSize:"14px",lineHeight:"1.6",marginBottom:"20px"},infoBoxTitle:{marginTop:0,marginBottom:"10px",color:"#0369a1",fontSize:"16px",fontWeight:"700"}},Ae={container:{backgroundColor:"white",border:"1px solid #e2e8f0",padding:"50px 60px",fontFamily:"'Times New Roman', Times, serif",color:"#000",lineHeight:1.6,margin:"20px 0"},title:{textAlign:"center",fontSize:"24px",fontWeight:"bold",textTransform:"uppercase",textDecoration:"underline",marginBottom:"40px"},header:{textAlign:"center",fontSize:"14px",color:"#555",borderBottom:"1px dashed #ccc",paddingBottom:"10px",marginBottom:"30px"},paragraph:{fontSize:"16px",marginBottom:"20px",textAlign:"justify"},data:{fontWeight:"bold"},clause:{marginBottom:"25px"},clauseTitle:{fontSize:"17px",fontWeight:"bold",marginBottom:"10px"},subParagraph:{fontSize:"16px",marginBottom:"10px",textAlign:"justify",paddingLeft:"20px"},signatureBlock:{display:"flex",justifyContent:"space-between",marginTop:"60px"},witnessBlock:{marginTop:"70px",fontSize:"15px"},signature:{width:"45%",borderTop:"1px solid #000",paddingTop:"8px",fontSize:"16px"}};function Lh(t){if(t==null||t==="")return"[AMOUNT IN WORDS]";if(t=parseInt(t,10),t===0)return"Zero";const r=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],s=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],c=["","Thousand","Lakh","Crore"];let u=[],p=0;for(;t>0;){let m=t%1e3;if((p===1||p>1)&&(m=t%100),m>0){let g=[];m>=100&&(g.push(r[Math.floor(m/100)]+" Hundred"),m%=100),m>=10&&m<=19?g.push(a[m-10]):(m>=20&&(g.push(s[Math.floor(m/10)]),m%=10),m>0&&g.push(r[m])),c[p]&&g.push(c[p]),u.unshift(g.join(" "))}if(p===0?t=Math.floor(t/1e3):t=Math.floor(t/100),p++,p>=c.length)break}return u.join(" ")}const Oh=o.forwardRef(({formData:t},r)=>{const a=()=>{if(!t.startDate)return{day:"[DAY]",month:"[MONTH]",year:"[YEAR]"};try{const h=new Date(t.startDate),x=h.getDate(),b=h.toLocaleString("default",{month:"long"}),v=h.getFullYear();return{day:x,month:b,year:v}}catch{return{day:"[DAY]",month:"[MONTH]",year:"[YEAR]"}}},{day:s,month:c,year:u}=a(),p=parseInt(t.duration,10),m=t.agreementType==="Lease Agreement";let g=1;return o.createElement("div",{style:Ae.container,ref:r},o.createElement("div",{style:Ae.header},"Generated through ",o.createElement("strong",null,"Zero Brokerage Platform")),o.createElement("h1",{style:Ae.title},t.agreementType),o.createElement("p",{style:Ae.paragraph},"This ",t.agreementType," is made and entered into on this ",o.createElement("span",{style:Ae.data},s)," day of ",o.createElement("span",{style:Ae.data},c),", ",o.createElement("span",{style:Ae.data},u)),o.createElement("p",{style:Ae.paragraph},o.createElement("strong",null,"BY AND BETWEEN:")),o.createElement("p",{style:{...Ae.paragraph,paddingLeft:"20px"}},o.createElement("span",{style:Ae.data},t.ownerName||"[OWNER NAME]"),", (Phone: ",o.createElement("span",{style:Ae.data},t.ownerPhone||"[OWNER PHONE]"),", ",t.ownerIdType,": ",o.createElement("span",{style:Ae.data},t.ownerIdNumber||"[OWNER ID]"),') (Hereinafter referred to as the "',o.createElement("strong",null,"OWNER"),'" or "',m?"LESSOR":"LICENSOR",'", which expression shall unless repugnant to the context or meaning thereof mean and include their legal heirs, executors, administrators, and assigns) of the ',o.createElement("strong",null,"FIRST PART"),"."),o.createElement("p",{style:Ae.paragraph},o.createElement("strong",null,"AND")),o.createElement("p",{style:{...Ae.paragraph,paddingLeft:"20px"}},o.createElement("span",{style:Ae.data},t.tenantName||"[TENANT NAME]"),", (Phone: ",o.createElement("span",{style:Ae.data},t.tenantPhone||"[TENANT PHONE]"),", ",t.tenantIdType,": ",o.createElement("span",{style:Ae.data},t.tenantIdNumber||"[TENANT ID]"),') (Hereinafter referred to as the "',o.createElement("strong",null,"TENANT"),'" or "',m?"LESSEE":"LICENSEE",'", which expression shall unless repugnant to the context or meaning thereof mean and include their legal heirs, executors, administrators, and assigns) of the ',o.createElement("strong",null,"SECOND PART"),"."),o.createElement("p",{style:Ae.paragraph},"The Owner is the absolute and legal owner of the property situated at ",o.createElement("span",{style:Ae.data},t.propertyAddress||"[PROPERTY ADDRESS]"),' (Hereinafter referred to as the "',o.createElement("strong",null,"PREMISES"),'").'),o.createElement("p",{style:Ae.paragraph},"WHEREAS, the Tenant has requested the Owner to grant this ",m?"lease":"license"," with respect to the Premises, and the Owner has agreed to grant the same on the terms and conditions hereinafter appearing."),o.createElement("h2",{style:{...Ae.title,fontSize:"20px",textDecoration:"none",marginBottom:"30px",marginTop:"40px"}},"NOW, THIS AGREEMENT WITNESSETH AS FOLLOWS:"),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". PREMISES"),o.createElement("p",{style:Ae.paragraph},"The Owner hereby grants to the Tenant the right to occupy and use the Premises located at: ",o.createElement("span",{style:Ae.data},t.propertyAddress||"[PROPERTY ADDRESS]"),".")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". TERM"),o.createElement("p",{style:Ae.paragraph},"The term of this ",m?"lease":"agreement"," shall be for a period of ",o.createElement("span",{style:Ae.data},t.duration)," ",t.duration==="1"?"month":"months",", commencing from ",o.createElement("span",{style:Ae.data},t.startDate||"[START DATE]"),".")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". RENT / LICENSE FEE"),o.createElement("p",{style:Ae.paragraph},"The Tenant shall pay to the Owner a monthly ",m?"rent":"license fee"," of ",o.createElement("span",{style:Ae.data},"₹",t.rentAmount||"[RENT AMOUNT]")," (Rupees ",o.createElement("span",{style:Ae.data},Lh(t.rentAmount))," Only). This amount shall be payable in advance on or before the 5th day of each English calendar month.")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". SECURITY DEPOSIT"),o.createElement("p",{style:Ae.subParagraph},"A. Upon the execution of this Agreement, the Tenant shall pay the Owner an interest-free security deposit of ",o.createElement("span",{style:Ae.data},"₹",t.depositAmount||"[DEPOSIT AMOUNT]")," (Rupees ",o.createElement("span",{style:Ae.data},Lh(t.depositAmount))," Only)."),o.createElement("p",{style:Ae.subParagraph},"B. The Owner shall refund this deposit to the Tenant, free of interest, within 15 (fifteen) days of the termination of this agreement and after the Tenant has handed over vacant and peaceful possession of the Premises, subject to any deductions for unpaid rent/utilities, damages to the property (reasonable wear and tear excepted), or any breach of the terms herein.")),m&&p>=18&&parseFloat(t.incrementPercentage)>0&&o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". RENT INCREMENT"),o.createElement("p",{style:Ae.paragraph},"It is hereby agreed that the rent shall be subject to an increment of ",o.createElement("span",{style:Ae.data},t.incrementPercentage,"%")," after the completion of every 18 (eighteen) months of the term, in accordance with governing State Rent Control Laws.")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". USE OF PREMISES"),o.createElement("p",{style:Ae.paragraph},"The Premises shall be used by the Tenant strictly for private residential purposes only and for no other purpose whatsoever.")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". UTILITIES AND CHARGES"),o.createElement("p",{style:Ae.paragraph},"The Tenant shall be responsible for and shall pay all charges for electricity, water, gas, internet, and any other utilities consumed on the Premises directly to the concerned authorities.")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". TERMINATION"),o.createElement("p",{style:Ae.paragraph},"Either party may terminate this Agreement by providing 30 (thirty) days' written notice to the other party, without assigning any reason therefor.")),o.createElement("div",{style:Ae.clause},o.createElement("h3",{style:Ae.clauseTitle},g++,". GOVERNING LAW"),o.createElement("p",{style:Ae.paragraph},"This Agreement shall be governed by and construed in accordance with the laws of India. The courts in ",o.createElement("span",{style:Ae.data},t.jurisdiction||"[CITY/STATE]")," shall have exclusive jurisdiction over any disputes arising hereunder.")),o.createElement("p",{style:{...Ae.paragraph,marginTop:"50px"}},o.createElement("strong",null,"IN WITNESS WHEREOF"),", the parties have executed this Agreement on the date first above written."),o.createElement("div",{style:Ae.signatureBlock},o.createElement("div",{style:Ae.signature},o.createElement("strong",null,"(OWNER / ",m?"LESSOR":"LICENSOR",")"),o.createElement("br",null),o.createElement("br",null),o.createElement("br",null),o.createElement("span",{style:Ae.data},t.ownerName||"[OWNER NAME]")),o.createElement("div",{style:Ae.signature},o.createElement("strong",null,"(TENANT / ",m?"LESSEE":"LICENSEE",")"),o.createElement("br",null),o.createElement("br",null),o.createElement("br",null),o.createElement("span",{style:Ae.data},t.tenantName||"[TENANT NAME]"))),o.createElement("div",{style:Ae.witnessBlock},o.createElement("p",null,o.createElement("strong",null,"WITNESSES:")),o.createElement("div",{style:Ae.signatureBlock},o.createElement("div",{style:Ae.signature},o.createElement("strong",null,"1. Signature:"),o.createElement("br",null),o.createElement("strong",null,"Name:"),o.createElement("br",null),o.createElement("strong",null,"Address:")),o.createElement("div",{style:Ae.signature},o.createElement("strong",null,"2. Signature:"),o.createElement("br",null),o.createElement("strong",null,"Name:"),o.createElement("br",null),o.createElement("strong",null,"Address:")))))}),$h={ownerName:"",ownerPhone:"",ownerIdType:"Aadhaar",ownerIdNumber:"",tenantName:"",tenantPhone:"",tenantIdType:"Aadhaar",tenantIdNumber:"",propertyAddress:"",jurisdiction:"",rentAmount:"",depositAmount:"",startDate:"",duration:"11",incrementPercentage:"5",agreementType:"Rental Agreement"};function ST(){const[t,r]=w.useState(1),[a,s]=w.useState($h),[c,u]=w.useState({}),[p,m]=w.useState({}),g=w.useRef(),h=W=>{const _=/^\d{10}$/;return W?_.test(W)?"":"Must be exactly 10 numeric digits.":"Phone number is required."},x=W=>{const _=/^\d{12}$/;return W?_.test(W)?"":"Must be exactly 12 numeric digits.":"Aadhaar number is required."},b=W=>{const _=/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/;return W?_.test(W)?"":"Invalid PAN format (AAAAA1111A).":"PAN number is required."},v=(W,_)=>W?"":`${_} is required.`,C=(W,_,fe)=>{let ge="";const q=fe||a;switch(W){case"ownerName":ge=v(_,"Owner name");break;case"tenantName":ge=v(_,"Tenant name");break;case"ownerPhone":ge=h(_);break;case"tenantPhone":ge=h(_);break;case"ownerIdNumber":ge=q.ownerIdType==="Aadhaar"?x(_):b(_);break;case"tenantIdNumber":ge=q.tenantIdType==="Aadhaar"?x(_):b(_);break;case"propertyAddress":ge=v(_,"Property address");break;case"jurisdiction":ge=v(_,"Jurisdiction");break;case"rentAmount":ge=v(_,"Rent amount");break;case"depositAmount":ge=v(_,"Deposit amount");break;case"startDate":ge=v(_,"Start date");break}return u(oe=>({...oe,[W]:ge})),ge},M=W=>{const _={};let fe={};W===2?(_.ownerName=v(a.ownerName,"Owner name"),_.tenantName=v(a.tenantName,"Tenant name"),_.ownerPhone=h(a.ownerPhone),_.tenantPhone=h(a.tenantPhone),_.ownerIdNumber=a.ownerIdType==="Aadhaar"?x(a.ownerIdNumber):b(a.ownerIdNumber),_.tenantIdNumber=a.tenantIdType==="Aadhaar"?x(a.tenantIdNumber):b(a.tenantIdNumber),fe={ownerName:!0,tenantName:!0,ownerPhone:!0,tenantPhone:!0,ownerIdNumber:!0,tenantIdNumber:!0}):W===3&&(_.propertyAddress=v(a.propertyAddress,"Property address"),_.jurisdiction=v(a.jurisdiction,"Jurisdiction"),_.rentAmount=v(a.rentAmount,"Rent amount"),_.depositAmount=v(a.depositAmount,"Deposit amount"),_.startDate=v(a.startDate,"Start date"),fe={propertyAddress:!0,jurisdiction:!0,rentAmount:!0,depositAmount:!0,startDate:!0});const ge=Object.keys(_).reduce((q,oe)=>(_[oe]&&(q[oe]=_[oe]),q),{});return u(ge),m(q=>({...q,...fe})),Object.keys(ge).length===0},O=()=>!(v(a.ownerName,"")||v(a.tenantName,"")||h(a.ownerPhone)||h(a.tenantPhone)||(a.ownerIdType==="Aadhaar"?x(a.ownerIdNumber):b(a.ownerIdNumber))||(a.tenantIdType==="Aadhaar"?x(a.tenantIdNumber):b(a.tenantIdNumber))),S=()=>!(v(a.propertyAddress,"")||v(a.jurisdiction,"")||v(a.rentAmount,"")||v(a.depositAmount,"")||v(a.startDate,"")),I=W=>{let{name:_,value:fe}=W.target;if((_==="ownerPhone"||_==="tenantPhone")&&(fe=fe.replace(/\D/g,"").substring(0,10)),_==="ownerIdNumber"||_==="tenantIdNumber"){const q=_==="ownerIdNumber"?a.ownerIdType:a.tenantIdType;if(q==="Aadhaar")fe=fe.replace(/\D/g,"").substring(0,12);else if(q==="PAN"){fe=fe.toUpperCase();let oe="";fe.length>0&&(oe+=fe.substring(0,5).replace(/[^A-Z]/g,"")),fe.length>5&&(oe+=fe.substring(5,9).replace(/[^0-9]/g,"")),fe.length>9&&(oe+=fe.substring(9,10).replace(/[^A-Z]/g,"")),fe=oe}}(_==="rentAmount"||_==="depositAmount")&&(fe=fe.replace(/\D/g,""));const ge={...a,[_]:fe};if(_==="duration"){const q=parseInt(fe,10);ge.agreementType=q<=11?"Rental Agreement":"Lease Agreement"}_==="ownerIdType"&&(ge.ownerIdNumber="",p.ownerIdNumber&&C("ownerIdNumber","",ge)),_==="tenantIdType"&&(ge.tenantIdNumber="",p.tenantIdNumber&&C("tenantIdNumber","",ge)),s(ge),p[_]&&C(_,fe,ge)},A=W=>{const{name:_,value:fe}=W.target;m(ge=>({...ge,[_]:!0})),C(_,fe,a)},U=()=>{let W=!1;t===2?W=M(2):t===3?W=M(3):W=!0,W&&(u({}),r(_=>_+1))},F=()=>{u({}),r(W=>W-1)},Q=()=>{window.print()},J=W=>{W.preventDefault(),console.log("Final Agreement Data:",a),r(5)},Ie=!O(),Re=!S();return o.createElement("div",{style:{...B.container,maxWidth:"900px",margin:"40px auto",padding:"0 20px"}},o.createElement("style",null,`
          @media print {
            body * {
              visibility: hidden;
            }
            #printable-agreement, #printable-agreement * {
              visibility: visible;
            }
            #printable-agreement {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              margin: 0;
              padding: 0;
              border: none;
            }
            .no-print {
              display: none !important;
            }
          }
        `),o.createElement("h1",{className:"no-print",style:{...B.pageTitle,fontSize:"32px",marginBottom:"8px"}},"Online Rental Agreement"),o.createElement("p",{className:"no-print",style:{...B.pageSubtitle,fontSize:"16px",color:"#667eea",fontWeight:600,marginTop:0,marginBottom:"16px"}},"through ",o.createElement("strong",null,"Zero Brokerage Platform")),t===1&&o.createElement("div",{className:"no-print"},o.createElement("p",{style:{...B.pageSubtitle,fontSize:"18px",lineHeight:"1.6",marginBottom:"32px"}},"Streamline your rental process with our easy-to-use digital rental agreement service. We provide government-approved, e-stamped agreements delivered right to your doorstep."),o.createElement("div",{style:de.formContainer},o.createElement("h3",{style:{...B.sectionTitle,fontSize:"22px",margin:"0 0 20px 0"}},"Key Features:"),o.createElement("ul",{style:{listStyle:"none",paddingLeft:0,margin:0,fontSize:"16px",lineHeight:"1.7",color:"#334155"}},o.createElement("li",{style:{marginBottom:"15px",display:"flex",alignItems:"center"}},o.createElement("span",{style:{marginRight:"12px",fontSize:"20px"}},"✅"),"100% Online & Paperless Process"),o.createElement("li",{style:{marginBottom:"15px",display:"flex",alignItems:"center"}},o.createElement("span",{style:{marginRight:"12px",fontSize:"20px"}},"⚖️"),"Legally Valid & E-Stamped"),o.createElement("li",{style:{marginBottom:"15px",display:"flex",alignItems:"center"}},o.createElement("span",{style:{marginRight:"12px",fontSize:"20px"}},"🚚"),"Express Delivery Available")),o.createElement("button",{style:{...de.primaryButton,marginTop:"30px",width:"100%",flex:"none"},onClick:U},"Create Your Agreement Now"))),t===2&&o.createElement("div",{style:de.formContainer,className:"no-print"},o.createElement("h2",{style:{...B.sectionTitle,fontSize:"22px",marginTop:0}},"Step 1: Parties Information"),o.createElement("h3",{style:{...B.dropdownTitle,color:"#334155",fontSize:"16px"}},"Owner Details"),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"ownerName"},"Owner Full Name"),o.createElement("input",{style:{...de.input,...p.ownerName&&c.ownerName&&de.errorInput},type:"text",id:"ownerName",name:"ownerName",value:a.ownerName,onChange:I,onBlur:A,placeholder:"e.g., John Doe"}),p.ownerName&&c.ownerName&&o.createElement("span",{style:de.errorMessage},c.ownerName)),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"ownerPhone"},"Owner Phone Number (10 Digits)"),o.createElement("input",{style:{...de.input,...p.ownerPhone&&c.ownerPhone&&de.errorInput},type:"tel",id:"ownerPhone",name:"ownerPhone",value:a.ownerPhone,onChange:I,onBlur:A,placeholder:"e.g., 9876543210"}),p.ownerPhone&&c.ownerPhone&&o.createElement("span",{style:de.errorMessage},c.ownerPhone)),o.createElement("div",{style:de.idGroup},o.createElement("div",{style:{...de.formGroup,...de.idType}},o.createElement("label",{style:de.label,htmlFor:"ownerIdType"},"Govt. ID Type"),o.createElement("select",{style:de.select,id:"ownerIdType",name:"ownerIdType",value:a.ownerIdType,onChange:I,onBlur:A},o.createElement("option",{value:"Aadhaar"},"Aadhaar"),o.createElement("option",{value:"PAN"},"PAN"))),o.createElement("div",{style:{...de.formGroup,...de.idNumber}},o.createElement("label",{style:de.label,htmlFor:"ownerIdNumber"},"ID Number"),o.createElement("input",{style:{...de.input,...p.ownerIdNumber&&c.ownerIdNumber&&de.errorInput},type:"text",id:"ownerIdNumber",name:"ownerIdNumber",value:a.ownerIdNumber,onChange:I,onBlur:A,placeholder:a.ownerIdType==="Aadhaar"?"12-digit number":"e.g. AAAAA1111A"}),p.ownerIdNumber&&c.ownerIdNumber&&o.createElement("span",{style:de.errorMessage},c.ownerIdNumber))),o.createElement("hr",{style:{border:0,borderTop:"1px solid #eee",margin:"24px 0"}}),o.createElement("h3",{style:{...B.dropdownTitle,color:"#334155",fontSize:"16px"}},"Tenant Details"),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"tenantName"},"Tenant Full Name"),o.createElement("input",{style:{...de.input,...p.tenantName&&c.tenantName&&de.errorInput},type:"text",id:"tenantName",name:"tenantName",value:a.tenantName,onChange:I,onBlur:A,placeholder:"e.g., Jane Smith"}),p.tenantName&&c.tenantName&&o.createElement("span",{style:de.errorMessage},c.tenantName)),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"tenantPhone"},"Tenant Phone Number (10 Digits)"),o.createElement("input",{style:{...de.input,...p.tenantPhone&&c.tenantPhone&&de.errorInput},type:"tel",id:"tenantPhone",name:"tenantPhone",value:a.tenantPhone,onChange:I,onBlur:A,placeholder:"e.g., 1234567890"}),p.tenantPhone&&c.tenantPhone&&o.createElement("span",{style:de.errorMessage},c.tenantPhone)),o.createElement("div",{style:de.idGroup},o.createElement("div",{style:{...de.formGroup,...de.idType}},o.createElement("label",{style:de.label,htmlFor:"tenantIdType"},"Govt. ID Type"),o.createElement("select",{style:de.select,id:"tenantIdType",name:"tenantIdType",value:a.tenantIdType,onChange:I,onBlur:A},o.createElement("option",{value:"Aadhaar"},"Aadhaar"),o.createElement("option",{value:"PAN"},"PAN"))),o.createElement("div",{style:{...de.formGroup,...de.idNumber}},o.createElement("label",{style:de.label,htmlFor:"tenantIdNumber"},"ID Number"),o.createElement("input",{style:{...de.input,...p.tenantIdNumber&&c.tenantIdNumber&&de.errorInput},type:"text",id:"tenantIdNumber",name:"tenantIdNumber",value:a.tenantIdNumber,onChange:I,onBlur:A,placeholder:a.tenantIdType==="Aadhaar"?"12-digit number":"e.g. AAAAA1111A"}),p.tenantIdNumber&&c.tenantIdNumber&&o.createElement("span",{style:de.errorMessage},c.tenantIdNumber))),o.createElement("div",{style:de.buttonGroup},o.createElement("button",{type:"button",style:{...de.secondaryButton,flex:"0 1 auto"},onClick:()=>r(1)},"Back"),o.createElement("button",{type:"button",style:Ie?de.disabledButton:{...de.primaryButton,flex:"1 1 auto"},onClick:U,disabled:Ie},"Next: Property Details"))),t===3&&o.createElement("div",{style:de.formContainer,className:"no-print"},o.createElement("h2",{style:{...B.sectionTitle,fontSize:"22px",marginTop:0}},"Step 2: Property & Terms"),o.createElement("div",{style:de.infoBox},o.createElement("h4",{style:de.infoBoxTitle},"📄 Agreement Type Note:"),o.createElement("p",{style:{margin:0}},"Agreements up to 11 months are typically considered 'Rental Agreements'. Agreements for 12 months or longer are often treated as 'Lease Agreements' and may require registration and potentially different stamp duty depending on state laws.")),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"propertyAddress"},"Property Address"),o.createElement("input",{style:{...de.input,...p.propertyAddress&&c.propertyAddress&&de.errorInput},type:"text",id:"propertyAddress",name:"propertyAddress",value:a.propertyAddress,onChange:I,onBlur:A,placeholder:"Full address of the rental property"}),p.propertyAddress&&c.propertyAddress&&o.createElement("span",{style:de.errorMessage},c.propertyAddress)),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"jurisdiction"},"Jurisdiction (City/State)"),o.createElement("input",{style:{...de.input,...p.jurisdiction&&c.jurisdiction&&de.errorInput},type:"text",id:"jurisdiction",name:"jurisdiction",value:a.jurisdiction,onChange:I,onBlur:A,placeholder:"e.g., Hyderabad, Telangana"}),p.jurisdiction&&c.jurisdiction&&o.createElement("span",{style:de.errorMessage},c.jurisdiction)),o.createElement("div",{style:{display:"flex",gap:"12px"}},o.createElement("div",{style:{...de.formGroup,flex:1}},o.createElement("label",{style:de.label,htmlFor:"rentAmount"},"Monthly Rent (₹)"),o.createElement("input",{style:{...de.input,...p.rentAmount&&c.rentAmount&&de.errorInput},type:"tel",id:"rentAmount",name:"rentAmount",value:a.rentAmount,onChange:I,onBlur:A,placeholder:"e.g., 15000"}),p.rentAmount&&c.rentAmount&&o.createElement("span",{style:de.errorMessage},c.rentAmount)),o.createElement("div",{style:{...de.formGroup,flex:1}},o.createElement("label",{style:de.label,htmlFor:"depositAmount"},"Security Deposit (₹)"),o.createElement("input",{style:{...de.input,...p.depositAmount&&c.depositAmount&&de.errorInput},type:"tel",id:"depositAmount",name:"depositAmount",value:a.depositAmount,onChange:I,onBlur:A,placeholder:"e.g., 30000"}),p.depositAmount&&c.depositAmount&&o.createElement("span",{style:de.errorMessage},c.depositAmount))),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"startDate"},"Agreement Start Date"),o.createElement("input",{style:{...de.input,...p.startDate&&c.startDate&&de.errorInput},type:"date",id:"startDate",name:"startDate",value:a.startDate,onChange:I,onBlur:A}),p.startDate&&c.startDate&&o.createElement("span",{style:de.errorMessage},c.startDate)),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"duration"},"Agreement Duration"),o.createElement("select",{style:de.select,id:"duration",name:"duration",value:a.duration,onChange:I,onBlur:A},Array.from({length:60},(W,_)=>_+1).map(W=>o.createElement("option",{key:W,value:W},W," ",W===1?"Month":"Months",W===12&&" (1 Year)",W===24&&" (2 Years)",W===36&&" (3 Years)",W===48&&" (4 Years)",W===60&&" (5 Years)")))),o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label},"Agreement Type (Determined by Duration)"),o.createElement("input",{style:{...de.input,backgroundColor:"#f8fafc",color:"#334155",fontWeight:"bold"},type:"text",value:a.agreementType,disabled:!0})),a.agreementType==="Lease Agreement"&&parseInt(a.duration,10)>=18&&o.createElement("div",{style:de.formGroup},o.createElement("label",{style:de.label,htmlFor:"incrementPercentage"},"Rent Increment (%) after 18 Months"),o.createElement("input",{style:de.input,type:"number",id:"incrementPercentage",name:"incrementPercentage",value:a.incrementPercentage,onChange:I,onBlur:A,placeholder:"e.g., 5"})),o.createElement("div",{style:de.buttonGroup},o.createElement("button",{type:"button",style:{...de.secondaryButton,flex:"0 1 auto"},onClick:F},"Back"),o.createElement("button",{type:"button",style:Re?de.disabledButton:{...de.primaryButton,flex:"1 1 auto"},onClick:U,disabled:Re},"Next: Review & Print"))),t===4&&o.createElement("form",{onSubmit:J},o.createElement("h2",{style:{...B.sectionTitle,fontSize:"22px",marginTop:0},className:"no-print"},"Step 3: Review & Print Agreement"),o.createElement("p",{style:{...B.pageSubtitle,marginTop:"-16px",marginBottom:"24px"},className:"no-print"},"Review the agreement below. You can print it or save it as a PDF before submitting."),o.createElement("div",{id:"printable-agreement"},o.createElement(Oh,{formData:a,ref:g})),o.createElement("div",{style:de.buttonGroup,className:"no-print"},o.createElement("button",{type:"button",style:de.secondaryButton,onClick:F},"Back"),o.createElement("button",{type:"button",style:{...de.secondaryButton,...B.postBtn},onClick:Q},"🖨️ Print/Save as PDF"),o.createElement("button",{type:"submit",style:de.primaryButton},"Submit Agreement"))),t===5&&o.createElement("div",null,o.createElement("div",{style:de.successMessage,className:"no-print"},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"🎉"),o.createElement("h2",{style:{...B.emptyTitle,color:"inherit"}},"Agreement Submitted!"),o.createElement("p",{style:{...B.emptyText,color:"inherit",maxWidth:"550px",margin:"0 auto 24px auto"}},"The ",a.agreementType," between",o.createElement("strong",{style:{color:"#047857"}}," ",a.ownerName," "),"(Owner) and",o.createElement("strong",{style:{color:"#047857"}}," ",a.tenantName," "),"(Tenant) has been successfully created. Thank you for using ",o.createElement("strong",null,"Zero Brokerage Platform"),"!"),o.createElement("div",{style:{...de.buttonGroup,maxWidth:"500px",margin:"0 auto"}},o.createElement("button",{style:de.secondaryButton,onClick:Q},"Download Duplicate"),o.createElement("button",{style:{...de.primaryButton,backgroundColor:"#059669"},onClick:()=>{r(1),s($h),u({}),m({})}},"Create Another Agreement"))),o.createElement("div",{style:{display:"none"}},o.createElement("div",{id:"printable-agreement-duplicate"}," ",o.createElement(Oh,{formData:a,ref:g})))))}function wT(){const[t,r]=w.useState([]),[a,s]=w.useState(!0),[c,u]=w.useState(null),p=Tn();return w.useEffect(()=>{console.log("Loading agreements from localStorage..."),s(!0),u(null);try{const m=localStorage.getItem("myAgreements"),g=m?JSON.parse(m):[];console.log("Found locally stored agreements:",g),r(g)}catch(m){console.error("Error loading agreements from localStorage:",m),u("Could not load locally stored agreements. Data might be corrupted."),r([])}finally{s(!1)}},[]),a?o.createElement("div",{style:{...B.container,...B.loadingContainer}},o.createElement("div",{style:B.spinner}),o.createElement("p",null,"Loading your agreements")):c?o.createElement("div",{style:{...B.container,...B.errorContainer}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"⚠️"),o.createElement("p",{style:{fontWeight:"600"}},"Could not load agreements"),o.createElement("p",{style:{fontSize:"14px",color:"#b91c1c"}},c)):o.createElement("div",{style:B.container},o.createElement("div",{style:B.pageHeader},o.createElement("h1",{style:B.pageTitle},"My Agreements"),o.createElement("p",{style:B.pageSubtitle},"Rental and Lease agreements created by you (Saved Locally).")),t.length===0?o.createElement("div",{style:B.noPropertiesContainer},o.createElement("p",{style:B.noPropertiesText},"You haven't created any rental agreements yet."),o.createElement("button",{style:B.primaryButton||B.signupBtn,onClick:()=>p("/rental-agreement")},"Create Your First Agreement")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},t.map(m=>o.createElement("div",{key:m.agreementId,style:br.card},o.createElement("div",{style:br.header},o.createElement("h2",{style:br.title},m.agreementType," #"," ",m.agreementId?m.agreementId.substring(6):"N/A"),o.createElement("span",{style:{...br.statusBadge,...m.status==="ACTIVE"?br.activeStatus:br.inactiveStatus}},m.status||"N/A")),o.createElement("div",{style:br.detailsGrid},o.createElement(qa,{label:"Owner",value:m.ownerName}),o.createElement(qa,{label:"Tenant",value:m.tenantName}),o.createElement(qa,{label:"Property",value:m.propertyAddressShort||m.propertyAddress||"N/A",span:2}),o.createElement(qa,{label:"Start Date",value:m.startDate?new Date(m.startDate).toLocaleDateString():"N/A"}),o.createElement(qa,{label:"Duration",value:`${m.durationMonths||m.duration} months`}))))))}const qa=({label:t,value:r,span:a=1})=>o.createElement("div",{style:{gridColumn:`span ${a}`}},o.createElement("p",{style:br.detailLabel},t,":"),o.createElement("p",{style:br.detailValue},r||"N/A")),br={card:{border:"1px solid #e2e8f0",padding:"20px 25px",borderRadius:"12px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #f1f5f9",paddingBottom:"10px",marginBottom:"15px"},title:{marginTop:0,marginBottom:0,fontSize:"18px",color:B.sectionTitle?B.sectionTitle.color:"#1e293b",fontWeight:600},statusBadge:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},activeStatus:{backgroundColor:"#dcfce7",color:"#166534"},inactiveStatus:{backgroundColor:"#f1f5f9",color:"#475569"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px 20px"},detailLabel:{margin:"0 0 2px 0",fontSize:"13px",color:"#64748b",fontWeight:500},detailValue:{margin:0,fontSize:"15px",color:"#334155",fontWeight:500}};function kT(){const t=Tn(),[r,a]=w.useState(!1),[s,c]=w.useState(!1),[u,p]=w.useState(!1),[m,g]=w.useState(!1),{isAuthenticated:h,user:x,logout:b}=Gt();w.useEffect(()=>{o1()},[]);const v=()=>{c(!1),t("/my-properties")},C=()=>{h?c(!0):a(!0)};return o.createElement("div",{style:B.app},o.createElement(cT,{onLoginClick:()=>a(!0),onSignupClick:()=>p(!0),onPostPropertyClick:C,onProfileClick:()=>g(!0)}),o.createElement(Cb,null,o.createElement(Bt,{path:"/",element:o.createElement(mT,null)}),o.createElement(Bt,{path:"/search",element:o.createElement(gT,null)}),o.createElement(Bt,{path:"/property/:id",element:o.createElement(pT,null)}),o.createElement(Bt,{path:"/property-type/:listingType/:propertyType",element:o.createElement(Dh,null)}),o.createElement(Bt,{path:"/area/:areaName",element:o.createElement(Dh,null)}),o.createElement(Bt,{path:"/my-properties",element:o.createElement(Bh,{onPostPropertyClick:C})}),o.createElement(Bt,{path:"/dashboard",element:o.createElement(Bh,{onPostPropertyClick:C})}),o.createElement(Bt,{path:"/my-deals",element:o.createElement(ET,null)}),o.createElement(Bt,{path:"/buyer-deals",element:o.createElement(xT,null)}),o.createElement(Bt,{path:"/seller-deals",element:o.createElement(vT,null)}),o.createElement(Bt,{path:"/agent-dashboard",element:o.createElement(hT,null)}),o.createElement(Bt,{path:"/admin-deals",element:o.createElement(sT,null)}),o.createElement(Bt,{path:"/admin-agents",element:o.createElement(bT,null)}),o.createElement(Bt,{path:"/admin-users",element:o.createElement(lT,null)}),o.createElement(Bt,{path:"/rental-agreement",element:o.createElement(ST,null)}),o.createElement(Bt,{path:"/my-agreements",element:o.createElement(wT,null)}),o.createElement(Bt,{path:"/owner-plans",element:o.createElement(Mh,{title:"Owner Plans"})}),o.createElement(Bt,{path:"/home-renovation",element:o.createElement(Mh,{title:"Home Interior/Renovation"})})),r&&o.createElement(i1,{onClose:()=>a(!1)}),s&&o.createElement(KC,{onClose:()=>c(!1),onPropertyPosted:v}),u&&o.createElement(eT,{onClose:()=>p(!1)}),m&&o.createElement(rT,{user:x,onClose:()=>g(!1),logout:b}))}function CT(){return o.createElement(qb,null,o.createElement(ay,null,o.createElement(kT,null)))}const TT=document.getElementById("root"),AT=zE.createRoot(TT);AT.render(o.createElement(o.StrictMode,null,o.createElement(ay,null,o.createElement(CT,null))));
